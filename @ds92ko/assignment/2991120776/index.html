<div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_7th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">7기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_7th/@ds92ko/" data-discover="true">ds92ko<!-- --> 님의 상세페이지</a> ＞ <!-- -->[2팀 고다솜] Chapter2-1. 프레임워크 없이 SPA 만들기</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_7th_chapter2-1/pull/13" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[2팀 고다솜] Chapter2-1. 프레임워크 없이 SPA 만들기</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->ds92ko</span><span>2025.11.08</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-체크포인트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-체크포인트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 체크포인트</h2>
<h3 id="배포-링크"><a class="anchor" aria-hidden="true" tabindex="-1" href="#배포-링크"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>배포 링크</h3>
<!-- -->
<p><a href="https://ds92ko.github.io/front_7th_chapter2-1/">https://ds92ko.github.io/front_7th_chapter2-1/</a></p>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<h4 id="상품목록"><a class="anchor" aria-hidden="true" tabindex="-1" href="#상품목록"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>상품목록</h4>
<p><strong>상품 목록 로딩</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 페이지 접속 시 로딩 상태가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 데이터 로드 완료 후 상품 목록이 렌더링된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 로딩 실패 시 에러 상태가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 에러 발생 시 재시도 버튼이 제공된다</li>
</ul>
<p><strong>상품 목록 조회</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 상품의 기본 정보(이미지, 상품명, 가격)가 카드 형태로 표시된다</li>
</ul>
<p><strong>한 페이지에 보여질 상품 수 선택</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 드롭다운에서 10, 20, 50, 100개 중 선택할 수 있으며 기본 값은 20개 이다.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 선택 변경 시 즉시 목록에 반영된다</li>
</ul>
<p><strong>상품 정렬 기능</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품을 가격순/이름순으로 오름차순/내림차순 정렬을 할 수 있다.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 드롭다운을 통해 정렬 기준을 선택할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 정렬 변경 시 즉시 목록에 반영된다</li>
</ul>
<p><strong>무한 스크롤 페이지네이션</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 페이지 하단 근처 도달 시 다음 페이지 데이터가 자동 로드된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 스크롤에 따라 계속해서 새로운 상품들이 목록에 추가된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새 데이터 로드 중일 때 로딩 인디케이터와 스켈레톤 UI가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 홈 페이지에서만 무한 스크롤이 활성화된다</li>
</ul>
<p><strong>상품을 장바구니에 담기</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 상품에 장바구니 추가 버튼이 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 버튼 클릭 시 해당 상품이 장바구니에 추가된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 추가 완료 시 사용자에게 알림이 표시된다</li>
</ul>
<p><strong>상품 검색</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품명 기반 검색을 위한 텍스트 입력 필드가 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> Enter 키로 검색이 수행된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 검색어와 일치하는 상품들만 목록에 표시된다</li>
</ul>
<p><strong>카테고리 선택</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 사용 가능한 카테고리들을 선택할 수 있는 UI가 제공된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 선택된 카테고리에 해당하는 상품들만 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 전체 상품 보기로 돌아갈 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 2단계 카테고리 구조를 지원한다 (1depth, 2depth)</li>
</ul>
<p><strong>카테고리 네비게이션</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 현재 선택된 카테고리 경로가 브레드크럼으로 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 브레드크럼의 각 단계를 클릭하여 상위 카테고리로 이동할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> &quot;전체&quot; &gt; &quot;1depth 카테고리&quot; &gt; &quot;2depth 카테고리&quot; 형태로 표시된다</li>
</ul>
<p><strong>현재 상품 수 표시</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 현재 조건에서 조회된 총 상품 수가 화면에 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 검색이나 필터 적용 시 상품 수가 실시간으로 업데이트된다</li>
</ul>
<h4 id="장바구니"><a class="anchor" aria-hidden="true" tabindex="-1" href="#장바구니"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>장바구니</h4>
<p><strong>장바구니 모달</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니 아이콘 클릭 시 모달 형태로 장바구니가 열린다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> X 버튼이나 배경 클릭으로 모달을 닫을 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> ESC 키로 모달을 닫을 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 모달에서 장바구니의 모든 기능을 사용할 수 있다</li>
</ul>
<p><strong>장바구니 수량 조절</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 장바구니 상품의 수량을 증가할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 장바구니 상품의 수량을 감소할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 수량 변경 시 총 금액이 실시간으로 업데이트된다</li>
</ul>
<p><strong>장바구니 삭제</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 상품에 삭제 버튼이 배치되어 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 삭제 버튼 클릭 시 해당 상품이 장바구니에서 제거된다</li>
</ul>
<p><strong>장바구니 선택 삭제</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 상품에 선택을 위한 체크박스가 제공된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 선택 삭제 버튼이 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 체크된 상품들만 일괄 삭제된다</li>
</ul>
<p><strong>장바구니 전체 선택</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 모든 상품을 한 번에 선택할 수 있는 마스터 체크박스가 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 전체 선택 시 모든 상품의 체크박스가 선택된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 전체 해제 시 모든 상품의 체크박스가 해제된다</li>
</ul>
<p><strong>장바구니 비우기</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니에 있는 모든 상품을 한 번에 삭제할 수 있다</li>
</ul>
<h4 id="상품-상세"><a class="anchor" aria-hidden="true" tabindex="-1" href="#상품-상세"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>상품 상세</h4>
<p><strong>상품 클릭시 상세 페이지 이동</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 목록에서 상품 이미지나 상품 정보 클릭 시 상세 페이지로 이동한다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> URL이 <code>/product/{productId}</code> 형태로 변경된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품의 자세한 정보가 전용 페이지에서 표시된다</li>
</ul>
<p><strong>상품 상세 페이지 기능</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 이미지, 설명, 가격 등의 상세 정보가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 전체 화면을 활용한 상세 정보 레이아웃이 제공된다</li>
</ul>
<p><strong>상품 상세 - 장바구니 담기</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 상세 페이지에서 해당 상품을 장바구니에 추가할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 페이지 내에서 수량을 선택하여 장바구니에 추가할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 수량 증가/감소 버튼이 제공된다</li>
</ul>
<p><strong>관련 상품 기능</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 상세 페이지에서 관련 상품들이 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 같은 카테고리(category2)의 다른 상품들이 관련 상품으로 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 관련 상품 클릭 시 해당 상품의 상세 페이지로 이동한다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 현재 보고 있는 상품은 관련 상품에서 제외된다</li>
</ul>
<p><strong>상품 상세 페이지 내 네비게이션</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 상세에서 상품 목록으로 돌아가는 버튼이 제공된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 브레드크럼을 통해 카테고리별 상품 목록으로 이동할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> SPA 방식으로 페이지 간 이동이 부드럽게 처리된다</li>
</ul>
<h4 id="사용자-피드백-시스템"><a class="anchor" aria-hidden="true" tabindex="-1" href="#사용자-피드백-시스템"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>사용자 피드백 시스템</h4>
<p><strong>토스트 메시지</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니 추가 시 성공 메시지가 토스트로 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니 삭제, 선택 삭제, 전체 삭제 시 알림 메시지가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 토스트는 3초 후 자동으로 사라진다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 토스트에 닫기 버튼이 제공된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 토스트 타입별로 다른 스타일이 적용된다 (success, info, error)</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<h4 id="spa-네비게이션-및-url-관리"><a class="anchor" aria-hidden="true" tabindex="-1" href="#spa-네비게이션-및-url-관리"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>SPA 네비게이션 및 URL 관리</h4>
<p><strong>페이지 이동</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 어플리케이션 내의 모든 페이지 이동(뒤로가기/앞으로가기를 포함)은 하여 새로고침이 발생하지 않아야 한다.</li>
</ul>
<p><strong>상품 목록 - URL 쿼리 반영</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 검색어가 URL 쿼리 파라미터에 저장된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 카테고리 선택이 URL 쿼리 파라미터에 저장된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 옵션이 URL 쿼리 파라미터에 저장된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 정렬 조건이 URL 쿼리 파라미터에 저장된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 조건 변경 시 URL이 자동으로 업데이트된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> URL을 통해 현재 검색/필터 상태를 공유할 수 있다</li>
</ul>
<p><strong>상품 목록 - 새로고침 시 상태 유지</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후 URL 쿼리에서 검색어가 복원된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후 URL 쿼리에서 카테고리가 복원된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후 URL 쿼리에서 옵션 설정이 복원된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후 URL 쿼리에서 정렬 조건이 복원된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 복원된 조건에 맞는 상품 데이터가 다시 로드된다</li>
</ul>
<p><strong>장바구니 - 새로고침 시 데이터 유지</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니 내용이 브라우저에 저장된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후에도 이전 장바구니 내용이 유지된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니의 선택 상태도 함께 유지된다</li>
</ul>
<p><strong>상품 상세 - URL에 ID 반영</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 상세 페이지 이동 시 상품 ID가 URL 경로에 포함된다 (<code>/product/{productId}</code>)</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> URL로 직접 접근 시 해당 상품의 상세 페이지가 자동으로 로드된다</li>
</ul>
<p><strong>상품 상세 - 새로고침시 유지</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후에도 URL의 상품 ID를 읽어서 해당 상품 상세 페이지가 유지된다</li>
</ul>
<p><strong>404 페이지</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 존재하지 않는 경로 접근 시 404 에러 페이지가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 홈으로 돌아가기 버튼이 제공된다</li>
</ul>
<h4 id="ai로-한-번-더-구현하기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ai로-한-번-더-구현하기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>AI로 한 번 더 구현하기</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 기존에 구현한 기능을 AI로 다시 구현한다.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 이 과정에서 직접 가공하는 것은 최대한 지양한다.</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<!-- -->
<p>이번 과제를 진행하면서 왜 프로그래밍에 &quot;언어&quot;라는 표현을 쓰는지 깊이 체감했습니다.
외국어를 전공한, 말 그대로 뼛속까지 &quot;문송합니다&quot;인 저에게는 자연어와 프로그래밍 언어 사이의 공통점이 유난히 많이 보였습니다.
언어를 학습할 때 단순히 단어를 많이 외우거나 문장을 통째로 암기하는 것만으로는 한계가 있습니다.
그 언어를 사용하는 문화권에 대한 이해, 역사 속에서 언어가 변화해 온 과정, 그리고 문법이라는 구조적 체계를 함께 이해해야 비로소 효율적인 습득이 가능합니다.
그래야 응용도 가능하고 스스로 새로운 표현을 유추해낼 수 있으며, 활용 범위도 기하급수적으로 넓어집니다.</p>
<p>프로그래밍 언어도 동일하다고 느꼈습니다.
JavaScript가 어떤 배경에서 탄생했고, 어떤 철학과 설계 원칙을 기반으로 발전해 왔는지, 웹 기술의 흐름 속에서 왜 React가 등장했는지, 그리고 그것이 어떤 문제를 해결하기 위해 만들어졌는지를 이해하는 일은 단순한 문법 암기보다 훨씬 중요했습니다.
핵심 개념과 동작 원리를 깊이 있게 이해해야 응용력이 생기고, React 같은 프레임워크의 내부 구조도 더 명확히 바라볼 수 있으며, 문제가 생겼을 때도 근본적인 원인을 찾을 수 있습니다.
새로운 라이브러리나 프레임워크를 배울 때도 훨씬 빠르게 적응할 수 있다고 느꼈습니다.</p>
<p>이 과정에서 저는 그동안 가장 중요한 부분을 이해하지 않은 채 문법만 외우고 &quot;구현만 되면 된다&quot;는 방식으로 개발해 왔음을 스스로 돌아보게 되었습니다.
자연어 학습에 비유하자면, 저는 마치 단어만 잔뜩 외우고 표현을 통으로 외워 따라 쓰는 수준에 머물러 있었습니다.
기술 면접에 대비하기 위해 개념을 &quot;암기&quot;하긴 했지만, 정작 깊이있는 &quot;이해&quot;는 부족했던 상태였습니다.</p>
<p>SPA를 직접 구현해 본 이번 경험은 단순한 기능 구현을 넘어, &quot;언어를 이해하는 방식으로 프로그래밍을 바라봐야 한다&quot;는 중요한 관점을 다시 떠올리게 해주었습니다.
앞으로는 기능을 빠르게 만드는 데에만 집중하는 것이 아니라, 기술이 만들어진 배경과 원리를 이해하고 제 것으로 만드는 데 더 많은 시간을 들이려고 합니다.
이번 경험이 개발자로서 제 학습 방식과 사고 방식을 한 단계 성장시키는 계기가 되었다고 느낍니다.</p>
<h3 id="기술적-성장"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기술적-성장"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기술적 성장</h3>
<!-- -->
<p>이번 과제를 진행하면서 가장 중요하게 생각했던 목표는 &quot;내가 구현한 부분만큼은 확실히 이해하고 넘어가기&quot;였습니다.
일주일 남짓한 짧은 기간 안에 JavaScript의 동작 원리나 SPA 구조 전체를 완전히 소화하는 건 현실적으로 어렵기 때문에 준일 코치님의 블로그를 참고해 컴포넌트와 스토어 구조를 설계하고 그것을 이해하는 데 집중했습니다.
라우터와 더불어 이 두 가지를 직접 구현하는 과정에서 여러 개념들이 자연스럽게 연결되기 시작했습니다.</p>
<ol>
<li>
<p>컴포넌트 구조를 직접 만들며 배운 점</p>
<p>처음에는 React처럼 함수형 컴포넌트를 흉내 내서 구현하려고 했지만, 상태 관리나 생명주기 흐름이 정리가 되지 않아 구조가 빠르게 복잡해졌습니다.
그래서 블로그를 참고해 클래스 기반 컴포넌트 구조로 방향을 전환했고, 이 선택이 전체 흐름을 이해하는 데 가장 큰 도움이 됐습니다.</p>
<ul>
<li>setup → render → mounted → unmounted 같은 생명주기를 직접 나눠보며 React가 왜 생명주기를 분리해야만 했는지 자연스럽게 이해할 수 있었습니다.</li>
<li>초기에 각 컴포넌트 내부에서 이벤트를 개별로 등록하는 방식을 사용했는데, 페이지 규모가 커질수록 이벤트 핸들러가 중복되고, 관리 포인트가 늘어나면서 구조가 더 복잡해졌습니다. 이후 이벤트 처리를 상위 레벨에서 한 번만 위임하는 방식으로 바꿔 이벤트 흐름을 단순화하고 유지보수성을 확보했습니다. 이 과정을 통해 React가 이벤트를 document 레벨에서 일괄 관리하는 이유가 자연스럽게 이해됐습니다.</li>
<li>Proxy를 이용해 간단한 반응형 구조를 만들면서 &quot;상태를 읽을 때 구독이 등록되고, 변경되면 다시 렌더링되는 흐름&quot;을 구현할 수 있었고 이는 자연스럽게 React의 동작 방식과 연결되었습니다.</li>
</ul>
<p>프레임워크에서는 &quot;당연히 되는 일&quot;을 직접 만들어보면서 &quot;왜 이런 구조가 필요한가&quot;를 몸소 이해할 수 있었던 경험이었습니다.</p>
</li>
<li>
<p>Store를 설계하며 느낀 점</p>
<p>초기에는 단순한 전역 상태 객체만 두고 시작했지만, 컴포넌트와 상태가 연결되자마자 곧바로 &quot;이건 구조적 접근이 필요하겠구나&quot;라는 걸 깨달았습니다.
그래서 블로그에서 접한 Redux 패턴을 참고해 스토어를 구성했습니다.</p>
<ul>
<li>reducer 구조를 만들며 상태 변경을 단방향으로 흐르게 해야 예측 가능해지는 이유를 직접 이해했습니다.</li>
<li>Proxy 기반 observable 패턴을 적용해 &quot;상태 접근 → 자동 구독 → 상태 변경 시 리렌더링&quot; 흐름을 완성할 수 있었습니다.</li>
<li>상태 동결을 위해 frozenState를 만들면서 getter 기반 객체가 JSON.stringify가 안 되는 문제를 처음 경험했습니다. JSON.stringify는 enumerable한 own property만 직렬화하고, getter는 &quot;값&quot;이 아닌 &quot;접근자&quot;이기 때문에 기본적으로 직렬화 대상에 포함되지 않는다는 것을 알게 되었습니다. 이를 해결하기 위해 별도의 직렬화 유틸을 만들어보는 경험도 할 수 있었습니다.</li>
</ul>
<p>이 과정을 거치며 &quot;상태 관리가 왜 이렇게 설계되어야 하는지&quot;, React가 불변성과 단방향 데이터 흐름을 왜 강조하는지를 작은 규모라도 직접 맛볼 수 있었습니다.</p>
</li>
<li>
<p>라우터 구현을 통해 잡힌 SPA의 원리</p>
<p>History API로 라우터를 직접 구현하다 보니, SPA가 화면 전환을 어떻게 흉내 내는지 흐름이 명확하게 보였습니다.</p>
<ul>
<li>pushState, replaceState, popstate를 다루면서 브라우저 히스토리 스택과 JavaScript가 어떻게 연결되는지 이해할 수 있었습니다.</li>
<li>:id 형태의 라우트 파라미터 매칭 로직을 직접 구현해보며 실제 라우터가 내부적으로 어떤 절차를 거치는지도 감이 잡혔습니다.</li>
<li>페이지 전환 시 이전 컴포넌트를 명확히 destroy하지 않으면 이벤트 핸들러가 중복되거나 DOM 객체가 계속 남는 문제가 발생할 수 있어, 이를 해결하며 프레임워크가 생명주기 관리를 왜 엄격히 하는지 깨달았습니다.</li>
</ul>
<p>그동안 라우터를 &quot;페이지를 바꿔주는 역할&quot; 정도로만 생각했는데, 직접 만들어보니 SPA 구조 전체를 지탱하는 핵심 요소라는 걸 알게 됐습니다.</p>
</li>
</ol>
<h3 id="자랑하고-싶은-코드"><a class="anchor" aria-hidden="true" tabindex="-1" href="#자랑하고-싶은-코드"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>자랑하고 싶은 코드</h3>
<!-- -->
<ol>
<li>
<p>Router 컴포넌트 생명주기 관리</p>
<p>페이지 전환 시 이전 컴포넌트의 destroy를 호출하고, $root.innerHTML을 초기화한 후 새 컴포넌트를 마운트하는 방식으로 생명주기를 관리했습니다.
이를 통해 이벤트 리스너나 타이머 같은 리소스가 남지 않아 메모리 누수를 방지할 수 있었고, 전체 동작이 예측 가능해졌습니다.
덕분에 React Router가 내부적으로 컴포넌트를 마운트/언마운트하는 방식과 생명주기 관리의 중요성을 이해하는 데 도움이 되었습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// src/core/router.js</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name">Router</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token spread operator">...</span>
</span><span class="code-line">  <span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$root</span><span class="token punctuation">)</span> <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentPageInstance</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentPageInstance</span><span class="token punctuation">.</span><span class="token property-access">destroy</span> <span class="token operator">===</span> <span class="token string">&#x27;function&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentPageInstance</span><span class="token punctuation">.</span><span class="token method function property-access">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentPageInstance</span> <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> match <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">_resolveRoute</span><span class="token punctuation">(</span><span class="token dom variable">location</span><span class="token punctuation">.</span><span class="token property-access">pathname</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$root</span><span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> $placeholder <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;div&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$root</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>$placeholder<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentPageInstance</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Layout</span><span class="token punctuation">(</span>$placeholder<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token maybe-class-name">NotFound</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> route<span class="token punctuation">,</span> params <span class="token punctuation">}</span> <span class="token operator">=</span> match<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token maybe-class-name">PageComponent</span><span class="token punctuation">,</span> layout <span class="token punctuation">}</span> <span class="token operator">=</span> route<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>layout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentPageInstance</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Layout</span><span class="token punctuation">(</span>$placeholder<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token maybe-class-name">PageComponent</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentPageInstance</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PageComponent</span><span class="token punctuation">(</span>$placeholder<span class="token punctuation">,</span> <span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentRoute</span> <span class="token operator">=</span> route<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token spread operator">...</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// src/core/router.js

export class Router {
  ...
  render() {
    if (!this.$root) return;

    if (this.currentPageInstance &amp;&amp; typeof this.currentPageInstance.destroy === &#x27;function&#x27;) {
      this.currentPageInstance.destroy();
    }
    this.currentPageInstance = null;

    const match = this._resolveRoute(location.pathname);

    this.$root.innerHTML = &#x27;&#x27;;
    const $placeholder = document.createElement(&#x27;div&#x27;);
    this.$root.appendChild($placeholder);

    if (!match) {
      this.currentPageInstance = new Layout($placeholder, { children: NotFound });
      return;
    }

    const { route, params } = match;
    const { component: PageComponent, layout } = route;

    if (layout) {
      this.currentPageInstance = new Layout($placeholder, {
        children: PageComponent,
        props: { params },
      });
    } else {
      this.currentPageInstance = new PageComponent($placeholder, { params });
    }

    this.currentRoute = route;
  }
  ...
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</li>
<li>
<p>EventDelegator 클래스 - 이벤트 위임 패턴</p>
<p>각 컴포넌트마다 이벤트 리스너를 등록하지 않고, document 레벨에서 이벤트를 위임하는 방식으로 구현했습니다.
덕분에 메모리를 효율적으로 사용하면서, 동적으로 생성되는 요소에도 자동으로 이벤트가 바인딩되도록 만들 수 있었습니다.
이벤트를 등록하고 해제하는 로직도 register 메서드가 반환하는 해제 함수 하나로 처리되도록 해서, 실수로 메모리가 누수되는 일을 예방할 수 있었습니다.
React가 내부적으로 SyntheticEvent를 사용하는 이유를 조금 더 이해할 수 있는 계기가 되었습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// src/core/component.js</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">class</span> <span class="token class-name">EventDelegator</span> <span class="token punctuation">{</span>
</span><span class="code-line">  _eventHandlers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  _documentHandlers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">register</span><span class="token punctuation">(</span><span class="token parameter">eventType<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> component<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_eventHandlers</span><span class="token punctuation">.</span><span class="token method function property-access">has</span><span class="token punctuation">(</span>eventType<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_eventHandlers</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">_handleEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_documentHandlers</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> binding <span class="token operator">=</span> <span class="token punctuation">{</span> selector<span class="token punctuation">,</span> component<span class="token punctuation">,</span> callback <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_eventHandlers</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>eventType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span>binding<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> handlers <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_eventHandlers</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>eventType<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>handlers<span class="token punctuation">)</span> <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
</span><span class="code-line">      handlers<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span>binding<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>handlers<span class="token punctuation">.</span><span class="token property-access">size</span><span class="token punctuation">)</span> <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_documentHandlers</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>eventType<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">removeEventListener</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_documentHandlers</span><span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span>eventType<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">_eventHandlers</span><span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span>eventType<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">_handleEvent</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// src/core/component.js

class EventDelegator {
  _eventHandlers = new Map();
  _documentHandlers = new Map();

  register(eventType, selector, component, callback) {
    if (!this._eventHandlers.has(eventType)) {
      this._eventHandlers.set(eventType, new Set());

      const handler = (event) =&gt; this._handleEvent(event);
      this._documentHandlers.set(eventType, handler);
      document.addEventListener(eventType, handler, true);
    }

    const binding = { selector, component, callback };
    this._eventHandlers.get(eventType).add(binding);

    return () =&gt; {
      const handlers = this._eventHandlers.get(eventType);

      if (!handlers) return;
      handlers.delete(binding);

      if (!handlers.size) return;
      const handler = this._documentHandlers.get(eventType);

      if (handler) {
        document.removeEventListener(eventType, handler, true);
        this._documentHandlers.delete(eventType);
      }
      this._eventHandlers.delete(eventType);
    };
  }

  _handleEvent(event) {...}
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</li>
<li>
<p>Observer 패턴의 debounceFrame</p>
<p>상태가 동시에 여러 번 변경될 때 불필요한 렌더링을 막기 위해 requestAnimationFrame을 이용한 debounce를 적용했습니다.
단순히 setTimeout으로 처리하는 것보다 브라우저의 리페인트 사이클과 동기화되기 때문에 UI가 조금 더 부드럽게 업데이트되고, 간단하게 성능 최적화를 적용할 수 있었습니다.
이를 통해 React가 배치 업데이트를 사용하는 이유를 직접 체감할 수 있었습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// src/core/observer.js</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">debounceFrame</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> currentCallback <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">cancelAnimationFrame</span><span class="token punctuation">(</span>currentCallback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    currentCallback <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// src/core/observer.js

const debounceFrame = (callback) =&gt; {
  let currentCallback = -1;
  return () =&gt; {
    cancelAnimationFrame(currentCallback);
    currentCallback = requestAnimationFrame(callback);
  };
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</li>
</ol>
<h3 id="개선이-필요하다고-생각하는-코드"><a class="anchor" aria-hidden="true" tabindex="-1" href="#개선이-필요하다고-생각하는-코드"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>개선이 필요하다고 생각하는 코드</h3>
<!-- -->
<ol>
<li>
<p>컴포넌트 라이프사이클 훅의 확장성</p>
<p>현재 컴포넌트는 setup → render → mounted → unmounted 생명주기만 있어서, props가 바뀌면 항상 재생성됩니다.
구현 과정에서 이 구조가 단순하고 이해하기는 좋았지만, props 변경을 감지하고 필요한 경우만 업데이트할 수 있으면 더 효율적일 것 같다는 아쉬움이 남았습니다.
나중에 확장할 수 있도록 훅 구조를 조금 더 유연하게 설계하면 좋겠다는 생각이 들었습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">class</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
</span><span class="code-line">  $target<span class="token punctuation">;</span>
</span><span class="code-line">  props<span class="token punctuation">;</span>
</span><span class="code-line">  state<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token spread operator">...</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token method function property-access">constructor</span><span class="token punctuation">(</span><span class="token parameter">$target<span class="token punctuation">,</span> props <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$target</span> <span class="token operator">=</span> $target<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">props</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token function">unmounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">template</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> templateResult <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">template</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> templateString <span class="token operator">=</span> <span class="token keyword">typeof</span> templateResult <span class="token operator">===</span> <span class="token string">&#x27;string&#x27;</span> <span class="token operator">?</span> templateResult<span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">   <span class="token spread operator">...</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">setEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token spread operator">...</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token method function property-access">setState</span><span class="token punctuation">(</span><span class="token parameter">newState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>newState <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">unmounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token spread operator">...</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export default class Component {
  $target;
  props;
  state;
  ...

  constructor($target, props = {}) {
    this.$target = $target;
    this.props = props;
    this.setup();

    observe(() =&gt; {
      this.render();
    });

    this.setEvent();
  }

  setup() {}
  mounted() {}
  unmounted() {...}

  template() {
    return &#x27;&#x27;;
  }

  render() {
    const templateResult = this.template();
    const templateString = typeof templateResult === &#x27;string&#x27; ? templateResult.trim() : &#x27;&#x27;;
   ...
    this.mounted();
  }

  setEvent() {}

  ...

  setState(newState) {
    this.state = { ...this.state, ...newState };
    this.render();
  }

  destroy() {
    this.unmounted();
    ...
  }
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</li>
<li>
<p>ProductList의 필터 변경 감지 로직</p>
<p>필터 변경 감지에 JSON.stringify를 사용했는데, 필터가 많아지거나 객체 구조가 복잡해지면 성능에 부담이 될 수도 있겠다는 생각이 들었습니다.
또한 필터 변경과 데이터 페칭 로직이 한 메서드 안에 섞여 있어서, 단일 책임 원칙을 고려해 분리하면 더 명확해질 것 같습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// src/pages/home/components/ProductList.js</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">async</span> <span class="token function">fetchProducts</span><span class="token punctuation">(</span><span class="token parameter">reset <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> newFilters <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">getCurrentFilters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> filtersChanged <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>newFilters<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentFilters</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> shouldReset <span class="token operator">=</span> reset <span class="token operator">||</span> filtersChanged<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>shouldReset<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentFilters</span> <span class="token operator">=</span> newFilters<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">removeUrlParams</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;current&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token literal-property property">products</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">pagination</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">filters</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">current</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">loading</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">pagination</span><span class="token operator">?.</span>hasNext<span class="token punctuation">)</span> <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token keyword null nil">null</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> products<span class="token punctuation">,</span> pagination<span class="token punctuation">,</span> filters <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">getProducts</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token spread operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentFilters</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">current</span><span class="token operator">:</span> shouldReset <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token literal-property property">products</span><span class="token operator">:</span> shouldReset <span class="token operator">?</span> products <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">products</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>products<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      pagination<span class="token punctuation">,</span>
</span><span class="code-line">      filters<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">current</span><span class="token operator">:</span> pagination<span class="token punctuation">.</span><span class="token property-access">page</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">error</span><span class="token operator">:</span> error<span class="token operator">?.</span>message <span class="token operator">||</span> <span class="token string">&#x27;Failed to fetch&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// src/pages/home/components/ProductList.js

async fetchProducts(reset = false) {
  const newFilters = this.getCurrentFilters();
  const filtersChanged = JSON.stringify(newFilters) !== JSON.stringify(this.currentFilters);
  const shouldReset = reset || filtersChanged;

  if (shouldReset) {
    this.currentFilters = newFilters;
    removeUrlParams([&#x27;current&#x27;]);
    this.setState({
      products: [],
      pagination: null,
      filters: null,
      current: 1,
      loading: true,
      error: null,
    });
  } else {
    if (this.state.loading || !this.state.pagination?.hasNext) return;
    this.setState({ loading: true, error: null });
  }

  try {
    const { products, pagination, filters } = await getProducts({
      ...this.currentFilters,
      current: shouldReset ? 1 : this.state.current,
    });

    this.setState({
      products: shouldReset ? products : [...this.state.products, ...products],
      pagination,
      filters,
      current: pagination.page,
      loading: false,
      error: null,
    });
  } catch (error) {
    this.setState({
      loading: false,
      error: error?.message || &#x27;Failed to fetch&#x27;,
    });
  }
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</li>
<li>
<p>Observer 패턴의 구독 해제</p>
<p>컴포넌트에서 observe를 통해 자동으로 구독을 등록했지만, 제거 시에 명시적으로 해제하지 않았습니다.
현재로서는 큰 문제는 없지만, 구독이 계속 쌓이면 메모리 누수가 발생할 가능성이 있다고 판단했습니다.
이를 방지하기 위해 구독 해제 로직을 추가하는 것이 보다 안전하다고 생각했습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// src/core/component.js</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">class</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token spread operator">...</span>
</span><span class="code-line">  <span class="token method function property-access">constructor</span><span class="token punctuation">(</span><span class="token parameter">$target<span class="token punctuation">,</span> props <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$target</span> <span class="token operator">=</span> $target<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">props</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  
</span><span class="code-line">    <span class="token spread operator">...</span><span class="token punctuation">.</span>
</span><span class="code-line">    <span class="token method function property-access">observe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// src/core/component.js

export default class Component {
  ...
  constructor($target, props = {}) {
    this.$target = $target;
    this.props = props;
    this.setup();
  
    ....
    observe(() =&gt; {
      this.render();
    });

    this.setEvent();
  }
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</li>
</ol>
<h3 id="학습-효과-분석"><a class="anchor" aria-hidden="true" tabindex="-1" href="#학습-효과-분석"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>학습 효과 분석</h3>
<!-- -->
<ol>
<li>
<p>컴포넌트 라이프사이클의 본질적 이해</p>
<p>클래스 기반 컴포넌트 구조를 직접 구현하면서, setup → render → mounted → unmounted 생명주기를 나눠보고 각 단계에서 수행해야 할 작업과 리소스 정리 과정을 체험했습니다.
이 과정에서 React가 왜 생명주기를 명확히 정의하고 cleanup 함수를 제공하는지, 컴포넌트 상태와 DOM이 어떻게 실행 컨텍스트와 렉시컬 환경에 의존하는지 깊이 이해할 수 있었습니다.
함수형 컴포넌트에서 시작했다가 클래스 기반으로 전환하면서 생명주기 관리의 복잡성을 직접 체감한 경험이 큰 수확이었습니다.</p>
</li>
<li>
<p>라우터 설계와 추상화</p>
<p>History API를 활용해 직접 라우터를 구현하면서 SPA의 화면 전환 원리를 명확히 이해했습니다.
동적 라우트 파라미터, BASE_PATH 처리, 404 페이지 처리 등을 Router 클래스로 통합하면서, JavaScript의 유연성이 복잡한 라우팅 로직을 단순하게 만드는 방법을 체험했습니다.
또한 페이지 전환 시 컴포넌트의 생명주기를 고려해야 한다는 점을 배우며, 라우터가 SPA 전체 흐름을 관리하는 핵심 요소임을 이해했습니다.</p>
</li>
<li>
<p>Store 설계와 상태 관리의 근본 원리</p>
<p>Redux 스타일 Store를 직접 구현하며 상태 관리의 핵심 원칙을 체득했습니다.
frozenState와 observable을 활용해 읽기 전용 상태를 반응형으로 구현하고, reducer 패턴으로 단방향 데이터 흐름을 유지하면서 상태 변경의 예측 가능성을 경험했습니다.
이를 통해 React가 불변성과 단방향 데이터 흐름을 강조하는 이유를 작은 규모로나마 직접 확인할 수 있었습니다.</p>
</li>
<li>
<p>Observer 패턴과 반응형 시스템</p>
<p>Proxy 기반 observable과 observe 함수를 구현하면서, 상태 접근 시 자동으로 구독이 등록되고 변경 시 컴포넌트가 다시 렌더링되는 흐름을 체험했습니다.
이 과정에서 JavaScript의 클로저와 스코프 개념이 반응형 시스템의 기반이 되는 방식을 이해했고, requestAnimationFrame을 활용한 배치 업데이트 구현으로 React의 성능 최적화 원리까지 연결해 볼 수 있었습니다.</p>
</li>
<li>
<p>이벤트 위임과 관리 효율성</p>
<p>초기에는 각 컴포넌트 내부에서 이벤트를 개별로 등록했지만, 이벤트 위임 방식으로 전환하면서 이벤트 관리가 단순해지고 유지보수성이 향상됨을 체감했습니다.
이를 통해 React가 document 레벨에서 이벤트를 일괄 처리하는 이유와 이벤트 버블링/캡처링 메커니즘을 이해할 수 있었습니다.</p>
</li>
</ol>
<h3 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h3>
<!-- -->
<p>이번 과제는 핵심 개념을 직접 구현해보는 과정에서 구조적 사고를 훈련할 수 있었다는 점이 가장 큰 장점이었습니다.
History API, 컴포넌트 생명주기, 상태 관리 흐름처럼 평소에는 프레임워크가 대신 처리해주는 부분을 스스로 설계하고 구현해보면서 동작 원리를 자연스럽게 이해할 수 있었습니다. 또한 각 개념이 서로 어떻게 맞물려 전체 SPA 구조를 이루는지를 직접 체감할 수 있어 학습 효과가 높았습니다.</p>
<p>다만 과제 브랜치를 오래 유지하다 보니 upstream에 변경 사항이 자주 반영되면서 충돌이 반복적으로 발생했고, 이를 병합하고 정리하는 데 적지 않은 시간이 들었습니다.
충돌 자체는 개발 과정에서 흔한 일이지만, 변경 주기가 짧은 저장소에서 과제를 진행하다 보니 작업 흐름이 자주 끊겨 아쉬움이 남았습니다.</p>
<h3 id="ai-활용-경험-공유하기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ai-활용-경험-공유하기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>AI 활용 경험 공유하기</h3>
  <!-- -->
<p>이번 과제에서는 지난 테스트 챕터 때 친해진 Cursor AI를 동료 개발자나 페어 프로그래밍 파트너처럼 활용했습니다.
구현 전에는 AI와 설계 방향을 논의하며 각 선택의 장단점과 트레이드오프를 비교했고, 논의한 내용을 바탕으로 제가 직접 코드를 작성했습니다.
이후 완성된 코드를 AI에게 리뷰받아 잠재적인 문제점과 개선점을 확인했습니다.</p>
<ol>
<li>
<p>구현 전 방향성 논의
라우터를 구현할 때, 같은 페이지 타입에서 파라미터만 바뀌는 경우 컴포넌트를 재생성할지 재사용할지 고민했습니다.
AI와 논의하면서 각각의 장단점을 명확히 이해할 수 있었습니다.
재생성 방식의 경우 기존 상태와 의존성 문제 없이 항상 초기 상태에서 시작하므로 안정적이지만, 페이지 전환 시 매번 인스턴스를 생성하기 때문에 성능 비용이 발생합니다.
반면 재사용 방식은 상태를 유지할 수 있고 성능 최적화가 가능하지만, 파라미터 변경 시 상태 관리와 업데이트 로직이 복잡해져 버그 가능성이 증가합니다.
이 과정에서 저는 이번 주차의 학습 목표와 안정성을 우선시해 재생성 방식을 선택했습니다.</p>
</li>
<li>
<p>직접 개발 단계
논의를 기반으로 Router를 재생성 방식으로 구현했습니다.
페이지 전환 시 이전 페이지 인스턴스의 destroy를 호출하고, $root.innerHTML = &#x27;&#x27;로 DOM을 초기화한 뒤 새로 렌더링하는 구조를 직접 작성하며, History API를 활용한 클라이언트 사이드 라우팅과 컴포넌트 생명주기 관리의 통합을 경험했습니다.</p>
</li>
<li>
<p>코드 리뷰 단계
구현한 Router를 AI에게 검토받으며, 추후 성능 최적화를 위해서는 컴포넌트를 재사용하고 상태 유지가 가능한 형태로 확장 가능성을 열어두면 좋겠다는 피드백을 받았습니다.
그래서 현재 구조를 유지하면서도, 페이지 인스턴스를 재사용할 수 있도록 destroy와 렌더링 로직을 분리하고, 향후 상태 유지 및 재사용이 가능하도록 일부 구조를 리팩토링했습니다.</p>
</li>
</ol>
<p><strong>AI를 통한 학습 효과</strong></p>
<ul>
<li>방향성 논의의 가치: 구현 전에 장단점과 트레이드오프를 명확히 이해함으로써 학습 깊이를 높일 수 있었습니다.</li>
<li>직접 개발의 중요성: 논의한 내용을 직접 코드로 구현하면서 각 설계 결정의 이유와 트레이드오프를 몸으로 체감할 수 있었습니다.</li>
<li>코드 리뷰의 효과: 잠재적인 문제점과 개선점을 발견하고, 성능과 안정성을 고려한 설계를 학습할 수 있었습니다.</li>
<li>동료 개발자로서의 AI 경험: 단순한 도구가 아니라, 함께 논의하고 학습하는 동료 개발자처럼 활용함으로써 라우터, 컴포넌트 생명주기, 상태 관리 등 과제의 핵심 개념을 보다 근본적으로 이해할 수 있었습니다.</li>
</ul>
<h2 id="리뷰-받고-싶은-내용"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용</h2>
<!-- -->
<p>children 렌더링 방식과 관련해 여쭙고 싶습니다.</p>
<p>초기에는 slot 기반으로 children을 렌더링하는 구조를 사용했습니다.
하지만 slot이 DOM을 “보존”하는 방식이 아니라 렌더링 시점에 “교체”하는 방식으로 동작하다 보니 문제가 생겼습니다. 모달이나 토스트처럼 독립적인 생명주기를 가진 컴포넌트를 DOM에 추가했다가 제거하면, 부모가 다시 렌더링될 때 slot 영역도 함께 교체되면서 해당 컴포넌트가 예상치 않게 사라지는 상황이 발생했습니다.</p>
<p>이를 피하기 위해 현재는 data-container 속성을 사용해 children을 삽입할 때와 교체 렌더링할 때를 분기 처리하는 방식으로 구현했습니다. 기능적으로는 동작하지만, 규칙이 늘어나고 구조가 복잡해지는 점이 아쉽습니다.</p>
<p>slot 기반 렌더링을 유지하면서도, 모달·토스트처럼 부모 렌더링에 종속되어서는 안 되는 컴포넌트를 자연스럽게 다룰 수 있는 더 나은 접근 방식이 있을까요?
또는 slot을 쓰지 않는 다른 패턴 중 제가 고려하지 못한 방법이 있다면 조언 주시면 감사하겠습니다.</p></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>수고했어요 다솜! 프레임워크 없이 SPA를 직접 만들어보면서 React가 왜 그렇게 설계되었는지 간접적으로나마 체험하는 시간이 되었기를 바랍니다.</p>
<p>프로그래밍 언어를 자연어 학습에 비유한 통찰이 정말 인상깊었어요. 지식을 이해하는 것과 그것을 깨닮음으로 내것이 되는 경험을 하는 것은 차이가 크지요. 안다는 것의 발전으로 체득한다라는게 개발을 학습할 때 정말 중요한 부분이니까요. 이번 과제에서 &quot;구현만 되면 된다&quot;에서 &quot;왜 이렇게 만들어졌나&quot;를 고민하게 되면서 더 큰 범위의 앎을 경험했을거라 기대합니다.</p>
<p>코드를 보니 컴포넌트 생명주기를 직접 나눠보고, 이벤트 위임 패턴을 만들어보고, Store를 설계해보면서 React가 왜 그런 선택을 했는지 프레임워크에서는 당연히 되는 일들을 직접 만들어보면서 왜 이런 구조가 필요한가를 잘 체험했다 보입니다.</p>
<p>객체의 변경을 감지 할때 JSON.stringify 말고 shallow equal 같은 방법도 한번 시도해보세요. Observer에도 구독 해제 로직 추가해보는 거 좋은 연습이 될 거예요. 필요한 핵심 기능을 아주 초창기 SPA 프레임워크처럼 잘 구성했네요. 잘했습니다. 이 중에서 현대 프레임워크는 어느 부분까지 추상화 아래로 숨길 수 있었고 그 내부 기능이 어떻게 생겼을지 추상화 아래로 감추기 위해서 어떻게 고민을 했을지도 생각해보는 시간이 되기를 바래요.</p>
<p>Q) slot 기반 렌더링을 유지하면서도, 모달·토스트처럼 부모 렌더링에 종속되어서는 안 되는 컴포넌트를 자연스럽게 다룰 수 있는 더 나은 접근 방식이 있을까요?</p>
<p>=&gt; 다솜의 의도했던건 slot의 영역이 자리만 차지하는 placeholder의 역할만 하고 자식 컴포넌트와 완전히 교체를 했으면 좋겠는데 그러면 다음번 업데이트시 업데이트 위치를 알 수 없다보니 부득이하게 data-slot와 data-container를 분리해서 자리가 유지되는 data-container를 만들고 고민을 했군요. 맞아요. DOM 렌더링 방식이 아니라 교체를 하기 위해서는 반드시 그려져야할 자리가 필요하죠. 이러한 교체식을 택한 프레임워크들은 CommentNode나 빈 TextNode, 혹은 templateNode를 생성하여 placeholder의 방식을 택하는 경우가 많습니다. 눈에 보이지 않은 노드를 생성해서 자리를 잡아두면 이후에는 그 노드 이전에 데이터를 추가하거나 교체하는 방식으로 만들 수가 있죠.</p>
<p>=&gt; React의 경우는 교체식이 아니라 렌더링 방식을 택하게 되니 그냥 텍스트와 Node와 slot의 차이없이 일관된 방식으로 그려내는 식을 택하긴 했습니다. 이는 근본적으로 SPA의 접근 방식이 다른 부분입니다. 직접 교체를 하는 방식이 성능적으로도 구현상으로도 이득이지만 복잡해지는 게 맞고 렌더링 방식은 일관된 방식으로 그려낼 수 있지만 그에 따른 트레이드 오프가 있는 것이죠.</p>
<p>AI 활용 방식도 좋았습니다. 논의하고 직접 만들고 리뷰받는 방식, 이게 맞는 거예요. 이런 식으로 계속 활용해보세요.</p>
<p>앞으로도 기능을 빠르게 만드는 데에만 집중하지 말고, 기술이 만들어진 배경과 원리를 이해하는 데 시간을 들이세요. 이번처럼 직접 만들어보는 경험이 있으면 다음 React 챕터에서는 내부 동작이 훨씬 명확하게 보일 거예요. 새로운 라이브러리나 프레임워크를 배울 때도 빠르게 적응할 수 있을 겁니다. 수고많았습니다!</p></div></div><div class="mt-9"></div></div></main></div></div></div>
    <title>[2팀 고다솜] Chapter2-1. 프레임워크 없이 SPA 만들기 - 고다솜 | 항해플러스 프론트엔드 7기</title>
    <meta name="description" content=" [항해플러스 프론트엔드 7기] 고다솜님이 제출한 [2팀 고다솜] Chapter2-1. 프레임워크 없이 SPA 만들기 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="keywords" content="항해플러스, 프론트엔드, 개발자교육, React, TypeScript, JavaScript, 기술면접, 웹개발, 고다솜, [2팀 고다솜] Chapter2-1. 프레임워크 없이 SPA 만들기, 과제상세, 코드리뷰, 피드백, Pull Request" />
    <meta property="og:title" content="[2팀 고다솜] Chapter2-1. 프레임워크 없이 SPA 만들기 - 고다솜 | 항해플러스 프론트엔드 7기" />
    <meta property="og:description" content=" [항해플러스 프론트엔드 7기] 고다솜님이 제출한 [2팀 고다솜] Chapter2-1. 프레임워크 없이 SPA 만들기 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta property="og:image" content="/defaultThumbnail.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="[2팀 고다솜] Chapter2-1. 프레임워크 없이 SPA 만들기 - 고다솜 | 항해플러스 프론트엔드 7기" />
    <meta name="twitter:description" content=" [항해플러스 프론트엔드 7기] 고다솜님이 제출한 [2팀 고다솜] Chapter2-1. 프레임워크 없이 SPA 만들기 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="twitter:image" content="/defaultThumbnail.jpg" />
  <!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/front_7th/favicon.ico"/>
  <!--app-head-->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6J8QP7YK1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-6J8QP7YK1E');
  </script>
  <script type="module" crossorigin src="/front_7th/assets/index-C-edMQf_.js"></script>
  <link rel="stylesheet" crossorigin href="/front_7th/assets/index-B1cXSvNG.css">
</head>
<body>
<div id="root"><!--app-html--></div>
</body>
</html>
