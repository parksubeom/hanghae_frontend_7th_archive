<div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_7th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">7기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_7th/@hanseul524/" data-discover="true">hanseul524<!-- --> 님의 상세페이지</a> ＞ <!-- -->[4팀 정한슬] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 </h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_7th_chapter3-2/pull/38" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[4팀 정한슬] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 </h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->hanseul524</span><span>2025.12.02</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제의-핵심취지"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제의-핵심취지"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제의 핵심취지</h2>
<ul>
<li>React의 hook 이해하기</li>
<li>함수형 프로그래밍에 대한 이해</li>
<li>액션과 순수함수의 분리</li>
</ul>
<h2 id="과제에서-꼭-알아가길-바라는-점"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제에서-꼭-알아가길-바라는-점"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제에서 꼭 알아가길 바라는 점</h2>
<ul>
<li>엔티티를 다루는 상태와 그렇지 않은 상태 - cart, isCartFull vs isShowPopup</li>
<li>엔티티를 다루는 컴포넌트와 훅 - CartItemView, useCart(), useProduct()</li>
<li>엔티티를 다루지 않는 컴포넌트와 훅 - Button, useRoute, useEvent 등</li>
<li>엔티티를 다루는 함수와 그렇지 않은 함수 - calculateCartTotal(cart) vs capaitalize(str)</li>
</ul>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li>
<p>Component에서 비즈니스 로직을 분리하기</p>
</li>
<li>
<p>비즈니스 로직에서 특정 엔티티만 다루는 계산을 분리하기</p>
</li>
<li>
<p>뷰데이터와 엔티티데이터의 분리에 대한 이해</p>
</li>
<li>
<p>entities -&gt; features -&gt; UI 계층에 대한 이해</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 함수는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 Component와 UI를 다루는 Component는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 데이터 흐름에 맞는 계층구조를 이루고 의존성이 맞게 작성이 되었나요?</p>
</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<ul class="contains-task-list">
<li>
<p>이번 심화과제는 Context나 Jotai를 사용해서 Props drilling을 없애는 것입니다.</p>
</li>
<li>
<p>어떤 props는 남겨야 하는지, 어떤 props는 제거해야 하는지에 대한 기준을 세워보세요.</p>
</li>
<li>
<p>Context나 Jotai를 사용하여 상태를 관리하는 방법을 익히고, 이를 통해 컴포넌트 간의 데이터 전달을 효율적으로 처리할 수 있습니다.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Context나 Jotai를 사용해서 전역상태관리를 구축했나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 전역상태관리를 통해 domain custom hook을 적절하게 리팩토링 했나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 도메인 컴포넌트에 도메인 props는 남기고 props drilling을 유발하는 불필요한 props는 잘 제거했나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 전체적으로 분리와 재조립이 더 수월해진 결합도가 낮아진 코드가 되었나요?</p>
</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<p><a href="https://hanseul524.github.io/front_7th_chapter3-2/">https://hanseul524.github.io/front_7th_chapter3-2/</a>
굉장히 시간이 많이 들고 고민을 많이 하게 되는 과제 였습니다. basic을 진행할 때 부터 뭔가 명확하게 제 자신 스스로 기준이 안서는것 같아서 이랬다 저랬다 하면서 찾아갔던 것 같습니다 ... 일단 기준을 뚜렷하게 세운 뒤 그 기준을 따라가야 길을 잃지 않고 과제를 할 수 있다고 생각했습니다 ^^ .. 저는 사실 전역 상태관리를 써본적이 없어서 basic이 제가 공부했던 디폴트 값이였는데 advanced를 하면서 역체감을 하게 되서 공부가 많이 됬습니다.</p>
<p><strong>폴더구조</strong>
힌트로 주신 구조를 기반으로 추가로 필요한 폴더를 추가하는 방식으로 진행했습니다. 페이지 컴포넌트와 재사용 가능한 컴포넌트를 분리해 페이지 → 하위 컴포넌트가 함께 위치하도록 했습니다.
이렇게 하면 페이지 수정 시 파일을 찾기 쉽고 해당 페이지에 기능 추가시 컴포넌트 파일의 위치가 명확해집니다.</p>
<pre><code class="code-highlight"><span class="code-line">src/basic/
</span><span class="code-line">├── components/       # 컴포넌트들
</span><span class="code-line">│   └── ui/           # 재사용 가능한 UI 컴포넌트
</span><span class="code-line">├── hooks/            # 커스텀 훅
</span><span class="code-line">├── models/           # 비즈니스 로직 (순수 함수)
</span><span class="code-line">├── utils/            # 유틸리티 함수
</span><span class="code-line">│   └── hooks/        # 범용 훅 (useDebounce 등)
</span><span class="code-line">├── constants/        # 상수 (초기 데이터)
</span><span class="code-line">├── pages/            # 도메인 (feature 단위)
</span><span class="code-line">│   └── admin/        # 관리자 컴포넌트
</span><span class="code-line">│   └── cart/         # 상품, 장바구니 컴포넌트
</span><span class="code-line">└── App.tsx           # 메인 앱 컴포넌트
</span></code><div class="copied" data-code="src/basic/
├── components/       # 컴포넌트들
│   └── ui/           # 재사용 가능한 UI 컴포넌트
├── hooks/            # 커스텀 훅
├── models/           # 비즈니스 로직 (순수 함수)
├── utils/            # 유틸리티 함수
│   └── hooks/        # 범용 훅 (useDebounce 등)
├── constants/        # 상수 (초기 데이터)
├── pages/            # 도메인 (feature 단위)
│   └── admin/        # 관리자 컴포넌트
│   └── cart/         # 상품, 장바구니 컴포넌트
└── App.tsx           # 메인 앱 컴포넌트
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>계층별 책임분리</strong>
각 계층은 명확한 단일 책임만 가지도록 분리했습니다.</p>
<pre><code class="code-highlight"><span class="code-line">App.tsx (상태 통합)
</span><span class="code-line">  ↓ props 전달
</span><span class="code-line">Pages (페이지 조합 + 임시 폼 상태)
</span><span class="code-line">  ↓ props 전달
</span><span class="code-line">Components (UI 표시)
</span><span class="code-line">
</span><span class="code-line">Hook (비즈니스 로직 + 상태)
</span><span class="code-line">  ↓ 호출
</span><span class="code-line">Models (순수 계산 함수)
</span></code><div class="copied" data-code="App.tsx (상태 통합)
  ↓ props 전달
Pages (페이지 조합 + 임시 폼 상태)
  ↓ props 전달
Components (UI 표시)

Hook (비즈니스 로직 + 상태)
  ↓ 호출
Models (순수 계산 함수)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>1. App.tsx - 상태 통합 계층</strong></p>
<ul>
<li>전역 상태 관리 Hook 호출 (useProducts, useCart, useCoupons)</li>
<li>하위 페이지에 Hook 결과 전달</li>
<li>페이지 전환 로직 (isAdmin)</li>
</ul>
<p><strong>2. Pages - 페이지 조합 계층</strong></p>
<ul>
<li>AdminPage: 상품/쿠폰 관리 페이지</li>
<li>CartPage: 장바구니 페이지</li>
<li>임시 폼 상태 관리 (productForm, couponForm)</li>
<li>하위 컴포넌트 조합 및 props 전달</li>
<li>비즈니스 로직 호출 (addProduct, updateProduct 등)</li>
</ul>
<p><strong>3. Components - UI 표시 계층</strong></p>
<ul>
<li>ProductForm, CouponForm: 폼 UI 표시 및 validation</li>
<li>ProductTable, CouponList: 데이터 목록 표시</li>
<li>CartItem: 장바구니 아이템 표시</li>
<li>UI 컴포넌트 (Button, Input): 재사용 가능한 순수 UI</li>
</ul>
<p><strong>4. Hooks - 비즈니스 로직 계층</strong></p>
<ul>
<li>useProducts: 상품 CRUD + localStorage 연동</li>
<li>useCart: 장바구니 CRUD + localStorage 연동</li>
<li>useCoupons: 쿠폰 CRUD + localStorage 연동</li>
<li>useLocalStorage: localStorage 추상화</li>
<li>useNotification: 알림 관리</li>
<li>useDebounce: 입력 디바운싱</li>
<li>useSearch: 검색 로직</li>
</ul>
<p><strong>5. Models - 순수 계산 함수 계층</strong></p>
<ul>
<li>calculateCartTotal: 장바구니 총액 계산</li>
<li>getMaxApplicableDiscount: 최대 할인율 계산</li>
<li>applyCoupon: 쿠폰 적용 계산</li>
<li>calculateItemTotal: 개별 상품 총액 계산</li>
</ul>
<p><strong>의존성 방향</strong></p>
<ul>
<li>UI → Hook → Model (단방향)</li>
<li>상위 계층은 하위 계층을 호출할 수 있지만, 하위는 상위를 알지 못함</li>
<li>순수 함수(Model)는 어떤 계층에도 의존하지 않음</li>
</ul>
<h3 id="전역-상태-관리-전환"><a class="anchor" aria-hidden="true" tabindex="-1" href="#전역-상태-관리-전환"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>전역 상태 관리 전환</h3>
<p>리액트를 사용하면서 전역 상태 관리 .. 라는 것을 처음 사용해보고 그 개념에 대해 잘 이해하지 못하다가 처음부터 사용해보면서 <strong>Custom Hooks + Props Drilling</strong> 방식에서 <strong>Zustand 전역 상태 관리</strong>로의 전환을 통해서 조금은 감을 잡은 것 같습니다.</p>
<p><strong>문제점</strong>
처음 <code>App.tsx</code> 에서 store를 직접 사용하는 방식을 사용했습니다. props driling을 없애기 위해 전역 상태 관리를 사용하는 건데 똑같은 현상이 일어나고 있어서 각 컴포넌트에서 필요한 store를 가져오는 방식으로 변경했습니다ㅠㅠ .. 지금 생각하니까 완전 바보같은 실수였습니다.</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// after</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;min-h-screen bg-gray-50&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>NotificationContainer
</span><span class="code-line">        notifications<span class="token operator">=</span><span class="token punctuation">{</span>notifications<span class="token punctuation">}</span>
</span><span class="code-line">        onRemove<span class="token operator">=</span><span class="token punctuation">{</span>removeNotification<span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token operator">&lt;</span>Header
</span><span class="code-line">        isAdmin<span class="token operator">=</span><span class="token punctuation">{</span>isAdmin<span class="token punctuation">}</span>
</span><span class="code-line">        setIsAdmin<span class="token operator">=</span><span class="token punctuation">{</span>setIsAdmin<span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token operator">&lt;</span>main className<span class="token operator">=</span><span class="token string">&quot;max-w-7xl mx-auto px-4 py-8&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token punctuation">{</span>isAdmin <span class="token operator">?</span> <span class="token operator">&lt;</span>AdminPage <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token operator">&lt;</span>CartPage <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="// after
  return (
    &lt;div className=&quot;min-h-screen bg-gray-50&quot;&gt;
      &lt;NotificationContainer
        notifications={notifications}
        onRemove={removeNotification}
      /&gt;

      &lt;Header
        isAdmin={isAdmin}
        setIsAdmin={setIsAdmin}
      /&gt;

      &lt;main className=&quot;max-w-7xl mx-auto px-4 py-8&quot;&gt;
        {isAdmin ? &lt;AdminPage /&gt; : &lt;CartPage /&gt;}
      &lt;/main&gt;
    &lt;/div&gt;
  );

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="과제를-하면서-내가-알게된-점-좋았던-점은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-하면서-내가-알게된-점-좋았던-점은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 하면서 내가 알게된 점, 좋았던 점은 무엇인가요?</h3>
<p><strong>Zustand와 Custom Hook의 차이점 체감</strong></p>
<ul>
<li>Basic에서 Custom Hook으로 상태를 관리할 때는 props drilling이 불가피했지만, Zustand를 사용하니 각 컴포넌트에서 필요한 store만 직접 가져올 수 있어 코드가 훨씬 간결해졌습니다.</li>
</ul>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Before (Basic - Custom Hook)</span>
</span><span class="code-line"><span class="token comment">// App.tsx에서 모든 hook 호출 후 props로 전달</span>
</span><span class="code-line"><span class="token keyword">const</span> productsHook <span class="token operator">=</span> <span class="token function">useProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> cartHook <span class="token operator">=</span> <span class="token function">useCart</span><span class="token punctuation">(</span>addNotification<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token operator">&lt;</span>CartPage productsHook<span class="token operator">=</span><span class="token punctuation">{</span>productsHook<span class="token punctuation">}</span> cartHook<span class="token operator">=</span><span class="token punctuation">{</span>cartHook<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// After (Advanced - Zustand)</span>
</span><span class="code-line"><span class="token comment">// 각 컴포넌트에서 필요한 store만 직접 사용</span>
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">CartItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span> product <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> addToCart <span class="token operator">=</span> <span class="token function">useCartStore</span><span class="token punctuation">(</span>state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>addToCart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> addNotification <span class="token operator">=</span> <span class="token function">useNotificationStore</span><span class="token punctuation">(</span>state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>addNotification<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handleAddToCart</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> success <span class="token operator">=</span> <span class="token function">addToCart</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;장바구니에 담았습니다&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;success&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// Before (Basic - Custom Hook)
// App.tsx에서 모든 hook 호출 후 props로 전달
const productsHook = useProducts();
const cartHook = useCart(addNotification);
&lt;CartPage productsHook={productsHook} cartHook={cartHook} /&gt;

// After (Advanced - Zustand)
// 각 컴포넌트에서 필요한 store만 직접 사용
function CartItem({ product }) {
  const addToCart = useCartStore(state =&gt; state.addToCart);
  const addNotification = useNotificationStore(state =&gt; state.addNotification);

  const handleAddToCart = () =&gt; {
    const success = addToCart(product);
    if (success) {
      addNotification(&#x27;장바구니에 담았습니다&#x27;, &#x27;success&#x27;);
    }
  };
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>Zustand Persist의 동작 원리 이해</strong></p>
<ul>
<li>Zustand의 persist 미들웨어가 기본적으로 <code>{state: {...}, version: 0}</code> 형식으로 저장한다는 것을 알게 되었습니다.</li>
<li>테스트 호환성을 위해 storage 옵션을 커스터마이징하는 방법을 배웠습니다.</li>
</ul>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Zustand persist storage 커스터마이징</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> useCartStore <span class="token operator">=</span> <span class="token generic-function"><span class="token function">create</span><span class="token generic class-name"><span class="token operator">&lt;</span>CartState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token function">persist</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span>set<span class="token punctuation">,</span> get<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span>
</span><span class="code-line">      name<span class="token operator">:</span> <span class="token string">&#x27;cart&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token function-variable function">partialize</span><span class="token operator">:</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> cart<span class="token operator">:</span> state<span class="token punctuation">.</span>cart <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// cart만 persist</span>
</span><span class="code-line">      storage<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token function-variable function">getItem</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token keyword">const</span> str <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>str<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token keyword">return</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">?</span> data <span class="token operator">:</span> data<span class="token punctuation">.</span>cart <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token function-variable function">setItem</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token comment">// 배열만 저장 (Basic 버전과 호환)</span>
</span><span class="code-line">          localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token function-variable function">removeItem</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// Zustand persist storage 커스터마이징
export const useCartStore = create&lt;CartState&gt;()(
  persist(
    (set, get) =&gt; ({...}),
    {
      name: &#x27;cart&#x27;,
      partialize: (state) =&gt; ({ cart: state.cart }), // cart만 persist
      storage: {
        getItem: (name) =&gt; {
          const str = localStorage.getItem(name);
          if (!str) return null;
          const data = JSON.parse(str);
          return Array.isArray(data) ? data : data.cart || [];
        },
        setItem: (name, value) =&gt; {
          // 배열만 저장 (Basic 버전과 호환)
          localStorage.setItem(name, JSON.stringify(value.state.cart));
        },
        removeItem: (name) =&gt; localStorage.removeItem(name)
      }
    }
  )
);
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>Store 분리와 조합의 중요성</strong></p>
<ul>
<li>처음에는 모든 상태를 하나의 store에 넣으려고 했지만, domain별로 분리하니 유지보수가 훨씬 쉬워졌습니다.</li>
<li>컴포넌트에서 여러 store를 조합해서 사용하는 패턴을 익혔습니다.</li>
</ul>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Store 분리 전략</span>
</span><span class="code-line">productStore<span class="token operator">:</span> 상품 <span class="token constant">CRUD</span>
</span><span class="code-line">cartStore<span class="token operator">:</span> 장바구니 <span class="token operator">+</span> selectedCoupon
</span><span class="code-line">couponStore<span class="token operator">:</span> 쿠폰 목록 관리
</span><span class="code-line">notificationStore<span class="token operator">:</span> <span class="token function">알림</span> <span class="token punctuation">(</span>persist 없음<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 컴포넌트에서 여러 store 조합</span>
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">CouponView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> selectedCoupon <span class="token operator">=</span> <span class="token function">useCartStore</span><span class="token punctuation">(</span>state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>selectedCoupon<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> applyCoupon <span class="token operator">=</span> <span class="token function">useCartStore</span><span class="token punctuation">(</span>state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>applyCoupon<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> coupons <span class="token operator">=</span> <span class="token function">useCouponStore</span><span class="token punctuation">(</span>state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>coupons<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> addNotification <span class="token operator">=</span> <span class="token function">useNotificationStore</span><span class="token punctuation">(</span>state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>addNotification<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handleApplyCoupon</span> <span class="token operator">=</span> <span class="token punctuation">(</span>couponCode<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> coupon <span class="token operator">=</span> coupons<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>code <span class="token operator">===</span> couponCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>coupon<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> success <span class="token operator">=</span> <span class="token function">applyCoupon</span><span class="token punctuation">(</span>coupon<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;쿠폰 적용 실패&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;error&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">return</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;쿠폰이 적용되었습니다&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;success&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// Store 분리 전략
productStore: 상품 CRUD
cartStore: 장바구니 + selectedCoupon
couponStore: 쿠폰 목록 관리
notificationStore: 알림 (persist 없음)

// 컴포넌트에서 여러 store 조합
function CouponView() {
  const selectedCoupon = useCartStore(state =&gt; state.selectedCoupon);
  const applyCoupon = useCartStore(state =&gt; state.applyCoupon);
  const coupons = useCouponStore(state =&gt; state.coupons);
  const addNotification = useNotificationStore(state =&gt; state.addNotification);

  const handleApplyCoupon = (couponCode: string) =&gt; {
    const coupon = coupons.find(c =&gt; c.code === couponCode);
    if (coupon) {
      const success = applyCoupon(coupon);
      if (!success) {
        addNotification(&#x27;쿠폰 적용 실패&#x27;, &#x27;error&#x27;);
        return;
      }
      addNotification(&#x27;쿠폰이 적용되었습니다&#x27;, &#x27;success&#x27;);
    }
  };
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>Hook 분리 기준에 대한 명확한 이해</strong></p>
<ul>
<li>처음에는 모든 로직을 Hook으로 만들어야 한다고 생각했지만, 실제로는 &quot;재사용성&quot;과 &quot;책임&quot;을 기준으로 판단해야 한다는 것을 배웠습니다.</li>
<li>특히 폼 상태는 임시 데이터이므로 컴포넌트 내부 useState로 충분하고, 영속성 있는 엔티티 데이터만 Hook으로 분리하는 것이 적절하다는 것을 깨달았습니다.</li>
<li><code>useProductForm</code> 같은 Hook을 만들 뻔 했지만, 이는 과도한 추상화라는 것을 알게 되었습니다. 특수한 상황에서만 사용되기 때문에 이런 상황에서는 컴포넌트 내부에서 구현하는 것이 나은 방법이라는것을 알게되었습니다.</li>
</ul>
<p><strong>순수 함수의 힘</strong></p>
<ul>
<li><code>calculateCartTotal</code>, <code>getMaxApplicableDiscount</code> 같은 순수 함수를 분리하니 테스트가 쉬워지고 코드의 의도가 명확해졌습니다.</li>
<li>특히 계산 로직이 Hook에서 분리되니 재사용성이 높아지고 유지보수가 편해졌습니다.</li>
</ul>
<p><strong>컴포넌트 분리의 실용성</strong></p>
<ul>
<li>처음에는 컴포넌트를 어디까지 쪼개야 할지 고민이 많았는데, &quot;단일 책임 원칙&quot;과 &quot;재사용성&quot;을 기준으로 하니 명확해졌습니다.</li>
<li><code>ProductForm</code>, <code>CouponForm</code>은 각자의 validation 로직을 가지고 있어 분리하는 것이 맞았고, <code>Button</code>, <code>Input</code> 같은 UI 컴포넌트는 재사용성이 높아 분리가 필수였습니다.</li>
</ul>
<p><strong>Props Drilling의 필요성 인식</strong></p>
<ul>
<li>basic 과제에서 props drilling을 경험하면서, advanced에서 Context나 Jotai를 사용하는 이유를 체감할 수 있었습니다.</li>
<li>무조건 전역 상태가 답이 아니라, 상황에 맞는 적절한 선택이 중요하다는 것을 배웠습니다.</li>
</ul>
<h3 id="이번-과제에서-내가-제일-신경-쓴-부분은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#이번-과제에서-내가-제일-신경-쓴-부분은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>이번 과제에서 내가 제일 신경 쓴 부분은 무엇인가요?</h3>
<p><strong>1. 명확한 기준 세우기</strong></p>
<ul>
<li>처음부터 &quot;Hook으로 분리할 것인가, 컴포넌트에 둘 것인가&quot;의 기준을 세우는 데 가장 많은 시간을 투자했습니다. ai한테 물어보면서 기준을 세우고 그거에 맞게 분리하는 작업을 진행했습니다.
<strong>✅ Hook으로 분리해야 하는 경우</strong></li>
<li>여러 컴포넌트에서 재사용되는가?</li>
<li>엔티티(도메인) 데이터를 다루는가?</li>
<li>영속성이 필요한가? (localStorage, API 등)</li>
<li>복잡한 비즈니스 로직이 포함되는가?</li>
<li>상태와 로직이 밀접하게 결합되어 있는가?
<strong>안티패턴 예시:</strong></li>
</ul>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// 과도한 추상화</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">useProductForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span>initialValue<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>form<span class="token punctuation">,</span> setForm<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handleNameChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>form<span class="token punctuation">,</span> name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handlePriceChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>form<span class="token punctuation">,</span> price <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// ... </span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> form<span class="token punctuation">,</span> setForm<span class="token punctuation">,</span> handleNameChange<span class="token punctuation">,</span> handlePriceChange<span class="token punctuation">,</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 사용</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> form<span class="token punctuation">,</span> setForm<span class="token punctuation">,</span> handleNameChange<span class="token punctuation">,</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useProductForm</span><span class="token punctuation">(</span>initialProduct<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token operator">&lt;</span>ProductForm form<span class="token operator">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span> onNameChange<span class="token operator">=</span><span class="token punctuation">{</span>handleNameChange<span class="token punctuation">}</span> <span class="token operator">...</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</span></code><div class="copied" data-code="// 과도한 추상화
const useProductForm = (initialValue) =&gt; {
  const [form, setForm] = useState(initialValue);

  const handleNameChange = (name) =&gt; {
    setForm({ ...form, name });
  };

  const handlePriceChange = (price) =&gt; {
    setForm({ ...form, price });
  };

  // ... 

  return { form, setForm, handleNameChange, handlePriceChange, ... };
}

// 사용
const { form, setForm, handleNameChange, ... } = useProductForm(initialProduct);
&lt;ProductForm form={form} onNameChange={handleNameChange} ... /&gt;
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>올바른 패턴:</strong></p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// AdminPage에서 직접 관리</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>productForm<span class="token punctuation">,</span> setProductForm<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialProduct<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 간단한 상태 업데이트</span>
</span><span class="code-line"><span class="token operator">&lt;</span>ProductForm
</span><span class="code-line">  productForm<span class="token operator">=</span><span class="token punctuation">{</span>productForm<span class="token punctuation">}</span>
</span><span class="code-line">  setProductForm<span class="token operator">=</span><span class="token punctuation">{</span>setProductForm<span class="token punctuation">}</span>  <span class="token comment">// 직접 전달</span>
</span><span class="code-line">  onSave<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">addProduct</span><span class="token punctuation">(</span>productForm<span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token operator">/</span><span class="token operator">&gt;</span>
</span></code><div class="copied" data-code="// AdminPage에서 직접 관리
const [productForm, setProductForm] = useState(initialProduct);

// 간단한 상태 업데이트
&lt;ProductForm
  productForm={productForm}
  setProductForm={setProductForm}  // 직접 전달
  onSave={() =&gt; addProduct(productForm)}
/&gt;
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>2. 데이터 흐름의 단방향성</strong></p>
<ul>
<li>App.tsx → Pages → Components 방향으로 props가 흐르도록 일관되게 유지했습니다.</li>
<li>Hook은 비즈니스 로직만 담당하고, UI는 순수하게 props를 받아 표시하도록 분리했습니다.</li>
<li>특히 <code>addNotification</code>을 props로 전달하는 방식을 선택한 이유를 문서화했습니다.</li>
</ul>
<p><strong>3. 과도한 추상화 지양</strong></p>
<ul>
<li>초반에 <code>useProductForm</code>, <code>useAdminTabs</code> 같은 Hook을 만들 뻔 했지만, 재사용되지 않는 로직은 Hook으로 만들지 않았습니다.</li>
<li>&quot;지금 당장 필요한 것만 추상화하고, 미래를 위한 추상화는 하지 않는다&quot;는 원칙을 지켰습니다.</li>
</ul>
<h3 id="이번-과제를-통해-앞으로-해보고-싶은게-있다면-알려주세요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#이번-과제를-통해-앞으로-해보고-싶은게-있다면-알려주세요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>이번 과제를 통해 앞으로 해보고 싶은게 있다면 알려주세요!</h3>
<h3 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문 편하게 남겨주세요 :)</h3>
<ul>
<li>advanced 테스트 실패해서 원인을 찾아보니 localstorage 초기화 하는 부분이 있었는데 store를 사용하는것은 localstorage를 사용하지 않으려는것 아닌가 ..? 라는 생각이 들었습니다. 일단 테스트 코드를 통과하기 위해 App.tsx 파일에 코드를 추가했습니다. 이 방식이 틀린 것 같은데 찾아보니까 zustand persist가 localstorage를 공유하기 때문에 발생하는 문제라고 하는데 이럴 경우 어떻게 해결하는게 맞는 방식일까요ㅠㅠ?</li>
</ul>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> productsData <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#x27;products&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> cartData <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#x27;cart&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> couponsData <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#x27;coupons&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>productsData <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>cartData <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>couponsData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      useProductStore<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> products<span class="token operator">:</span> initialProducts <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      useCartStore<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> cart<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> selectedCoupon<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      useCouponStore<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> coupons<span class="token operator">:</span> initialCoupons <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      useNotificationStore<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> notifications<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="  useEffect(() =&gt; {
    const productsData = localStorage.getItem(&#x27;products&#x27;);
    const cartData = localStorage.getItem(&#x27;cart&#x27;);
    const couponsData = localStorage.getItem(&#x27;coupons&#x27;);

    if (!productsData &amp;&amp; !cartData &amp;&amp; !couponsData) {
      useProductStore.setState({ products: initialProducts });
      useCartStore.setState({ cart: [], selectedCoupon: null });
      useCouponStore.setState({ coupons: initialCoupons });
      useNotificationStore.setState({ notifications: [] });
    }
  }, []);
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>props driling을 완전히 제거하는게 좋은방향인가요? 아니면 일부 props는 유지하는게 나은 방향인가요? 컴포넌트 내부에서 store를 직접 접근하는 방식이 제일 좋다! 인지 궁금합니다.</li>
</ul></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>한슬님 과제 잘 해주셨네요 ㅎㅎ
이번 기회로 전역상태 라이브러리를 활용하면 어떻게 편리하게 개발할 수 있는지 그리고 그 기준을 어떻게 잡을지 잘 느낄수 있었던 과제였던것 같네요 :+1
계층도 잘 나눠주신것 같고, 이 계층을 나누는데 있어서 단일 방향으로 의존성 방향을 정해서 누릴 수 있는 장점들에 대해 잘 고민해보셨으면 좋겠네요! (아마 이번 주 과제에서 계속 느끼시겠죠?</p>
<blockquote>
<p>localStorage 관련 질문</p>
</blockquote>
<p>일단 테스트를 통과하기 위해 실제 코드를 넣는 경우는 사실 현업에서는 하지 않는 방식이니 다른 방법을 찾아야 할 것 같은데요.</p>
<p>음.. 제가 직접 디버깅을 해드리기엔 조금 어려울 것 같은데 말씀해주신 부분이라면
<a href="https://zustand.docs.pmnd.rs/guides/testing">https://zustand.docs.pmnd.rs/guides/testing</a>
zustand같은 라이브러리를 사용하다 보면 상태를 리셋해주는 여러 세팅들을 해주는게 필요할 수 있어요! 테스트 간 상태를 넘나들 수 있는거죠.
이런 부분을 참고해서 한번 작성해보시면 좋지 않을까! 싶습니다</p>
<blockquote>
<p>Props 드릴링 관련 질문</p>
</blockquote>
<p>저는 개인적으로 전역 상태를 쓰더라도 상태를 사용하는 컴포넌트에 가까이 두고 여러곳에서 사용할 경우 점점 끌어올리다 전역 상태로 이동하는 편인데요. 굳이 우리가 드릴링을 하지 않아야된다! 라는 관점으로 상태를 보기보다는 이 상태, 논리에 대한 뭉치가 데이터 흐름 관점에서 사용되는 쪽에 가깝게 위치하는지, 함께 잘 뭉쳐있는지 부터 고민을 하는게 좋은 것 같아요!</p>
<p>고생하셨고 다음 주도 화이팅입니다~~</p></div></div><div class="mt-9"></div></div></main></div></div></div>
    <title>[4팀 정한슬] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계  - 정한슬 | 항해플러스 프론트엔드 7기</title>
    <meta name="description" content=" [항해플러스 프론트엔드 7기] 정한슬님이 제출한 [4팀 정한슬] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계  과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="keywords" content="항해플러스, 프론트엔드, 개발자교육, React, TypeScript, JavaScript, 기술면접, 웹개발, 정한슬, [4팀 정한슬] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 , 과제상세, 코드리뷰, 피드백, Pull Request" />
    <meta property="og:title" content="[4팀 정한슬] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계  - 정한슬 | 항해플러스 프론트엔드 7기" />
    <meta property="og:description" content=" [항해플러스 프론트엔드 7기] 정한슬님이 제출한 [4팀 정한슬] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계  과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta property="og:image" content="/defaultThumbnail.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="[4팀 정한슬] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계  - 정한슬 | 항해플러스 프론트엔드 7기" />
    <meta name="twitter:description" content=" [항해플러스 프론트엔드 7기] 정한슬님이 제출한 [4팀 정한슬] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계  과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="twitter:image" content="/defaultThumbnail.jpg" />
  <!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/front_7th/favicon.ico"/>
  <!--app-head-->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6J8QP7YK1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-6J8QP7YK1E');
  </script>
  <script type="module" crossorigin src="/front_7th/assets/index-C-edMQf_.js"></script>
  <link rel="stylesheet" crossorigin href="/front_7th/assets/index-B1cXSvNG.css">
</head>
<body>
<div id="root"><!--app-html--></div>
</body>
</html>
