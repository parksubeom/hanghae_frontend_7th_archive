<link rel="preload" as="image" href="https://github.com/user-attachments/assets/69f01573-783b-44c3-a60c-00ae9ecafd89"/><link rel="preload" as="image" href="https://github.com/user-attachments/assets/b8d3ddad-11eb-45b9-9445-b59f73b15312"/><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_7th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">7기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_7th/@jinseoIT/" data-discover="true">jinseoIT<!-- --> 님의 상세페이지</a> ＞ <!-- -->[2팀 양진성] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_7th_chapter3-2/pull/12" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[2팀 양진성] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->jinseoIT</span><span>2025.11.30</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="배포링크"><a class="anchor" aria-hidden="true" tabindex="-1" href="#배포링크"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>배포링크</h2>
<p><a href="https://jinseoit.github.io/front_7th_chapter3-2/index.advanced.html">https://jinseoit.github.io/front_7th_chapter3-2/index.advanced.html</a></p>
<h2 id="과제의-핵심취지"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제의-핵심취지"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제의 핵심취지</h2>
<ul>
<li>React의 hook 이해하기</li>
<li>함수형 프로그래밍에 대한 이해</li>
<li>액션과 순수함수의 분리</li>
</ul>
<h2 id="과제에서-꼭-알아가길-바라는-점"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제에서-꼭-알아가길-바라는-점"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제에서 꼭 알아가길 바라는 점</h2>
<ul>
<li>엔티티를 다루는 상태와 그렇지 않은 상태 - cart, isCartFull vs isShowPopup</li>
<li>엔티티를 다루는 컴포넌트와 훅 - CartItemView, useCart(), useProduct()</li>
<li>엔티티를 다루지 않는 컴포넌트와 훅 - Button, useRoute, useEvent 등</li>
<li>엔티티를 다루는 함수와 그렇지 않은 함수 - calculateCartTotal(cart) vs capaitalize(str)</li>
</ul>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li>
<p>Component에서 비즈니스 로직을 분리하기</p>
</li>
<li>
<p>비즈니스 로직에서 특정 엔티티만 다루는 계산을 분리하기</p>
</li>
<li>
<p>뷰데이터와 엔티티데이터의 분리에 대한 이해</p>
</li>
<li>
<p>entities -&gt; features -&gt; UI 계층에 대한 이해</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 함수는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 Component와 UI를 다루는 Component는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 데이터 흐름에 맞는 계층구조를 이루고 의존성이 맞게 작성이 되었나요?</p>
</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<ul class="contains-task-list">
<li>
<p>이번 심화과제는 Context나 Jotai를 사용해서 Props drilling을 없애는 것입니다.</p>
</li>
<li>
<p>어떤 props는 남겨야 하는지, 어떤 props는 제거해야 하는지에 대한 기준을 세워보세요.</p>
</li>
<li>
<p>Context나 Jotai를 사용하여 상태를 관리하는 방법을 익히고, 이를 통해 컴포넌트 간의 데이터 전달을 효율적으로 처리할 수 있습니다.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Context나 Jotai를 사용해서 전역상태관리를 구축했나요? (Zustand 사용)</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 전역상태관리를 통해 domain custom hook을 적절하게 리팩토링 했나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 도메인 컴포넌트에 도메인 props는 남기고 props drilling을 유발하는 불필요한 props는 잘 제거했나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 전체적으로 분리와 재조립이 더 수월해진 결합도가 낮아진 코드가 되었나요?</p>
</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<h3 id="과제를-하면서-내가-알게된-점-좋았던-점은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-하면서-내가-알게된-점-좋았던-점은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 하면서 내가 알게된 점, 좋았던 점은 무엇인가요?</h3>
<h4 id="1-관심사의-분리가-단순히-이론이-아니라-실제로-코드를-얼마나-깔끔하게-만드는지-체감했습니다"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-관심사의-분리가-단순히-이론이-아니라-실제로-코드를-얼마나-깔끔하게-만드는지-체감했습니다"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. &quot;관심사의 분리&quot;가 단순히 이론이 아니라 실제로 코드를 얼마나 깔끔하게 만드는지 체감했습니다.</h4>
<p>처음 origin 코드를 봤을 때 1,123줄의 App.tsx에 모든 로직이 몰려있는 걸 보고 압도당했습니다. 상품 관리, 장바구니, 쿠폰, 알림 등 모든 비즈니스 로직이 하나의 컴포넌트에 섞여있어서 어디서부터 손대야 할지 막막했습니다.</p>
<p>먼저 도메인별 구분짓기 위해 figjam에서 분리작업을 진행한 후</p>
<img width="1407" height="604" alt="스크린샷 2025-12-05 오전 2 12 48" src="https://github.com/user-attachments/assets/69f01573-783b-44c3-a60c-00ae9ecafd89"/>
<p>도메인별 필요 도식도를 그린 후 실제 코드의 분리 작업을 진행하였습니다.</p>
<img width="699" height="645" alt="스크린샷 2025-12-05 오전 2 45 57" src="https://github.com/user-attachments/assets/b8d3ddad-11eb-45b9-9445-b59f73b15312"/>
<p>이렇게 분리해 나가다 보니, 각 도메인에 필요한 UI와 비즈니스 로직이 자연스럽게 묶여 배치되면서, 코드의 가독성이 크게 개선되고 결과적으로 모듈 단위의 변경 용이성과 유지보수성이 향상되는 것을 체감했습니다.</p>
<h4 id="2-props-drilling의-고통을-직접-겪으니-전역-상태-관리의-필요성이-절실히-느껴졌습니다"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-props-drilling의-고통을-직접-겪으니-전역-상태-관리의-필요성이-절실히-느껴졌습니다"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. Props Drilling의 고통을 직접 겪으니 전역 상태 관리의 필요성이 절실히 느껴졌습니다.</h4>
<p>basic 단계에서 Cart 컴포넌트를 만들 때 <strong>13개의 props</strong>를 전달해야 했습니다:</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// basic/components/ShoppingMall/Cart.tsx</span>
</span><span class="code-line"><span class="token operator">&lt;</span>Cart
</span><span class="code-line">  products<span class="token operator">=</span><span class="token punctuation">{</span>products<span class="token punctuation">}</span>
</span><span class="code-line">  cart<span class="token operator">=</span><span class="token punctuation">{</span>cart<span class="token punctuation">}</span>
</span><span class="code-line">  coupons<span class="token operator">=</span><span class="token punctuation">{</span>coupons<span class="token punctuation">}</span>
</span><span class="code-line">  selectedCoupon<span class="token operator">=</span><span class="token punctuation">{</span>selectedCoupon<span class="token punctuation">}</span>
</span><span class="code-line">  totals<span class="token operator">=</span><span class="token punctuation">{</span>totals<span class="token punctuation">}</span>
</span><span class="code-line">  applyCoupon<span class="token operator">=</span><span class="token punctuation">{</span>applyCoupon<span class="token punctuation">}</span>
</span><span class="code-line">  setSelectedCoupon<span class="token operator">=</span><span class="token punctuation">{</span>setSelectedCoupon<span class="token punctuation">}</span>
</span><span class="code-line">  calculateItemTotal<span class="token operator">=</span><span class="token punctuation">{</span>calculateItemTotal<span class="token punctuation">}</span>
</span><span class="code-line">  removeFromCart<span class="token operator">=</span><span class="token punctuation">{</span>removeFromCart<span class="token punctuation">}</span>
</span><span class="code-line">  updateQuantity<span class="token operator">=</span><span class="token punctuation">{</span>updateQuantity<span class="token punctuation">}</span>
</span><span class="code-line">  addNotification<span class="token operator">=</span><span class="token punctuation">{</span>addNotification<span class="token punctuation">}</span>
</span><span class="code-line">  completeOrder<span class="token operator">=</span><span class="token punctuation">{</span>completeOrder<span class="token punctuation">}</span>
</span><span class="code-line"><span class="token operator">/</span><span class="token operator">&gt;</span>
</span></code><div class="copied" data-code="// basic/components/ShoppingMall/Cart.tsx
&lt;Cart
  products={products}
  cart={cart}
  coupons={coupons}
  selectedCoupon={selectedCoupon}
  totals={totals}
  applyCoupon={applyCoupon}
  setSelectedCoupon={setSelectedCoupon}
  calculateItemTotal={calculateItemTotal}
  removeFromCart={removeFromCart}
  updateQuantity={updateQuantity}
  addNotification={addNotification}
  completeOrder={completeOrder}
/&gt;
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>더 심각한 건 CartItem 컴포넌트였습니다. 이 컴포넌트는 <code>products</code> 배열을 직접 사용하지 않지만, <code>updateQuantity</code>가 products를 필요로 해서 App → Cart → CartItem으로 3단계를 거쳐 전달되었습니다. &quot;이건 아닌데...&quot;라는 생각이 계속 들었습니다.</p>
<p><strong>advanced에서 Zustand를 도입하니</strong></p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// advanced/components/ShoppingMall/Cart.tsx</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">Cart</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> cart <span class="token operator">=</span> <span class="token function">useCartStore</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>cart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> calculateItemTotal <span class="token operator">=</span> <span class="token function">useCartStore</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>calculateItemTotal<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> removeFromCart <span class="token operator">=</span> <span class="token function">useCartStore</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>removeFromCart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token comment">// ... props 없이 필요한 것만 직접 구독!</span>
</span></code><div class="copied" data-code="// advanced/components/ShoppingMall/Cart.tsx
const Cart = () =&gt; {
  const cart = useCartStore((state) =&gt; state.cart);
  const calculateItemTotal = useCartStore((state) =&gt; state.calculateItemTotal);
  const removeFromCart = useCartStore((state) =&gt; state.removeFromCart);
  // ... props 없이 필요한 것만 직접 구독!
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>Cart 컴포넌트의 props가 <strong>13개에서 0개</strong>로 줄었습니다.</li>
<li>각 컴포넌트가 필요한 상태만 직접 구독하니, 컴포넌트 간 결합도가 확 낮아졌습니다.</li>
<li>리렌더링 최적화도 자연스럽게 되었습니다. 예를 들어 notification이 추가되어도 Cart는 리렌더되지 않습니다.</li>
</ul>
<h4 id="3-액션과-계산의-분리라는-함수형-프로그래밍-개념을-실전에서-적용해봤습니다"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3-액션과-계산의-분리라는-함수형-프로그래밍-개념을-실전에서-적용해봤습니다"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. &quot;액션과 계산의 분리&quot;라는 함수형 프로그래밍 개념을 실전에서 적용해봤습니다.</h4>
<p>처음엔 &quot;왜 계산 함수를 굳이 분리해야 하지?&quot;라고 생각했습니다. 하지만 실제로 분리해보니</p>
<p><strong>계산 함수 (순수함수):</strong></p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// utils/cartCalculations.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> calculateItemTotal <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> CartItem<span class="token punctuation">,</span> allCartItems<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> price <span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">.</span>product<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> quantity <span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> discount <span class="token operator">=</span> <span class="token function">getMaxApplicableDiscount</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> allCartItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>price <span class="token operator">*</span> quantity <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> discount<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// utils/cartCalculations.ts
export const calculateItemTotal = (item: CartItem, allCartItems: CartItem[]): number =&gt; {
  const { price } = item.product;
  const { quantity } = item;
  const discount = getMaxApplicableDiscount(item, allCartItems);
  return Math.round(price * quantity * (1 - discount));
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>같은 입력이면 항상 같은 결과</li>
<li>테스트하기 쉬움</li>
<li>어디서든 재사용 가능</li>
<li>예측 가능하고 안전함</li>
</ul>
<p>이렇게 나누니 디버깅할 때 &quot;계산이 잘못되었나? 아니면 상태 업데이트가 잘못되었나?&quot;를 명확히 구분할 수 있었습니다.</p>
<h4 id="4-store-간-참조-패턴을-배우며-의존성-방향의-중요성을-이해했습니다"><a class="anchor" aria-hidden="true" tabindex="-1" href="#4-store-간-참조-패턴을-배우며-의존성-방향의-중요성을-이해했습니다"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>4. Store 간 참조 패턴을 배우며 &quot;의존성 방향&quot;의 중요성을 이해했습니다.</h4>
<p>advanced에서 cartStore가 다른 store를 참조하는 패턴을 사용했습니다:</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token function-variable function">addToCart</span><span class="token operator">:</span> <span class="token punctuation">(</span>product<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> cart <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cart<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> remainingStock <span class="token operator">=</span> <span class="token function">calcRemainingStock</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> cart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> addNotification <span class="token operator">=</span> useNotificationStore<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>addNotification<span class="token punctuation">;</span> <span class="token comment">// 다른 store 참조</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>remainingStock <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&quot;재고가 부족합니다!&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token comment">// ...</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="addToCart: (product) =&gt; {
  const cart = get().cart;
  const remainingStock = calcRemainingStock(product, cart);
  const addNotification = useNotificationStore.getState().addNotification; // 다른 store 참조

  if (remainingStock &lt;= 0) {
    addNotification(&quot;재고가 부족합니다!&quot;, &quot;error&quot;);
    return;
  }
  // ...
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>처음엔 &quot;이렇게 다른 store를 직접 참조해도 되나?&quot;라고 의아했지만, 알고 보니:</p>
<ul>
<li>notificationStore는 UI 레이어의 전역 상태</li>
<li>cartStore는 도메인 레이어</li>
<li>도메인에서 UI 유틸리티를 사용하는 건 자연스러운 의존성 방향</li>
</ul>
<p>이를 통해 <strong>계층 구조</strong>를 더 명확히 이해하게 되었습니다:</p>
<pre><code class="code-highlight"><span class="code-line">entities (타입 정의)
</span><span class="code-line">  ↓
</span><span class="code-line">utils (순수 계산 함수)
</span><span class="code-line">  ↓
</span><span class="code-line">store (상태 관리 + 액션)
</span><span class="code-line">  ↓
</span><span class="code-line">components (UI)
</span></code><div class="copied" data-code="entities (타입 정의)
  ↓
utils (순수 계산 함수)
  ↓
store (상태 관리 + 액션)
  ↓
components (UI)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<hr/>
<h3 id="과제를-하면서-내가-알게된-점-좋았던-점은-무엇인가요-1"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-하면서-내가-알게된-점-좋았던-점은-무엇인가요-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 하면서 내가 알게된 점, 좋았던 점은 무엇인가요?</h3>
<p>전역 상태 관리를 사용하는 진짜 이유: &quot;Props Drilling 해결&quot;이 아닌 &quot;계층 분리&quot;</p>
<p>처음엔 &quot;Zustand를 쓰면 props drilling을 피할 수 있으니까!&quot;라는 단순한 생각으로 도입했습니다. 하지만 실제로 적용해보니, 전역 상태 관리의 본질은 <strong>depth를 줄이는 게 아니라 계층을 분리하는 것</strong>이었습니다.</p>
<p><strong>기존의 잘못된 생각:</strong></p>
<blockquote>
<p>&quot;3단계 이상 props를 전달하면 props drilling이니까 전역 상태를 써야 해!&quot;</p>
</blockquote>
<p>이 기준은 본질을 놓친 접근이었습니다. 리액트 공식 문서도 props drilling 해결 방법으로 ContextAPI를 제시하지, 전역 상태 관리 라이브러리를 제시하지 않습니다.</p>
<p><strong>실제로 깨달은 것:</strong></p>
<ol>
<li>
<p><strong>서버 상태 vs 클라이언트 상태의 분리</strong></p>
<ul>
<li>원래 과제에서는 로컬 상태만 다뤘지만, 만약 실제 서버 API가 있었다면?</li>
<li>상품 목록, 재고 정보 같은 <strong>서버 상태</strong>는 ReactQuery/SWR로 관리했을 것입니다.</li>
<li>장바구니, 선택된 쿠폰 같은 <strong>클라이언트 상태</strong>만 Zustand로 관리했을 것입니다.</li>
<li>전역 상태 관리 라이브러리에 모든 걸 때려넣는 과거 Redux 시대의 방식은 지양해야 합니다.</li>
</ul>
</li>
<li>
<p><strong>도메인 계층의 독립성</strong></p>
<ul>
<li>Props drilling이 문제가 아니라, <strong>UI 컴포넌트가 도메인 로직에 의존하는 게 문제</strong>였습니다.</li>
</ul>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Before: UI 컴포넌트(Cart)가 모든 도메인 로직을 props로 받음</span>
</span><span class="code-line"><span class="token operator">&lt;</span>Cart
</span><span class="code-line">  addToCart<span class="token operator">=</span><span class="token punctuation">{</span>addToCart<span class="token punctuation">}</span> <span class="token comment">// 도메인 액션</span>
</span><span class="code-line">  removeFromCart<span class="token operator">=</span><span class="token punctuation">{</span>removeFromCart<span class="token punctuation">}</span> <span class="token comment">// 도메인 액션</span>
</span><span class="code-line">  calculateTotal<span class="token operator">=</span><span class="token punctuation">{</span>calculateTotal<span class="token punctuation">}</span> <span class="token comment">// 도메인 계산</span>
</span><span class="code-line">  <span class="token comment">// ... 13개의 props</span>
</span><span class="code-line"><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token comment">// → Cart는 부모 컴포넌트의 구조에 강하게 결합됨</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// After: UI 컴포넌트가 도메인 store에서 직접 가져옴</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">Cart</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> addToCart <span class="token operator">=</span> <span class="token function">useCartStore</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>addToCart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> removeFromCart <span class="token operator">=</span> <span class="token function">useCartStore</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>removeFromCart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token comment">// ...</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token comment">// → Cart는 독립적으로 동작 가능</span>
</span></code><div class="copied" data-code="// Before: UI 컴포넌트(Cart)가 모든 도메인 로직을 props로 받음
&lt;Cart
  addToCart={addToCart} // 도메인 액션
  removeFromCart={removeFromCart} // 도메인 액션
  calculateTotal={calculateTotal} // 도메인 계산
  // ... 13개의 props
/&gt;;
// → Cart는 부모 컴포넌트의 구조에 강하게 결합됨

// After: UI 컴포넌트가 도메인 store에서 직접 가져옴
const Cart = () =&gt; {
  const addToCart = useCartStore((state) =&gt; state.addToCart);
  const removeFromCart = useCartStore((state) =&gt; state.removeFromCart);
  // ...
};
// → Cart는 독립적으로 동작 가능
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</li>
<li>
<p><strong>ContextAPI로도 충분할 수 있었는데, 왜 Zustand를 선택했나?</strong></p>
<p>솔직히 말하면, 이 과제 규모에서는 ContextAPI + useReducer로도 충분했을 수 있습니다. 하지만 Zustand를 선택한 이유:</p>
<ul>
<li>
<p><strong>Selector 패턴의 강력함</strong>: 필요한 상태만 구독하여 불필요한 리렌더링 방지</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// 이렇게 필요한 부분만 구독 가능</span>
</span><span class="code-line"><span class="token keyword">const</span> totalItemCount <span class="token operator">=</span> <span class="token function">useCartStore</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>totalItemCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token comment">// notification이 업데이트되어도 이 컴포넌트는 리렌더되지 않음</span>
</span></code><div class="copied" data-code="// 이렇게 필요한 부분만 구독 가능
const totalItemCount = useCartStore((state) =&gt; state.totalItemCount);
// notification이 업데이트되어도 이 컴포넌트는 리렌더되지 않음
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</li>
<li>
<p><strong>Store 간 참조의 편리함</strong>: cartStore에서 notificationStore를 쉽게 참조 가능</p>
</li>
<li>
<p><strong>Persist middleware</strong>: localStorage 연동이 한 줄로 해결</p>
</li>
</ul>
<p>하지만 중요한 건, <strong>&quot;전역에 상태를 저장하고 싶어서&quot;가 아니라 &quot;selector 패턴과 계층 분리가 필요해서&quot;</strong> Zustand를 선택했다는 점입니다.</p>
</li>
<li>
<p><strong>리렌더링은 실제로 문제가 아니었다</strong></p>
<p>처음엔 &quot;ContextAPI 쓰면 불필요한 리렌더링이 많이 일어나니까 성능 문제가 있을 거야&quot;라고 생각했습니다. 하지만 조사해보니:</p>
<ul>
<li>리액트의 렌더 단계 진입 ≠ 실제 DOM 리렌더링</li>
<li>대부분의 경우 렌더링 자체보다 &quot;느린 렌더&quot;가 문제 (복잡한 계산, 무거운 컴포넌트)</li>
<li>렌더링을 최적화하기 전에 느린 렌더를 먼저 고쳐야 함</li>
</ul>
<p>결국 성능 문제로 Zustand를 선택한 게 아니라, <strong>아키텍처 관점에서 계층을 명확히 분리하기 위해</strong> 선택한 것이었습니다.
전역 상태 관리 도구를 선택할 때는 단순히 &quot;props 전달이 3단계가 넘으니까&quot;, &quot;리렌더링 때문에&quot; 기준이 되는게 아니라</p>
</li>
</ol>
<ul>
<li>&quot;서버 상태와 클라이언트 상태를 분리하고 싶어서&quot;</li>
<li>&quot;도메인 계층을 UI 계층에서 독립시키고 싶어서&quot;</li>
<li>&quot;Selector/Atomic 패턴이 필요해서&quot;</li>
</ul>
<p>이런 기준으로 판단해야 한다는 걸 배웠습니다.</p>
<hr/>
<h3 id="이번-과제에서-내가-제일-신경-쓴-부분은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#이번-과제에서-내가-제일-신경-쓴-부분은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>이번 과제에서 내가 제일 신경 쓴 부분은 무엇인가요?</h3>
<p>advanced에서 Zustand를 도입할 때 가장 고민한 부분은 &quot;모든 props를 다 없애야 하나?&quot;였습니다.</p>
<p>처음엔 &quot;전역 상태 관리를 쓰니까 props를 최대한 없애자!&quot;라고 생각했는데, 이렇게 하니 문제가 생겼습니다:</p>
<ul>
<li>ProductCard가 store에서 직접 product를 가져오면, 이 컴포넌트는 특정 상품 ID에 종속됩니다.</li>
<li>재사용성이 떨어지고, Storybook이나 테스트에서 사용하기 어려워집니다.</li>
</ul>
<p>그래서 세운 기준:
<strong>Props로 남겨야 할 것</strong></p>
<ul>
<li>컴포넌트의 정체성을 결정하는 데이터 (예: ProductCard의 <code>product</code>, CartItem의 <code>item</code>)</li>
<li>컴포넌트를 재사용 가능하게 만드는 데이터</li>
</ul>
<p><strong>Store로 옮겨야 할 것</strong></p>
<ul>
<li>여러 계층을 거쳐 전달되는 콜백 함수들 (<code>addToCart</code>, <code>removeFromCart</code> 등)</li>
<li>전역적으로 공유되는 상태 (<code>cart</code>, <code>products</code>, <code>coupons</code>)</li>
<li>UI 상태 (<code>notifications</code>, <code>searchTerm</code>)</li>
</ul>
<p>결과적으로 ProductCard는 이렇게 변했습니다</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// basic: 5개의 props를 받음</span>
</span><span class="code-line"><span class="token operator">&lt;</span>ProductCard
</span><span class="code-line">  product<span class="token operator">=</span><span class="token punctuation">{</span>product<span class="token punctuation">}</span>
</span><span class="code-line">  onAddToCart<span class="token operator">=</span><span class="token punctuation">{</span>addToCart<span class="token punctuation">}</span>
</span><span class="code-line">  getRemainingStock<span class="token operator">=</span><span class="token punctuation">{</span>getRemainingStock<span class="token punctuation">}</span>
</span><span class="code-line">  formatPrice<span class="token operator">=</span><span class="token punctuation">{</span>formatPrice<span class="token punctuation">}</span>
</span><span class="code-line">  isAdmin<span class="token operator">=</span><span class="token punctuation">{</span>isAdmin<span class="token punctuation">}</span>
</span><span class="code-line"><span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// advanced: product만 받고, 나머지는 store에서</span>
</span><span class="code-line"><span class="token operator">&lt;</span>ProductCard product<span class="token operator">=</span><span class="token punctuation">{</span>product<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</span></code><div class="copied" data-code="// basic: 5개의 props를 받음
&lt;ProductCard
  product={product}
  onAddToCart={addToCart}
  getRemainingStock={getRemainingStock}
  formatPrice={formatPrice}
  isAdmin={isAdmin}
/&gt;

// advanced: product만 받고, 나머지는 store에서
&lt;ProductCard product={product} /&gt;
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이렇게 하니 ProductCard는 &quot;어떤 상품을 보여줄까&quot;에만 집중하고, &quot;어떻게 장바구니에 담을까&quot;는 내부에서 store를 통해 해결했습니다.</p>
<h4 id="2-순수-함수의-시그니처-설계"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-순수-함수의-시그니처-설계"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. 순수 함수의 시그니처 설계</h4>
<p><code>calculateItemTotal</code> 함수를 설계할 때 고민이 많았습니다</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// 첫 번째 시도: cart를 외부에서 가져옴 (순수하지 않음!)</span>
</span><span class="code-line"><span class="token keyword">const</span> calculateItemTotal <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> CartItem<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> cart <span class="token operator">=</span> useCartStore<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cart<span class="token punctuation">;</span> <span class="token comment">// ❌ 외부 상태 의존</span>
</span><span class="code-line">  <span class="token keyword">const</span> discount <span class="token operator">=</span> <span class="token function">getMaxApplicableDiscount</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> cart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token comment">// ...</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 두 번째 시도: 필요한 것을 모두 인자로 받음 (순수함!)</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> calculateItemTotal <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> CartItem<span class="token punctuation">,</span> allCartItems<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">//  같은 입력이면 항상 같은 결과</span>
</span><span class="code-line">  <span class="token keyword">const</span> discount <span class="token operator">=</span> <span class="token function">getMaxApplicableDiscount</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> allCartItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token comment">// ...</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// 첫 번째 시도: cart를 외부에서 가져옴 (순수하지 않음!)
const calculateItemTotal = (item: CartItem): number =&gt; {
  const cart = useCartStore.getState().cart; // ❌ 외부 상태 의존
  const discount = getMaxApplicableDiscount(item, cart);
  // ...
};

// 두 번째 시도: 필요한 것을 모두 인자로 받음 (순수함!)
export const calculateItemTotal = (item: CartItem, allCartItems: CartItem[]): number =&gt; {
  //  같은 입력이면 항상 같은 결과
  const discount = getMaxApplicableDiscount(item, allCartItems);
  // ...
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>두 번째 방식을 선택한 이유</p>
<ul>
<li>테스트 작성 시 mock store를 만들 필요 없이, 그냥 배열만 넘겨주면 됨</li>
<li>함수의 의존성이 시그니처에 명확히 드러남</li>
<li>예측 가능하고 디버깅하기 쉬움</li>
</ul>
<h4 id="3-store-분리-기준---도메인-엔티티-vs-ui-상태"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3-store-분리-기준---도메인-엔티티-vs-ui-상태"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. Store 분리 기준 - 도메인 엔티티 vs UI 상태</h4>
<p>Store를 5개로 나눈 기준</p>
<ul>
<li><strong>cartStore</strong>: Cart 엔티티와 관련된 모든 것</li>
<li><strong>productStore</strong>: Product 엔티티와 관련된 모든 것</li>
<li><strong>couponStore</strong>: Coupon 엔티티와 관련된 모든 것</li>
<li><strong>notificationStore</strong>: UI 알림 (도메인이 아닌 UI 유틸리티)</li>
<li><strong>searchStore</strong>: 검색 상태 (UI 상태)</li>
</ul>
<p>처음엔 &quot;너무 잘게 쪼갠 거 아니야?&quot;라고 생각했는데, 실제로 개발하다 보니 각 store의 책임이 명확해서 좋았습니다. 예를 들어:</p>
<ul>
<li>장바구니 로직을 수정할 때는 cartStore만 보면 됨</li>
<li>알림 시스템을 변경해도 도메인 로직은 영향받지 않음</li>
</ul>
<h4 id="4-validator와-formatter를-분리하며-단일-책임-원칙-이해하기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#4-validator와-formatter를-분리하며-단일-책임-원칙-이해하기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>4. Validator와 Formatter를 분리하며 &quot;단일 책임 원칙&quot; 이해하기</h4>
<p>처음에는 가격을 표시하는 formatPrice 함수에 재고 검증 로직까지 들어있었습니다:</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Before: 하나의 함수가 두 가지 책임을 가짐</span>
</span><span class="code-line"><span class="token keyword">const</span> formatPrice <span class="token operator">=</span> <span class="token punctuation">(</span>price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> productId<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>productId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> product <span class="token operator">=</span> products<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>id <span class="token operator">===</span> productId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>product <span class="token operator">&amp;&amp;</span> <span class="token function">getRemainingStock</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">return</span> <span class="token string">&quot;SOLD OUT&quot;</span><span class="token punctuation">;</span> <span class="token comment">// ❌ 검증 + 포맷팅이 섞임</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">₩</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>price<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// Before: 하나의 함수가 두 가지 책임을 가짐
const formatPrice = (price: number, productId?: string): string =&gt; {
  if (productId) {
    const product = products.find((p) =&gt; p.id === productId);
    if (product &amp;&amp; getRemainingStock(product) &lt;= 0) {
      return &quot;SOLD OUT&quot;; // ❌ 검증 + 포맷팅이 섞임
    }
  }
  return `₩${price.toLocaleString()}`;
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>리팩토링 후</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// After: 검증과 포맷팅을 분리</span>
</span><span class="code-line"><span class="token comment">// validators.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> hasStock <span class="token operator">=</span> <span class="token punctuation">(</span>product<span class="token operator">:</span> Product<span class="token punctuation">,</span> cart<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">getRemainingStock</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> cart<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// formatters.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> formatPrice <span class="token operator">=</span> <span class="token punctuation">(</span>price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">₩</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>price<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// After: 검증과 포맷팅을 분리
// validators.ts
export const hasStock = (product: Product, cart: CartItem[]): boolean =&gt; {
  return getRemainingStock(product, cart) &gt; 0;
};

// formatters.ts
export const formatPrice = (price: number): string =&gt; {
  return `₩${price.toLocaleString()}`;
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이렇게 분리하니</p>
<ul>
<li>각 함수가 하나의 책임만 가짐</li>
<li>조합해서 다양한 상황에 사용 가능</li>
<li>테스트가 명확해짐</li>
</ul>
<hr/>
<h3 id="이번-과제를-통해-앞으로-해보고-싶은게-있다면-알려주세요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#이번-과제를-통해-앞으로-해보고-싶은게-있다면-알려주세요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>이번 과제를 통해 앞으로 해보고 싶은게 있다면 알려주세요!</h3>
<h4 id="성능-측정과-최적화-및-다른-상태관리와-비교"><a class="anchor" aria-hidden="true" tabindex="-1" href="#성능-측정과-최적화-및-다른-상태관리와-비교"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>성능 측정과 최적화 및 다른 상태관리와 비교</h4>
<ul>
<li>Zustand의 selector 기반 구독이 실제로 리렌더링을 얼마나 줄여주는지 React DevTools Profiler로 측정해보고 싶습니다.</li>
<li>Context API로 구현했을 때와 비교하여 어떤 차이가 있는지 벤치마크 해보고 싶습니다.</li>
<li><code>useMemo</code>, <code>useCallback</code>을 언제 써야 실제로 도움이 되는지 데이터로 확인하고 싶습니다.</li>
<li>특히 지금은 &quot;느낌상 최적화가 될 것 같아서&quot; 사용했는데, 실제 측정을 통해 검증하고 싶습니다.</li>
</ul>
<hr/>
<h3 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문 편하게 남겨주세요 :)</h3>
<h4 id="1-store-분리-기준이-적절한가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-store-분리-기준이-적절한가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. Store 분리 기준이 적절한가요?</h4>
<p>현재 cart / product / coupon / notification / search 총 5개의 store로 나눴는데,<br/>
아래 기준이 실무 관점에서도 무난한지 피드백을 받고 싶습니다.</p>
<ul>
<li>cart와 coupon처럼 항상 함께 동작하는 도메인은 <strong>하나의 store로 묶는 편이 나은지</strong>,<br/>
아니면 지금처럼 도메인별로 분리해 두는 편이 더 확장성 있는 구조인지 궁금합니다.</li>
<li>cartStore에서 notificationStore를 직접 참조하는 것처럼,<br/>
<strong>한 store가 다른 store의 액션/상태를 참조하는 패턴이 어디까지 허용 가능한지</strong>,<br/>
그리고 <strong>순환 참조를 피하기 위해 보통 어떤 규칙(레이어링, 의존 방향 등)을 두는지</strong> 궁금합니다.</li>
</ul>
<h4 id="2-순수-함수의-trade-off"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-순수-함수의-trade-off"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. 순수 함수의 trade-off</h4>
<p>순수 함수를 엄격하게 유지하다 보니, 함수 시그니처가 복잡해지는 경우가 있었습니다</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> calculateItemTotal <span class="token operator">=</span> <span class="token punctuation">(</span>
</span><span class="code-line">  item<span class="token operator">:</span> CartItem<span class="token punctuation">,</span>
</span><span class="code-line">  allCartItems<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">// 이걸 매번 전달해야 함</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export const calculateItemTotal = (
  item: CartItem,
  allCartItems: CartItem[]  // 이걸 매번 전달해야 함
): number =&gt; { ... }
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>vs</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// store에서 가져오면 간단하지만 순수하지 않음</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> calculateItemTotal <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> CartItem<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> cart <span class="token operator">=</span> useCartStore<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cart<span class="token punctuation">;</span> <span class="token comment">// 외부 의존성</span>
</span><span class="code-line">  <span class="token comment">// ...</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// store에서 가져오면 간단하지만 순수하지 않음
export const calculateItemTotal = (item: CartItem): number =&gt; {
  const cart = useCartStore.getState().cart; // 외부 의존성
  // ...
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>실무에서는 이런 trade-off를 어떻게 판단하시나요? 순수성을 지키는 게 항상 옳은 선택일까요?</p>
<h4 id="3-상태-관리-도구-선택에-대한-고민-zustand는-어느-지점에서-필요한가"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3-상태-관리-도구-선택에-대한-고민-zustand는-어느-지점에서-필요한가"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. 상태 관리 도구 선택에 대한 고민 Zustand는 어느 지점에서 필요한가?</h4>
<p>과제를 진행하면서 “전역 상태 관리의 핵심은 props drilling 해소가 아니라 계층 분리”라는 인사이트를 얻었습니다. 다만, 여전히 **“어떤 기준으로 상태 관리 도구를 선택해야 하는가”**에 대한 고민은 남아 있습니다.</p>
<p><strong>아키텍처/도구 선택 관점에서 궁금한 점은 다음과 같습니다.</strong></p>
<ul>
<li>Redux 시절처럼 <strong>모든 상태를 전역에 두는 방식은 이제는 명확한 anti-pattern</strong>이라고 이해하고 있습니다.</li>
<li>그렇다면, “서버 상태는 React Query, 클라이언트 상태는 Zustand”와 같은 패턴은<br/>
실제로 어느 정도 복잡도에서부터 타당한 선택이라고 볼 수 있을까요?<br/>
→ 같은 문제를 ContextAPI + useReducer로도 풀 수 있다면, Zustand/Jotai 도입이 과한 선택이 되는 시점이 궁금합니다.</li>
<li><strong>어떤 기준에서</strong> “이제는 ContextAPI를 넘어서 Zustand/Jotai 같은 전역 상태 라이브러리가 필요하다”고 판단하는지 알고 싶습니다.</li>
<li>Jotai의 atom 기반 모델, Zustand의 store 기반 모델, 그리고 ContextAPI + useReducer 조합이<br/>
각각 <strong>어떤 상황·규모·도메인 특성</strong>에서 잘 맞는 선택인지 경험적인 기준이 궁금합니다.</li>
</ul></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>진성님 수고하셨습니다.</p>
<ul>
<li>Store 분리 기준
네 저는 현재 과제 상황에서는 무난하다고 생각합니다.
확장성을 생각한다면 분리해두는 것이 더 나은 선택이긴 한데요.
그건 먼 미래의 확장성을 &quot;예상&quot;하는 것이고 과제와 같이 예상이 아니라 확정인 상황에서는
묶는 것도 나쁘지 않다고 생각합니다.</li>
</ul>
<p>그리고 결국 순환 참조를 예방하는 방법을 단방형성의 참조를 유지하기 위한
적절한 레이어 구분과 그 일관성을 철저히 지키는 수밖에 없을 것 같아요.
예를들어 UI상태 -&gt; 비지니스 상태 -&gt; 데이터 상태  이렇게 알관성있는 참조구조.</p>
<ul>
<li> 순수 함수의 trade-off
순수함수를 유지하면 좋지만 추상화 래밸이 높아질수록 결국 사이드 이펙트를 활용할 수 밖에 없어요.
그래서 결국 계산만 하는 순수함수와 사이드 이팩트를 활용하는 함수의 레이어를 의도를 가지고 명확히 구분하면 될 것 같습니다.
아주 간단히 예를들면 calculateItemTotal(순수함수)와 스토어를 활용해 카트의 토탈을 계산하는 getCartTotal 이란 함수를 만드는 거죠.</li>
</ul>
<ul>
<li>상태 관리 도구 선택에 대한 고민 Zustand는 어느 지점에서 필요한가?</li>
</ul>
<p>무엇을, 어떻게, 언제까지 만들어야하는 것부터 검토가 필요할 것 같아요.
만들어야할 어플리케이션의 규모를 파악하고 어플리케이션에 필요한 상태들에 대해서 미리 정의를 해둔 다음에 그다음 상태관리 도구를 선택할 수 있을 것 같습니다.</p>
<p>저는 뭐 jotai나 zustand나 역할면에서는 큰 차이가 없다고 생각합니다. 그래서 그냥 상태관리 도구라고 퉁칠게요.</p>
<p>어플리케이션에서 공유되는 상태가 단순하고 거의 바뀌지 않느 상태라면 Context API로 충분히 만들 수 있을 것 같고
그렇지 않으면 상태관리 도구를 고려할 것 같습니다.</p>
<p>jotai냐 zustand냐의 문제는 그냥 취향이나 익숙함의 차이인 것 같아요 :)</p>
<p>수고하셨습니다.</p></div></div><div class="mt-9"></div></div></main></div></div></div>
    <title>[2팀 양진성] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 - 양진성 | 항해플러스 프론트엔드 7기</title>
    <meta name="description" content=" [항해플러스 프론트엔드 7기] 양진성님이 제출한 [2팀 양진성] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="keywords" content="항해플러스, 프론트엔드, 개발자교육, React, TypeScript, JavaScript, 기술면접, 웹개발, 양진성, [2팀 양진성] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계, 과제상세, 코드리뷰, 피드백, Pull Request" />
    <meta property="og:title" content="[2팀 양진성] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 - 양진성 | 항해플러스 프론트엔드 7기" />
    <meta property="og:description" content=" [항해플러스 프론트엔드 7기] 양진성님이 제출한 [2팀 양진성] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta property="og:image" content="/defaultThumbnail.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="[2팀 양진성] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 - 양진성 | 항해플러스 프론트엔드 7기" />
    <meta name="twitter:description" content=" [항해플러스 프론트엔드 7기] 양진성님이 제출한 [2팀 양진성] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="twitter:image" content="/defaultThumbnail.jpg" />
  <!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/front_7th/favicon.ico"/>
  <!--app-head-->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6J8QP7YK1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-6J8QP7YK1E');
  </script>
  <script type="module" crossorigin src="/front_7th/assets/index-C-edMQf_.js"></script>
  <link rel="stylesheet" crossorigin href="/front_7th/assets/index-B1cXSvNG.css">
</head>
<body>
<div id="root"><!--app-html--></div>
</body>
</html>
