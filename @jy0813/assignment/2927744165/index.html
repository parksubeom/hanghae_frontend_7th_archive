<link rel="preload" as="image" href="https://github.com/user-attachments/assets/738df692-0e46-44f8-b26f-6ac8a3f5519c"/><link rel="preload" as="image" href="https://github.com/user-attachments/assets/d7fbe463-ef2f-4e54-ac5a-cb35f5ff3bde"/><link rel="preload" as="image" href="https://github.com/user-attachments/assets/3bc114c7-cae0-4248-9eb9-47d474738ab2"/><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_7th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">7기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_7th/@jy0813/" data-discover="true">jy0813<!-- --> 님의 상세페이지</a> ＞ <!-- -->[5팀 진재윤] Chapter 1-1. 프론트엔드 테스트 코드 익숙해지기</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_7th_chapter1-1/pull/23" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[5팀 진재윤] Chapter 1-1. 프론트엔드 테스트 코드 익숙해지기</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->jy0813</span><span>2025.10.19</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><hr/>
<h1 id="hard"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hard"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>HARD</h1>
<h2 id="과제-체크포인트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-체크포인트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 체크포인트</h2>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 총 11개의 파일, 115개의 단위 테스트를 무사히 작성하고 통과시킨다.</li>
</ul>
<h4 id="질문"><a class="anchor" aria-hidden="true" tabindex="-1" href="#질문"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>질문</h4>
<blockquote>
<p>Q. handlersUtils에 남긴 질문에 답변해주세요.</p>
</blockquote>
<p>medium.useEventOperations.spec 테스트를 개별적으로 실행하면 모두 통과하지만, 전체 테스트를 실행하면 실패하는 현상을 발견했습니다. 이는 테스트 간 상태 공유로 인한 문제였습니다.</p>
<p>1차 시도로 기본 핸들러를 작성하였습니다. (상태 공유 문제)</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token comment">//  기존 medium.useEventOperations.spec 를 각각 테스트 해보기 위해 처음 사용했던 방법</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> handlers <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">  http<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> events <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  http<span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> request <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> newEvent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword control-flow">await</span> request<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> createEvent <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token spread operator">...</span>newEvent<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">    events<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>createEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>createEvent<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">201</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  http<span class="token punctuation">.</span><span class="token method function property-access">put</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events/:id&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params<span class="token punctuation">,</span> request <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> updateEvent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword control-flow">await</span> request<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> eventIndex <span class="token operator">=</span> events<span class="token punctuation">.</span><span class="token method function property-access">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> event<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>eventIndex <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token literal-property property">errorMessage</span><span class="token operator">:</span> <span class="token string">&#x27;존재하지 않는 이벤트 입니다.&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">404</span> <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    events<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>events<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>updateEvent <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>events<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  http<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> eventIndex <span class="token operator">=</span> events<span class="token punctuation">.</span><span class="token method function property-access">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> event<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>eventIndex <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token literal-property property">errorMessage</span><span class="token operator">:</span> <span class="token string">&#x27;일정을 찾을 수 없습니다.&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">404</span> <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    events<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>eventIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token keyword">new</span> <span class="token class-name">HttpResponse</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">204</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="
//  기존 medium.useEventOperations.spec 를 각각 테스트 해보기 위해 처음 사용했던 방법

export const handlers = [
  http.get(&#x27;/api/events&#x27;, () =&gt; {
    return HttpResponse.json({ events }, { status: 200 });
  }),
  http.post(&#x27;/api/events&#x27;, async ({ request }) =&gt; {
    const newEvent = (await request.json()) as Event;
    const createEvent = {
      ...newEvent,
      id: randomUUID(),
    };
    events.push(createEvent);
    return HttpResponse.json(createEvent, { status: 201 });
  }),
  http.put(&#x27;/api/events/:id&#x27;, async ({ params, request }) =&gt; {
    const { id } = params;
    const updateEvent = (await request.json()) as Event;
    const eventIndex = events.findIndex((event) =&gt; event.id === id);
    if (eventIndex === -1) {
      return HttpResponse.json(
        {
          errorMessage: &#x27;존재하지 않는 이벤트 입니다.&#x27;,
        },
        { status: 404 }
      );
    }
    events[eventIndex] = { ...events[eventIndex], ...updateEvent };
    return HttpResponse.json(events[eventIndex], { status: 200 });
  }),
  http.delete(&#x27;/api/events/:id&#x27;, ({ params }) =&gt; {
    const { id } = params;
    const eventIndex = events.findIndex((event) =&gt; event.id === id);
    if (eventIndex === -1) {
      return HttpResponse.json(
        {
          errorMessage: &#x27;일정을 찾을 수 없습니다.&#x27;,
        },
        { status: 404 }
      );
    }
    events.splice(eventIndex, 1);
    return new HttpResponse(null, { status: 204 });
  }),
];

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>하지만 이 코드의 문제점은, 테스트 A가 이벤트를 추가하면 events 배열이 변경되고, 이후 실행되는 테스트 B는 변경된 상태로 시작합니다.</p>
<p>2차 시도로 작성한 코드는 mockEvents + resetMockEvents 으로 작성하였습니다.
원본 데이터를 보존하고 초기화 함수를 만들었습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token operator">/</span> <span class="token constant">MEMO</span><span class="token operator">:</span> 고민해야하는 부분은 medium<span class="token punctuation">.</span><span class="token property-access">useEventOperations</span><span class="token punctuation">.</span><span class="token property-access">spec</span> 를 진행해보니<span class="token punctuation">,</span> 상태가 공유되고있어서 요청이 배열을 직접 변경함<span class="token punctuation">.</span>
</span><span class="code-line"><span class="token comment">// 그럼 뭘 해야할까? 우선 setupTest.ts 에서 resetHandlers()를 확인할 수 있다. https://mswjs.io/docs/api/setup-server/reset-handlers/</span>
</span><span class="code-line"><span class="token comment">// resetHandlers는 server.use() 를 제거하지만, 데이터는 리셋 시키는게 아니다.</span>
</span><span class="code-line"><span class="token comment">// 각 테스트 마다 각 events 배열 복사본을 사용해야한다.</span>
</span><span class="code-line"><span class="token comment">// 그리고 데이터를 리셋 시키는 용도가 필요하다.</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 원본 유지</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">INITIAL_EVENTS</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token spread operator">...</span>events<span class="token punctuation">]</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// mock test 용</span>
</span><span class="code-line"><span class="token keyword">let</span> <span class="token literal-property property">mockEvents</span><span class="token operator">:</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token constant">INITIAL_EVENTS</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> handlers <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">  http<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">events</span><span class="token operator">:</span> mockEvents <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">  http<span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> request <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> newEvent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword control-flow">await</span> request<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> createEvent <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token spread operator">...</span>newEvent<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">    mockEvents<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>newEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>createEvent<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">201</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">  http<span class="token punctuation">.</span><span class="token method function property-access">put</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events/:id&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params<span class="token punctuation">,</span> request <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> updateEvent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword control-flow">await</span> request<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> eventIndex <span class="token operator">=</span> mockEvents<span class="token punctuation">.</span><span class="token method function property-access">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> event<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>eventIndex <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token literal-property property">errorMessage</span><span class="token operator">:</span> <span class="token string">&#x27;존재하지 않는 이벤트 입니다.&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">404</span> <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    mockEvents<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>mockEvents<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>updateEvent <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>mockEvents<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">  http<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> eventIndex <span class="token operator">=</span> mockEvents<span class="token punctuation">.</span><span class="token method function property-access">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> event<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>eventIndex <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token literal-property property">errorMessage</span><span class="token operator">:</span> <span class="token string">&#x27;일정을 찾을 수 없습니다.&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">404</span> <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    mockEvents<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>eventIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token keyword">new</span> <span class="token class-name">HttpResponse</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">204</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 리셋용</span>
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">resetMockEvents</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  mockEvents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token constant">INITIAL_EVENTS</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="/ MEMO: 고민해야하는 부분은 medium.useEventOperations.spec 를 진행해보니, 상태가 공유되고있어서 요청이 배열을 직접 변경함.
// 그럼 뭘 해야할까? 우선 setupTest.ts 에서 resetHandlers()를 확인할 수 있다. https://mswjs.io/docs/api/setup-server/reset-handlers/
// resetHandlers는 server.use() 를 제거하지만, 데이터는 리셋 시키는게 아니다.
// 각 테스트 마다 각 events 배열 복사본을 사용해야한다.
// 그리고 데이터를 리셋 시키는 용도가 필요하다.

// 원본 유지
const INITIAL_EVENTS = [...events] as Event[];

// mock test 용
let mockEvents: Event[] = [...INITIAL_EVENTS];

export const handlers = [
  http.get(&#x27;/api/events&#x27;, () =&gt; {
    return HttpResponse.json({ events: mockEvents }, { status: 200 });
  }),

  http.post(&#x27;/api/events&#x27;, async ({ request }) =&gt; {
    const newEvent = (await request.json()) as Event;

    const createEvent = {
      ...newEvent,
      id: randomUUID(),
    };
    mockEvents.push(newEvent);
    return HttpResponse.json(createEvent, { status: 201 });
  }),

  http.put(&#x27;/api/events/:id&#x27;, async ({ params, request }) =&gt; {
    const { id } = params;
    const updateEvent = (await request.json()) as Event;
    const eventIndex = mockEvents.findIndex((event) =&gt; event.id === id);

    if (eventIndex === -1) {
      return HttpResponse.json(
        {
          errorMessage: &#x27;존재하지 않는 이벤트 입니다.&#x27;,
        },
        { status: 404 }
      );
    }

    mockEvents[eventIndex] = { ...mockEvents[eventIndex], ...updateEvent };

    return HttpResponse.json(mockEvents[eventIndex], { status: 200 });
  }),

  http.delete(&#x27;/api/events/:id&#x27;, ({ params }) =&gt; {
    const { id } = params;
    const eventIndex = mockEvents.findIndex((event) =&gt; event.id === id);

    if (eventIndex === -1) {
      return HttpResponse.json(
        {
          errorMessage: &#x27;일정을 찾을 수 없습니다.&#x27;,
        },
        { status: 404 }
      );
    }

    mockEvents.splice(eventIndex, 1);

    return new HttpResponse(null, { status: 204 });
  }),
];

// 리셋용
export const resetMockEvents = () =&gt; {
  mockEvents = [...INITIAL_EVENTS];
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>2차 코드는 setupTest.ts의 afterEach에서 수동으로 resetMockEvents() 호출이 필요하고,
handlersUtils 에 기재된 로직을 이용하여 구현하는게 과제의 목표로 인식하였습니다.</p>
<p>그래서 아래에 3차 코드를 진행하게되었습니다.
각 테스트가 독립적인 상태 인스턴스를 가지도록 팩토리 함수로 핸들러를 생성하는 방식입니다.
클로저로 캡슐화된 독립적인 상태를 유지하고, 나머지 핸들러들도 같은 mockEvents 클로저 공유하였습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">createEventHandlers</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">initialEvents</span><span class="token operator">:</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> mockEvents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token spread operator">...</span>initialEvents<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> getEventHandler <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">events</span><span class="token operator">:</span> mockEvents <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> postEventHandler <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> request <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> newEvent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword control-flow">await</span> request<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> createEvent <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token spread operator">...</span>newEvent<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">    mockEvents<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>createEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>createEvent<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">201</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> putEventHandler <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token method function property-access">put</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events/:id&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params<span class="token punctuation">,</span> request <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> updateEvent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword control-flow">await</span> request<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> eventIndex <span class="token operator">=</span> mockEvents<span class="token punctuation">.</span><span class="token method function property-access">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> event<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>eventIndex <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token literal-property property">errorMessage</span><span class="token operator">:</span> <span class="token string">&#x27;존재하지 않는 이벤트 입니다.&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">404</span> <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    mockEvents<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>mockEvents<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>updateEvent <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>mockEvents<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> deleteEventHandler <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> eventIndex <span class="token operator">=</span> mockEvents<span class="token punctuation">.</span><span class="token method function property-access">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> event<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>eventIndex <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token literal-property property">errorMessage</span><span class="token operator">:</span> <span class="token string">&#x27;일정을 찾을 수 없습니다.&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">404</span> <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    mockEvents<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>eventIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token keyword">new</span> <span class="token class-name">HttpResponse</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">204</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>getEventHandler<span class="token punctuation">,</span> postEventHandler<span class="token punctuation">,</span> putEventHandler<span class="token punctuation">,</span> deleteEventHandler<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> handlers <span class="token operator">=</span> <span class="token function">createEventHandlers</span><span class="token punctuation">(</span>events <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="export const createEventHandlers = (initialEvents: Event[]) =&gt; {
  let mockEvents = [...initialEvents];

  const getEventHandler = http.get(&#x27;/api/events&#x27;, () =&gt; {
    return HttpResponse.json({ events: mockEvents }, { status: 200 });
  });

  const postEventHandler = http.post(&#x27;/api/events&#x27;, async ({ request }) =&gt; {
    const newEvent = (await request.json()) as Event;

    const createEvent = {
      ...newEvent,
      id: randomUUID(),
    };
    mockEvents.push(createEvent);
    return HttpResponse.json(createEvent, { status: 201 });
  });

  const putEventHandler = http.put(&#x27;/api/events/:id&#x27;, async ({ params, request }) =&gt; {
    const { id } = params;
    const updateEvent = (await request.json()) as Event;
    const eventIndex = mockEvents.findIndex((event) =&gt; event.id === id);

    if (eventIndex === -1) {
      return HttpResponse.json(
        {
          errorMessage: &#x27;존재하지 않는 이벤트 입니다.&#x27;,
        },
        { status: 404 }
      );
    }

    mockEvents[eventIndex] = { ...mockEvents[eventIndex], ...updateEvent };

    return HttpResponse.json(mockEvents[eventIndex], { status: 200 });
  });

  const deleteEventHandler = http.delete(&#x27;/api/events/:id&#x27;, ({ params }) =&gt; {
    const { id } = params;
    const eventIndex = mockEvents.findIndex((event) =&gt; event.id === id);

    if (eventIndex === -1) {
      return HttpResponse.json(
        {
          errorMessage: &#x27;일정을 찾을 수 없습니다.&#x27;,
        },
        { status: 404 }
      );
    }

    mockEvents.splice(eventIndex, 1);

    return new HttpResponse(null, { status: 204 });
  });

  return [getEventHandler, postEventHandler, putEventHandler, deleteEventHandler];
};

export const handlers = createEventHandlers(events as Event[]);

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// export const setupMockHandlerCreation = (initEvents: Event[]) =&gt; {};</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// export const setupMockHandlerUpdating = () =&gt; {};</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// export const setupMockHandlerDeletion = () =&gt; {};</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setupMockHandlers</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">initEvents</span><span class="token operator">:</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> events <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> handlers <span class="token operator">=</span> <span class="token function">createEventHandlers</span><span class="token punctuation">(</span>initEvents<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  server<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token spread operator">...</span>handlers<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setupMockHandlerLoadingError</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  server<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>
</span><span class="code-line">    http<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#x27;네트워크 오류&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">500</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setupMockHandlerDeletionError</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  server<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>
</span><span class="code-line">    http<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#x27;네트워크 오류&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">500</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="// export const setupMockHandlerCreation = (initEvents: Event[]) =&gt; {};

// export const setupMockHandlerUpdating = () =&gt; {};

// export const setupMockHandlerDeletion = () =&gt; {};

export const setupMockHandlers = (initEvents: Event[] = events as Event[]) =&gt; {
  const handlers = createEventHandlers(initEvents);
  server.use(...handlers);
};

export const setupMockHandlerLoadingError = () =&gt; {
  server.use(
    http.get(&#x27;/api/events&#x27;, () =&gt; {
      return HttpResponse.json({ message: &#x27;네트워크 오류&#x27; }, { status: 500 });
    })
  );
};

export const setupMockHandlerDeletionError = () =&gt; {
  server.use(
    http.delete(&#x27;/api/events/:id&#x27;, () =&gt; {
      return HttpResponse.json({ message: &#x27;네트워크 오류&#x27; }, { status: 500 });
    })
  );
};

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>server.use(...handlers)는 기존 핸들러를 덮어쓰고, 각 테스트가 자신만의 핸들러를 인스턴스 등록하게 만들었습니다.
테스트 종료 후에는 기존에 setupTests.ts 에 afterEach 에서 server.resetHandlers(); 를 통해 초기화합니다.</p>
<blockquote>
<p>Q. 테스트를 독립적으로 구동시키기 위해 작성했던 설정들을 소개해주세요.</p>
</blockquote>
<p>사실 setupTests.ts 에는 이미 필요하다고 생각한 생명주기 관리나 초기화 등이 잘 이루어지고 있었습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">setupServer</span><span class="token punctuation">(</span><span class="token spread operator">...</span>handlers<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">beforeAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  server<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 모든 테스트 시작 전 MSW 서버 활성화</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  expect<span class="token punctuation">.</span><span class="token method function property-access">hasAssertions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 각 테스트는 최소 1개 이상의 assertion 필수</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  server<span class="token punctuation">.</span><span class="token method function property-access">resetHandlers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 테스트 간 핸들러 오버라이드 초기화</span>
</span><span class="code-line">  vi<span class="token punctuation">.</span><span class="token method function property-access">clearAllMocks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 모든 mock 함수 호출 기록 제거</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">afterAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  vi<span class="token punctuation">.</span><span class="token method function property-access">resetAllMocks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 모든 mock 완전 초기화</span>
</span><span class="code-line">  server<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// MSW 서버 종료</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export const server = setupServer(...handlers);

beforeAll(() =&gt; {
  server.listen();  // 모든 테스트 시작 전 MSW 서버 활성화
});

beforeEach(() =&gt; {
  expect.hasAssertions();  // 각 테스트는 최소 1개 이상의 assertion 필수
});

afterEach(() =&gt; {
  server.resetHandlers();  // 테스트 간 핸들러 오버라이드 초기화
  vi.clearAllMocks();      // 모든 mock 함수 호출 기록 제거
});

afterAll(() =&gt; {
  vi.resetAllMocks();  // 모든 mock 완전 초기화
  server.close();      // MSW 서버 종료
});
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>테스트만의 독립적인 핸들러를 생성하고 다음 테스트에 영향이 없고, 성공뿐 아닌 에러 핸들러도 같이 구현하여 사용하였습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// 기본 핸들러 </span>
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setupMockHandlers</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">initEvents</span><span class="token operator">:</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> events <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> handlers <span class="token operator">=</span> <span class="token function">createEventHandlers</span><span class="token punctuation">(</span>initEvents<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  server<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token spread operator">...</span>handlers<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 기존 핸들러 오버라이드</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 로딩 에러 </span>
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setupMockHandlerLoadingError</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  server<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>
</span><span class="code-line">    http<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#x27;네트워크 오류&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">500</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 삭제 에러 </span>
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setupMockHandlerDeletionError</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  server<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>
</span><span class="code-line">    http<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#x27;네트워크 오류&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">500</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// 기본 핸들러 
export const setupMockHandlers = (initEvents: Event[] = events as Event[]) =&gt; {
  const handlers = createEventHandlers(initEvents);
  server.use(...handlers);  // 기존 핸들러 오버라이드
};

// 로딩 에러 
export const setupMockHandlerLoadingError = () =&gt; {
  server.use(
    http.get(&#x27;/api/events&#x27;, () =&gt; {
      return HttpResponse.json({ message: &#x27;네트워크 오류&#x27; }, { status: 500 });
    })
  );
};

// 삭제 에러 
export const setupMockHandlerDeletionError = () =&gt; {
  server.use(
    http.delete(&#x27;/api/events/:id&#x27;, () =&gt; {
      return HttpResponse.json({ message: &#x27;네트워크 오류&#x27; }, { status: 500 });
    })
  );
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>그 외의 테스트 내부에서, 타이머 및 날짜관련 faker 함수들을 사용하였습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  vi<span class="token punctuation">.</span><span class="token method function property-access">useFakeTimers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  vi<span class="token punctuation">.</span><span class="token method function property-access">setSystemTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&#x27;2025-10-01T14:24:59&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  vi<span class="token punctuation">.</span><span class="token method function property-access">clearAllTimers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  vi<span class="token punctuation">.</span><span class="token method function property-access">useRealTimers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="beforeEach(() =&gt; {
  vi.useFakeTimers();
  vi.setSystemTime(new Date(&#x27;2025-10-01T14:24:59&#x27;));
});

afterEach(() =&gt; {
  vi.clearAllTimers();
  vi.useRealTimers();
});
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<!-- -->
<p>사전 스터디로 테스트 코드를 공부했지만, 막상 직접 작성하니 생각보다 고려할 부분이 훨씬 많았습니다.</p>
<p>처음엔 단순해 보였던 테스트 케이스도, &quot;어떤 메서드를 써야 하지?&quot;, &quot;이게 정말 필요한 검증일까?&quot;,
&quot;테스트 간 상태 공유를 어떻게 막지?&quot; 같은 고민들이 겹치면서 예상보다 많은 시간이 필요했습니다.</p>
<p>MSW도 기존에는 백엔드 API 개발 전 UI 프로토타이핑이나 개인 프로젝트에서만 사용해봤는데,
테스트 환경에서 이렇게 활용할 수 있다는 걸 이번에 처음 알게 되었습니다.  특히 클로저 패턴으로 각 테스트의 상태를 완전히 격리시키는 방법이 인상 깊었습니다.</p>
<p>테스트 작성에는 &quot;이게 정답이다&quot;라는 명확한 기준이 없어서 처음엔 막막했지만, 오히려 그 과정에서 &quot;무엇이 진짜 의미 있는 검증인가?&quot;를 계속 고민하게 되었고, 코드를 검증하는 것뿐만 아니라, 검증 방법 자체를 설계하는 능력을 키울 수 있는 소중한 경험이었습니다.</p>
<p>그리고, useEventOperations Hook 테스트를 작성하면서 waitFor의 사용 기준에 대해 깊이 고민하게 되었습니다.</p>
<p>제가 생각한건 비동기 작업 완료 시점이나 상태 업데이트를 직접 await 할 수 없는 경우 (useEffect 안에서 API를 fetch하고 setState로 상태를 업데이트하는 경우) 면 waitFor이 필요하다(?) 로 이해했습니다.</p>
<p>그런데 막상 코드를 실행해보니,</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> result <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">renderHook</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">useEventOperations</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">await</span> <span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token property-access">events</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveLength</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">await</span> <span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>enqueueSnackbarFn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveBeenCalledWith</span><span class="token punctuation">(</span><span class="token string">&#x27;일정 로딩 완료!&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token literal-property property">variant</span><span class="token operator">:</span> <span class="token string">&#x27;info&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="const { result } = renderHook(() =&gt; useEventOperations(false));

  await waitFor(() =&gt; expect(result.current.events).toHaveLength(1));

  await waitFor(() =&gt;
    expect(enqueueSnackbarFn).toHaveBeenCalledWith(&#x27;일정 로딩 완료!&#x27;, {
      variant: &#x27;info&#x27;,
    })
  );
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> result <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">renderHook</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">useEventOperations</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">await</span> <span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token property-access">events</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveLength</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>enqueueSnackbarFn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveBeenCalledWith</span><span class="token punctuation">(</span><span class="token string">&#x27;일정 로딩 완료!&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">variant</span><span class="token operator">:</span> <span class="token string">&#x27;info&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="  const { result } = renderHook(() =&gt; useEventOperations(false));

  await waitFor(() =&gt; expect(result.current.events).toHaveLength(1));

  expect(enqueueSnackbarFn).toHaveBeenCalledWith(&#x27;일정 로딩 완료!&#x27;, {
    variant: &#x27;info&#x27;,
  });
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>첫 번째 검증에서 waitFor로 비동기 작업 완료를 기다렸다면, 그 이후 동기적으로 실행된 코드는 이미 완료된 상태이므로 waitFor 없이 바로 검증해도 되는 걸까요? 아니면 안전하게 모든 검증에 waitFor를 사용하는 것이 더 나을까요? 라는 질문에 테오가 편하게 사용하면 된다 해주셔서 그래도 고민이 많이 줄었습니다.</p>
<p>그리고  useNotifications Hook을 테스트하던 중, 예상치 못한 현상을 발견했습니다
<img width="928" height="450" alt="image" src="https://github.com/user-attachments/assets/738df692-0e46-44f8-b26f-6ac8a3f5519c"/></p>
<p>영서님과 준형님이 준형님과 영서님께서 핵심 원리를 설명해주셨습니다.</p>
<img width="961" height="257" alt="image" src="https://github.com/user-attachments/assets/d7fbe463-ef2f-4e54-ac5a-cb35f5ff3bde"/>
<p>Fake Timer의 작동 방식에 대하여 잘 설명해주셔서</p>
<img width="923" height="643" alt="image" src="https://github.com/user-attachments/assets/3bc114c7-cae0-4248-9eb9-47d474738ab2"/>
<p>React State 배치 업데이트 + 클로저의 함정과 600번의 콜백이 모두 같은 시점의 state 스냅샷을 참조한다는 점도 알게되고,</p>
<ul>
<li>Fake Timer가 600개의 콜백을 &quot;동기적으로&quot; 몰아서 실행</li>
<li>각 콜백은 클로저로 이전 렌더링의 state 값을 캡처</li>
<li>React의 배치 업데이트가 적용되기 전에 다음 콜백 실행</li>
<li>중복 체크 로직(notifiedEvents.includes(id))이 제대로 작동하지 않음</li>
</ul>
<p>라는 걸 엄청 잘 설명해주신거같아요! 그리고 이걸 계기로, 클로저가 독립적인 상태를 기억한다면... 각 테스트마다 독립적인 상태를 가진 클로저를 만들면 어떨까? 하여, 600개의 함수가 같은 클로저 상태를 공유 → 중복 실행 하니 솔루션으로 각 테스트가 다른 클로저 상태를 가짐 → 격리 달성 을 하면 되겠구나! 라는 깨달음으로  handler를 팩토리 패턴 + 클로저로 구현하였습니다!</p>
<p>준형님과 영서님의 명쾌한 설명 덕분에</p>
<ul>
<li>Fake Timer의 동작 원리 이해</li>
<li>클로저와 State 업데이트의 상호작용 학습</li>
<li>MSW 핸들러 격리 전략까지 확장</li>
</ul>
<p>한 가지 문제의 깊은 이해가 다른 문제의 해결책으로 이어지는 경험을 할 수 있었습니다.</p>
<p>두 분께 진심으로 감사드립니다! 🙏</p>
<h3 id="기술적-성장"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기술적-성장"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기술적 성장</h3>
<!-- -->
<p>Vitest Fake Timer의 동작 원리</p>
<ul>
<li>vi.advanceTimersByTime()이 시간을 &quot;점프&quot;시키는 것이 아니라, 해당 시간 동안의 모든 타이머 콜백을 연속 실행한다는 것을 깨달음</li>
<li>10분을 진행 → 1초 간격 setInterval이 600번 연속 실행되는 메커니즘 이해</li>
<li>React의 배치 업데이트와 클로저가 결합될 때 발생하는 상태 스냅샷 문제 학습</li>
</ul>
<ol start="2">
<li>Testing Library의 비동기 처리 전략</li>
</ol>
<ul>
<li>waitFor의 폴링 메커니즘과 사용 시점 이해</li>
<li>useEffect 내부 비동기 작업은 직접 await할 수 없어 waitFor가 필수</li>
<li>첫 번째 검증에서 waitFor로 완료를 보장하면, 후속 동기 검증은 선택적</li>
</ul>
<ol start="3">
<li>MSW를 테스트 인프라로 활용</li>
</ol>
<ul>
<li>기존: 백엔드 API 개발 전 프로토타이핑 용도로만 사용</li>
<li>새로운 발견: 테스트 환경에서 독립적인 상태 관리 도구로서의 가치</li>
<li>server.use() + resetHandlers()를 통한 테스트 격리 메커니즘 학습</li>
</ul>
<p>⭐️ 한 가지 문제의 이해가 다른 문제의 해결책으로 이어지는 경험 ⭐️</p>
<h3 id="코드-품질"><a class="anchor" aria-hidden="true" tabindex="-1" href="#코드-품질"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>코드 품질</h3>
<!-- -->
<p>계속 얘기해서 조금 민망하긴한데...이렇게 처음 해봐서..!</p>
<p>MSW 핸들러 팩토리 패턴! 만족 이유는 테스트 격리를 코드 레벨에서 보장하고, afterEach에서 수동 초기화 불필요하고, 병렬 테스트 실행 시에도 안정적으로 작동하였습니다! 그리고 테스트별 독립적인 핸들러 설정 유틸도 선언적이고 재사용 가능하여 좋았습니다.</p>
<p>waitFor 중복 사용의 필요성과 afterEach에서 resetMockEvents() 등을 활용해서 하는게 그래도 조금 더 실무에서 빠르게 테스트가,
가능하지 않을까? 라는 생각도 들긴했지만 과제의 초점에 맞춰서 진행했습니다!</p>
<p>리팩토링 관련해서는 리팩토링 할려고 미리 따로 정리 좀 해놓았는데..점점 금요일 아침이 다가올수록 마음도 급해지고 난이도가 올라가면서,
어느순간부터 과제를 꼭 제출하기 위해서 밤을 지새웟더니...리팩토링 시간이 사라졌습니다.. 나중에라도 혼자서 꼭 진행해보고싶습니다!</p>
<h3 id="학습-효과-분석"><a class="anchor" aria-hidden="true" tabindex="-1" href="#학습-효과-분석"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>학습 효과 분석</h3>
<!-- -->
<p>명확한 정답이 없는 상황에서 더 좋은 선택을 고민하는 능력</p>
<ul>
<li>무엇이 유의미한 검증인가?</li>
<li>테스트가 구현 세부사항이 아닌 동작을 검증하는가?</li>
<li>리팩토링 시에도 테스트가 유효한가?</li>
</ul>
<p>양면성</p>
<ul>
<li>문제의 원인(상태 공유)이자 해결책(상태 격리)</li>
<li>한 가지 개념의 깊은 이해가 여러 문제 해결로 연결</li>
</ul>
<p>추가 학습이 필요한 영역</p>
<ul>
<li>테스트 커버리지 전략</li>
<li>어느 수준까지 테스트해야 충분한가?</li>
<li>단위 / 통합테스트</li>
</ul>
<p>Mock vs Stub vs Spy 구분과 활용</p>
<ul>
<li>현재 vi.fn()만 사용했는데, 상황별 적절한 테스트 더블 선택 기준</li>
</ul>
<p>테스트 성능 최적화</p>
<ul>
<li>테스트 실행 속도 개선 방법</li>
<li>병렬화 전략</li>
</ul>
<h3 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h3>
<!-- -->
<p>Easy → Medium → Hard 단계별 학습은 좋았던거같요! 개념을 먼저 익히고 점차 복잡한 상황 적용하는거..?
그래도 처음해보는 입장으로서는 너무 많고 어려웠어요.. 그런데 또 import 로 어떤걸 사용해야하는지 방향성을 제시해주셔서 좋았습니다!
그리고 오프코치님께서 제거해도 좋다고 하신 테스트들에 대해서도 공유해주시면 좋겠습니다!</p>
<h2 id="리뷰-받고-싶은-내용"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용</h2>
<!-- -->
<!-- -->
<p>현재는 아래 코드를 배열로 반환하는데, 객체로 반환({ get, post, put, delete })하는 것이 더 명확할까요?</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">createEventHandlers</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">initialEvents</span><span class="token operator">:</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> mockEvents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token spread operator">...</span>initialEvents<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> getEventHandler <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">events</span><span class="token operator">:</span> mockEvents <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> postEventHandler <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> request <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> newEvent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword control-flow">await</span> request<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> createEvent <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token spread operator">...</span>newEvent<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">    mockEvents<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>createEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>createEvent<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">201</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> putEventHandler <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token method function property-access">put</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events/:id&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params<span class="token punctuation">,</span> request <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> updateEvent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword control-flow">await</span> request<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> eventIndex <span class="token operator">=</span> mockEvents<span class="token punctuation">.</span><span class="token method function property-access">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> event<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>eventIndex <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token literal-property property">errorMessage</span><span class="token operator">:</span> <span class="token string">&#x27;존재하지 않는 이벤트 입니다.&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">404</span> <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    mockEvents<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>mockEvents<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>updateEvent <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>mockEvents<span class="token punctuation">[</span>eventIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> deleteEventHandler <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/events/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> eventIndex <span class="token operator">=</span> mockEvents<span class="token punctuation">.</span><span class="token method function property-access">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> event<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>eventIndex <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">HttpResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token literal-property property">errorMessage</span><span class="token operator">:</span> <span class="token string">&#x27;일정을 찾을 수 없습니다.&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">404</span> <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    mockEvents<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>eventIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token keyword">new</span> <span class="token class-name">HttpResponse</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">204</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>getEventHandler<span class="token punctuation">,</span> postEventHandler<span class="token punctuation">,</span> putEventHandler<span class="token punctuation">,</span> deleteEventHandler<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> handlers <span class="token operator">=</span> <span class="token function">createEventHandlers</span><span class="token punctuation">(</span>events <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="

export const createEventHandlers = (initialEvents: Event[]) =&gt; {
  let mockEvents = [...initialEvents];

  const getEventHandler = http.get(&#x27;/api/events&#x27;, () =&gt; {
    return HttpResponse.json({ events: mockEvents }, { status: 200 });
  });

  const postEventHandler = http.post(&#x27;/api/events&#x27;, async ({ request }) =&gt; {
    const newEvent = (await request.json()) as Event;

    const createEvent = {
      ...newEvent,
      id: randomUUID(),
    };
    mockEvents.push(createEvent);
    return HttpResponse.json(createEvent, { status: 201 });
  });

  const putEventHandler = http.put(&#x27;/api/events/:id&#x27;, async ({ params, request }) =&gt; {
    const { id } = params;
    const updateEvent = (await request.json()) as Event;
    const eventIndex = mockEvents.findIndex((event) =&gt; event.id === id);

    if (eventIndex === -1) {
      return HttpResponse.json(
        {
          errorMessage: &#x27;존재하지 않는 이벤트 입니다.&#x27;,
        },
        { status: 404 }
      );
    }

    mockEvents[eventIndex] = { ...mockEvents[eventIndex], ...updateEvent };

    return HttpResponse.json(mockEvents[eventIndex], { status: 200 });
  });

  const deleteEventHandler = http.delete(&#x27;/api/events/:id&#x27;, ({ params }) =&gt; {
    const { id } = params;
    const eventIndex = mockEvents.findIndex((event) =&gt; event.id === id);

    if (eventIndex === -1) {
      return HttpResponse.json(
        {
          errorMessage: &#x27;일정을 찾을 수 없습니다.&#x27;,
        },
        { status: 404 }
      );
    }

    mockEvents.splice(eventIndex, 1);

    return new HttpResponse(null, { status: 204 });
  });

  return [getEventHandler, postEventHandler, putEventHandler, deleteEventHandler];
};

export const handlers = createEventHandlers(events as Event[]);

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>위 코드를 사용하여 handlersUtills 에서</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setupMockHandlers</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">initEvents</span><span class="token operator">:</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> events <span class="token keyword module">as</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> handlers <span class="token operator">=</span> <span class="token function">createEventHandlers</span><span class="token punctuation">(</span>initEvents<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  server<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token spread operator">...</span>handlers<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="
export const setupMockHandlers = (initEvents: Event[] = events as Event[]) =&gt; {
  const handlers = createEventHandlers(initEvents);
  server.use(...handlers);
};

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>형식으로 사용하였는데,</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setupMockHandlerCreation</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">initEvents</span><span class="token operator">:</span> <span class="token maybe-class-name">Event</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setupMockHandlerUpdating</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setupMockHandlerDeletion</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export const setupMockHandlerCreation = (initEvents: Event[]) =&gt; {};

export const setupMockHandlerUpdating = () =&gt; {};

export const setupMockHandlerDeletion = () =&gt; {};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>기존 제공하신 함수를 유지하고 오히려 함수명에서나 함수 안에서 server.use를 통하여 http 메서드를
한눈에 파악할수있도록 만드는게 더 가독성이나 협업 측면에서 좋을까요?</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> createEvent <span class="token operator">=</span> <span class="token punctuation">(</span>overrides<span class="token operator">:</span> <span class="token maybe-class-name">Partial</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Event</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token maybe-class-name">Event</span></span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#x27;1&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#x27;테스트&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">&#x27;2025-10-21&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">startTime</span><span class="token operator">:</span> <span class="token string">&#x27;14:30&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">endTime</span><span class="token operator">:</span> <span class="token string">&#x27;15:00&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#x27;공부하기&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token string">&#x27;집&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">category</span><span class="token operator">:</span> <span class="token string">&#x27;공부&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">repeat</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#x27;none&#x27;</span><span class="token punctuation">,</span> <span class="token literal-property property">interval</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">notificationTime</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token spread operator">...</span>overrides<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="const createEvent = (overrides: Partial&lt;Event&gt; = {}): Event =&gt; ({
  id: &#x27;1&#x27;,
  title: &#x27;테스트&#x27;,
  date: &#x27;2025-10-21&#x27;,
  startTime: &#x27;14:30&#x27;,
  endTime: &#x27;15:00&#x27;,
  description: &#x27;공부하기&#x27;,
  location: &#x27;집&#x27;,
  category: &#x27;공부&#x27;,
  repeat: { type: &#x27;none&#x27;, interval: 0 },
  notificationTime: 5,
  ...overrides,
});
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>easy.eventOverlap.spec 에서 사실 테스트 데이터에서 필요한건 date, startTime, endTime 인데, as 를 사용하여 Event 타입단언을 했으면, date, startTime, endTime 만 사용해서 만들엇을텐데라는 생각이 들어서.. 안좋은 방식일까요?</p>
<h2 id="궁금한-점"><a class="anchor" aria-hidden="true" tabindex="-1" href="#궁금한-점"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>궁금한 점</h2>
<!-- -->
<p>테스트 코드의 리팩토링 시점이 궁금합니다! 테스트가 통과하면 테스트 코드는 건드리지 않는다 vs 테스트 코드도 지속적으로 개선한다 중,
어떤 접근이 좋을까요?</p>
<h2 id="과제를-수행하면서-느낀점"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-수행하면서-느낀점"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 수행하면서 느낀점</h2>
<h3 id="과제-시작-전-생각"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-시작-전-생각"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 시작 전 생각</h3>
<!-- -->
<p>테스트 코드는 그냥 작동만 하면 되는 거 아닌가..? 사전 스터디로 Testing Library와 Vitest 문법을 배웠을 때는
이 정도면 충분히 할 수 있겠다고 생각했습니다. 테스트는 단순히 expect(value).toBe(expected) 같은 검증만 하면 되고 쉬워보였어요 사실..</p>
<h3 id="과제-제출-후-생각"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-제출-후-생각"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 제출 후 생각</h3>
<!-- -->
<p>테스트 코드는 설계이자 문서이며, 미래를 위한 투자다. 하지만 진짜 진짜 어렵다.. 항해 시작하고 면도할 시간도 없엇다...</p>
<h2 id="기타"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기타"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기타</h2>
<h3 id="과제-난이도"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-난이도"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 난이도</h3>
<p>⭐⭐⭐⭐⭐</p>
<p>아직도 잘한건지,,맞는건지도 사실 모르겠습니다🥲</p>
</div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>재윤님 수고 많았어요! 이번 과제는 테스트를 하는 다양한 방법들을 접하면서 테스트 코드를 작성한다는 그 심리적 장벽을 허물고 친숙해지는데 있었습니다.... 만 그걸 뛰어넘어서 Hard까지 완주하시고 회고도 정말... 압도적이네요. &quot;항해 시작하고 면도할 시간도 없었다&quot;는 말에서 얼마나 몰입했는지 느껴집니다! 수고했습니다.</p>
<p>무엇보다 준형님과 영서님과의 협업 학습 과정을 엿볼 수 있어서 너무 좋았습니다. Fake Timer의 동작 원리를 바탕으로 함께 의논하고 고민하면서 깊이있는 개발적 고민을 함께 나누는 과정에서 피상적으로 그치는게 아니라 아주 상세하고 구체적인 내용까지 이어져가는 부분이 너무 인상적이네요. 피드백을 어떻게 써야 할까 되려 막막해지네요. 많은 사람들이 볼 수 있도록 Best Practice를 줘야겠다 생각 뿐입니다.</p>
<p>Q) 테스트 코드의 리팩토링 시점이 궁금합니다! 테스트가 통과하면 테스트 코드는 건드리지 않는다 vs 테스트 코드도 지속적으로 개선한다 중,</p>
<p>=&gt; 테스트는 말 그대로 명세이자 검증의 도구인 만큼 테스트 코드가 기준이 되고 소스 코드를 그에 맞게 바꿔야 하는게 맞습니다. 그렇지만 테스트 코드는 명세를 구체화 한것인만큼 명세가 바뀌었다면 당연히 테스트 코드도 그에 따라 리팩토링이 되어야겠지요. 명세 &gt; 테스트 &gt; 구현 순으로 변화의 의존성이 있고 이를 따라가는 것이라고 생각하면 되겠습니다. 그래서 요구사항이 너무 자주 바뀌는 순간에는 테스트 코드를 만들기가 참 어려운 것이지요.</p>
<p>너무 너무 잘했습니다. &quot;아직도 잘한건지,,맞는건지도 사실 모르겠습니다🥲&quot; 라고 했지만 그랬다면 이렇게 상세한 회고를 쓸 수가 없어요. 잘한다의 기준은 얼마나 나의 경험과 기술적 해상도가 선명해지는가 라고 생각해주세요. 아주 선명한 고민들의 지점들이 어느순간 다 촘촘하게 연결이 될거에요! 다음 과제도 기대할게요!</p></div></div><div class="mt-9"></div></div></main></div></div></div>
    <title>[5팀 진재윤] Chapter 1-1. 프론트엔드 테스트 코드 익숙해지기 - 진재윤 | 항해플러스 프론트엔드 7기</title>
    <meta name="description" content=" [항해플러스 프론트엔드 7기] 진재윤님이 제출한 [5팀 진재윤] Chapter 1-1. 프론트엔드 테스트 코드 익숙해지기 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="keywords" content="항해플러스, 프론트엔드, 개발자교육, React, TypeScript, JavaScript, 기술면접, 웹개발, 진재윤, [5팀 진재윤] Chapter 1-1. 프론트엔드 테스트 코드 익숙해지기, 과제상세, 코드리뷰, 피드백, Pull Request" />
    <meta property="og:title" content="[5팀 진재윤] Chapter 1-1. 프론트엔드 테스트 코드 익숙해지기 - 진재윤 | 항해플러스 프론트엔드 7기" />
    <meta property="og:description" content=" [항해플러스 프론트엔드 7기] 진재윤님이 제출한 [5팀 진재윤] Chapter 1-1. 프론트엔드 테스트 코드 익숙해지기 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta property="og:image" content="/defaultThumbnail.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="[5팀 진재윤] Chapter 1-1. 프론트엔드 테스트 코드 익숙해지기 - 진재윤 | 항해플러스 프론트엔드 7기" />
    <meta name="twitter:description" content=" [항해플러스 프론트엔드 7기] 진재윤님이 제출한 [5팀 진재윤] Chapter 1-1. 프론트엔드 테스트 코드 익숙해지기 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="twitter:image" content="/defaultThumbnail.jpg" />
  <!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/front_7th/favicon.ico"/>
  <!--app-head-->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6J8QP7YK1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-6J8QP7YK1E');
  </script>
  <script type="module" crossorigin src="/front_7th/assets/index-C-edMQf_.js"></script>
  <link rel="stylesheet" crossorigin href="/front_7th/assets/index-B1cXSvNG.css">
</head>
<body>
<div id="root"><!--app-html--></div>
</body>
</html>
