<div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_7th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">7기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_7th/@jy0813/" data-discover="true">jy0813<!-- --> 님의 상세페이지</a> ＞ <!-- -->[5팀 진재윤] Chapter2-1. 프레임워크 없이 SPA 만들기 </h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_7th_chapter2-1/pull/38" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[5팀 진재윤] Chapter2-1. 프레임워크 없이 SPA 만들기 </h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->jy0813</span><span>2025.11.10</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-체크포인트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-체크포인트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 체크포인트</h2>
<h3 id="배포-링크"><a class="anchor" aria-hidden="true" tabindex="-1" href="#배포-링크"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>배포 링크</h3>
<p><a href="https://jy0813.github.io/front_7th_chapter2-1/">https://jy0813.github.io/front_7th_chapter2-1/</a></p>
<!-- -->
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<h4 id="상품목록"><a class="anchor" aria-hidden="true" tabindex="-1" href="#상품목록"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>상품목록</h4>
<p><strong>상품 목록 로딩</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 페이지 접속 시 로딩 상태가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 데이터 로드 완료 후 상품 목록이 렌더링된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 로딩 실패 시 에러 상태가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 에러 발생 시 재시도 버튼이 제공된다</li>
</ul>
<p><strong>상품 목록 조회</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 상품의 기본 정보(이미지, 상품명, 가격)가 카드 형태로 표시된다</li>
</ul>
<p><strong>한 페이지에 보여질 상품 수 선택</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 드롭다운에서 10, 20, 50, 100개 중 선택할 수 있으며 기본 값은 20개 이다.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 선택 변경 시 즉시 목록에 반영된다</li>
</ul>
<p><strong>상품 정렬 기능</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품을 가격순/이름순으로 오름차순/내림차순 정렬을 할 수 있다.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 드롭다운을 통해 정렬 기준을 선택할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 정렬 변경 시 즉시 목록에 반영된다</li>
</ul>
<p><strong>무한 스크롤 페이지네이션</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 페이지 하단 근처 도달 시 다음 페이지 데이터가 자동 로드된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 스크롤에 따라 계속해서 새로운 상품들이 목록에 추가된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새 데이터 로드 중일 때 로딩 인디케이터와 스켈레톤 UI가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 홈 페이지에서만 무한 스크롤이 활성화된다</li>
</ul>
<p><strong>상품을 장바구니에 담기</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 상품에 장바구니 추가 버튼이 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 버튼 클릭 시 해당 상품이 장바구니에 추가된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 추가 완료 시 사용자에게 알림이 표시된다</li>
</ul>
<p><strong>상품 검색</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품명 기반 검색을 위한 텍스트 입력 필드가 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 검색 버튼 클릭으로 검색이 수행된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> Enter 키로 검색이 수행된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 검색어와 일치하는 상품들만 목록에 표시된다</li>
</ul>
<p><strong>카테고리 선택</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 사용 가능한 카테고리들을 선택할 수 있는 UI가 제공된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 선택된 카테고리에 해당하는 상품들만 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 전체 상품 보기로 돌아갈 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 2단계 카테고리 구조를 지원한다 (1depth, 2depth)</li>
</ul>
<p><strong>카테고리 네비게이션</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 현재 선택된 카테고리 경로가 브레드크럼으로 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 브레드크럼의 각 단계를 클릭하여 상위 카테고리로 이동할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> &quot;전체&quot; &gt; &quot;1depth 카테고리&quot; &gt; &quot;2depth 카테고리&quot; 형태로 표시된다</li>
</ul>
<p><strong>현재 상품 수 표시</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 현재 조건에서 조회된 총 상품 수가 화면에 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 검색이나 필터 적용 시 상품 수가 실시간으로 업데이트된다</li>
</ul>
<h4 id="장바구니"><a class="anchor" aria-hidden="true" tabindex="-1" href="#장바구니"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>장바구니</h4>
<p><strong>장바구니 모달</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니 아이콘 클릭 시 모달 형태로 장바구니가 열린다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> X 버튼이나 배경 클릭으로 모달을 닫을 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> ESC 키로 모달을 닫을 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 모달에서 장바구니의 모든 기능을 사용할 수 있다</li>
</ul>
<p><strong>장바구니 수량 조절</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 장바구니 상품의 수량을 증가할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 장바구니 상품의 수량을 감소할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 수량 변경 시 총 금액이 실시간으로 업데이트된다</li>
</ul>
<p><strong>장바구니 삭제</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 상품에 삭제 버튼이 배치되어 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 삭제 버튼 클릭 시 해당 상품이 장바구니에서 제거된다</li>
</ul>
<p><strong>장바구니 선택 삭제</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 각 상품에 선택을 위한 체크박스가 제공된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 선택 삭제 버튼이 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 체크된 상품들만 일괄 삭제된다</li>
</ul>
<p><strong>장바구니 전체 선택</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 모든 상품을 한 번에 선택할 수 있는 마스터 체크박스가 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 전체 선택 시 모든 상품의 체크박스가 선택된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 전체 해제 시 모든 상품의 체크박스가 해제된다</li>
</ul>
<p><strong>장바구니 비우기</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니에 있는 모든 상품을 한 번에 삭제할 수 있다</li>
</ul>
<h4 id="상품-상세"><a class="anchor" aria-hidden="true" tabindex="-1" href="#상품-상세"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>상품 상세</h4>
<p><strong>상품 클릭시 상세 페이지 이동</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 목록에서 상품 이미지나 상품 정보 클릭 시 상세 페이지로 이동한다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> URL이 <code>/product/{productId}</code> 형태로 변경된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품의 자세한 정보가 전용 페이지에서 표시된다</li>
</ul>
<p><strong>상품 상세 페이지 기능</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 이미지, 설명, 가격 등의 상세 정보가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 전체 화면을 활용한 상세 정보 레이아웃이 제공된다</li>
</ul>
<p><strong>상품 상세 - 장바구니 담기</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 상세 페이지에서 해당 상품을 장바구니에 추가할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 페이지 내에서 수량을 선택하여 장바구니에 추가할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 수량 증가/감소 버튼이 제공된다</li>
</ul>
<p><strong>관련 상품 기능</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 상세 페이지에서 관련 상품들이 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 같은 카테고리(category2)의 다른 상품들이 관련 상품으로 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 관련 상품 클릭 시 해당 상품의 상세 페이지로 이동한다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 현재 보고 있는 상품은 관련 상품에서 제외된다</li>
</ul>
<p><strong>상품 상세 페이지 내 네비게이션</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 상세에서 상품 목록으로 돌아가는 버튼이 제공된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 브레드크럼을 통해 카테고리별 상품 목록으로 이동할 수 있다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> SPA 방식으로 페이지 간 이동이 부드럽게 처리된다</li>
</ul>
<h4 id="사용자-피드백-시스템"><a class="anchor" aria-hidden="true" tabindex="-1" href="#사용자-피드백-시스템"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>사용자 피드백 시스템</h4>
<p><strong>토스트 메시지</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니 추가 시 성공 메시지가 토스트로 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니 삭제, 선택 삭제, 전체 삭제 시 알림 메시지가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 토스트는 3초 후 자동으로 사라진다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 토스트에 닫기 버튼이 제공된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 토스트 타입별로 다른 스타일이 적용된다 (success, info, error)</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<h4 id="spa-네비게이션-및-url-관리"><a class="anchor" aria-hidden="true" tabindex="-1" href="#spa-네비게이션-및-url-관리"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>SPA 네비게이션 및 URL 관리</h4>
<p><strong>페이지 이동</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 어플리케이션 내의 모든 페이지 이동(뒤로가기/앞으로가기를 포함)은 하여 새로고침이 발생하지 않아야 한다.</li>
</ul>
<p><strong>상품 목록 - URL 쿼리 반영</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 검색어가 URL 쿼리 파라미터에 저장된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 카테고리 선택이 URL 쿼리 파라미터에 저장된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 옵션이 URL 쿼리 파라미터에 저장된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 정렬 조건이 URL 쿼리 파라미터에 저장된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 조건 변경 시 URL이 자동으로 업데이트된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> URL을 통해 현재 검색/필터 상태를 공유할 수 있다</li>
</ul>
<p><strong>상품 목록 - 새로고침 시 상태 유지</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후 URL 쿼리에서 검색어가 복원된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후 URL 쿼리에서 카테고리가 복원된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후 URL 쿼리에서 옵션 설정이 복원된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후 URL 쿼리에서 정렬 조건이 복원된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 복원된 조건에 맞는 상품 데이터가 다시 로드된다</li>
</ul>
<p><strong>장바구니 - 새로고침 시 데이터 유지</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니 내용이 브라우저에 저장된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후에도 이전 장바구니 내용이 유지된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 장바구니의 선택 상태도 함께 유지된다</li>
</ul>
<p><strong>상품 상세 - URL에 ID 반영</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 상품 상세 페이지 이동 시 상품 ID가 URL 경로에 포함된다 (<code>/product/{productId}</code>)</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> URL로 직접 접근 시 해당 상품의 상세 페이지가 자동으로 로드된다</li>
</ul>
<p><strong>상품 상세 - 새로고침시 유지</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로고침 후에도 URL의 상품 ID를 읽어서 해당 상품 상세 페이지가 유지된다</li>
</ul>
<p><strong>404 페이지</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 존재하지 않는 경로 접근 시 404 에러 페이지가 표시된다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 홈으로 돌아가기 버튼이 제공된다</li>
</ul>
<h4 id="ai로-한-번-더-구현하기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ai로-한-번-더-구현하기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>AI로 한 번 더 구현하기</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 기존에 구현한 기능을 AI로 다시 구현한다.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 이 과정에서 직접 가공하는 것은 최대한 지양한다.</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<!-- -->
<p>사실 이번 과제를 하면서 가장 크게 느낀 건, 우리가 일상처럼 쓰고 있는 SPA라는 기술이 얼마나 거대한 구조물 위에서 돌아가고 있는지였습니다.</p>
<p>평소 아무렇지 않게 쓰던 useState와 useEffect 내부 동작을 직접 구현해보면서, React에서는 setState를 호출하면 화면이 알아서 좋은 타이밍에 갱신되고, useEffect는 적당히 알아서 부수효과를 수행해주니까 그냥 편하게 쓰기만 하면 됐는데, 막상 비슷한 기능을 스스로 만들어보려고 하니 너무나도 복잡하게 느껴졌습니다.</p>
<p>상태를 바꾸기만 하면 되는 게 아니라, 어떤 컴포넌트가 이 상태를 구독하는지, 언제 렌더링을 트리거해야 하는지, 이전 상태와 비교해서 실제로 갱신할 필요가 있는지, 렌더링 우선순위는 어떤지, 렌더 순서가 뒤집히면 어떻게 안정성을 보장할지 이런 모든 문제들을 직접 마주하였습니다.</p>
<p>React는 이런 것들을 Fiber 아키텍처라는 괴물 같은 구조로 해결하고 있습니다. Fiber는 UI를 작은 단위의 작업 으로 쪼개서 스케줄링하고, 우선순위를 부여하고, 필요할 때는 렌더링을 미루기도 하고, 중단했다 다시 이어서 처리하기도 합니다.</p>
<p>Fiber는 모든 컴포넌트에 작업 단위를 부여하고, 그 단위들을 마치 운영체제의 프로세스처럼 관리합니다.
이 구조가 있으니까 useEffect가 mount → update → cleanup → unmount 로 나뉘어 실행될 수 있는 거고, setState가 여러 번 호출돼도 적절히 묶어서 한 번에 처리될 수 있던 걸 아마 이번 과제를 통해서 useState 와 useEffect 의 구현 시도를 해보셨다면 다들 느끼셨을 거 같습니다.</p>
<p>또 React는 DOM을 매번 갈아엎는 게 아니라, Reconciliation이라는 비교 알고리즘을 통해 딱 필요한 부분만 업데이트합니다.
이 알고리즘을 직접 구현해보면 좋았겠지만 우선은 과제 통과에 시간을 많이들여서 시도해보지는 못했습니다.
그래도 Reconciliation으로 가상 DOM이 실제 DOM보다 빠르다게 이래서 그랬구나 하고 간접적으로 느껴봤습니다.</p>
<p>SPA를 직접 구현해보니, 라우팅, 상태 관리, DOM 업데이트, 비동기 처리, 최적화 등..
React와 Next가 그동안 조용히 대신해주고 있던 작업들이 얼마나 많았는지 체감하였습니다.</p>
<p>그러다 보니 이번 과제는 단순히 기능을 만드는 시간이 아니라, 우리가 당연하게 쓰는 기술이 실제로 어떤 원리를 품고 있는지 직접 들여다보는 시간을 준거 같아서 매우 만족하고있습니다. 기능 구현과 과제 통과에 많은 시간을 들였지만 이번 과제가 아니였다면 평소에 얻지 못했을 깨달음이어서 더욱 값진 시간이었습니다.</p>
<h3 id="기술적-성장"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기술적-성장"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기술적 성장</h3>
<!-- -->
<p>React Fiber의 필요성</p>
<ul>
<li>컴포넌트별 state 격리</li>
<li>동시 렌더링 가능</li>
<li>우선순위 처리</li>
</ul>
<p>Hooks 규칙의 이유</p>
<ul>
<li>호출 순서로 state 구분</li>
<li>순서가 바뀌면 states 배열 꼬임</li>
<li>Fiber로도 순서는 필요</li>
</ul>
<p>Store vs Component State</p>
<ul>
<li>Store: 의도적 공유</li>
<li>Component State: 독립적 관리</li>
<li>구현: useState의 기능을 구현했다 생각했지만 Store로 작용하고있던 어처구니 없는 구현(?)</li>
</ul>
<p>렌더링의 복잡성</p>
<ul>
<li>Batching 필요</li>
<li>Virtual DOM 유용</li>
<li>부분 렌더링 어려움</li>
</ul>
<p>import.meta.env.MODE 와 process.env.NODE_ENV 의 차이</p>
<ul>
<li><a href="https://bepyan.me/post/process-import-meta/">참고링크1</a></li>
<li><a href="https://pozafly.github.io/environment/why-do-you-use-import-meta-in-vite/">참고링크2</a></li>
</ul>
<h3 id="자랑하고-싶은-코드"><a class="anchor" aria-hidden="true" tabindex="-1" href="#자랑하고-싶은-코드"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>자랑하고 싶은 코드</h3>
<!-- -->
<h3 id="개선이-필요하다고-생각하는-코드"><a class="anchor" aria-hidden="true" tabindex="-1" href="#개선이-필요하다고-생각하는-코드"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>개선이 필요하다고 생각하는 코드</h3>
<p>전체적으로 추상화가 부족하고 main에 몰려있는 상태여서 리팩토링을 전체적으로 진행해야합니다.</p>
<!-- -->
<h3 id="학습-효과-분석"><a class="anchor" aria-hidden="true" tabindex="-1" href="#학습-효과-분석"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>학습 효과 분석</h3>
<!-- -->
<p>가장 큰 배움이 있었던 부분</p>
<p>사실 완벽히 이해했다기보다는 이제는 그냥 사용하기보다는 이해하려 시도하는 첫발을 내디뎠다 생각합니다.
&quot;직접 만들어보니 React가 왜 이렇게 설계되었는지 엿볼 수 있었다.&quot;</p>
<ul>
<li>React의 제약사항 = 내부 구현의 필연적 결과</li>
<li>Hooks 규칙 = index 기반 설계의 부작용</li>
<li>Fiber = 전역 배열 한계의 해결책</li>
<li>Virtual DOM = 효율적 렌더링의 열쇠</li>
</ul>
<p>코드를 사용하는 것과 코드를 이해하는 것의 차이를 체감했습니다.</p>
<p>추가 학습이 필요한 영역</p>
<ul>
<li>
<p>Fiber 구조 공부</p>
</li>
<li>
<p>Reconciliation 알고리즘</p>
</li>
<li>
<p>Priority Queue</p>
</li>
<li>
<p>Time Slicing</p>
</li>
<li>
<p>Virtual DOM 구현</p>
</li>
<li>
<p>diff 알고리즘</p>
</li>
<li>
<p>patch 최적화</p>
</li>
</ul>
<h3 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h3>
<!-- -->
<p>이번 과제가 좋았던 이유는 단순히 동작하는 SPA를 만들었다는 성취감보다도, 그 과정에서 라우팅, 상태 관리, 렌더링 사이클이라는 근본적인 영역들을 직접 만져볼 수 있었다는 점입니다.</p>
<h3 id="ai-활용-경험-공유하기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ai-활용-경험-공유하기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>AI 활용 경험 공유하기</h3>
<!-- -->
<p>AI로 &quot;직접 만들어보면 이해할 수 있지 않을까?&quot; 라는 생각으로 시작했습니다.
개인적으로 프로젝트를 생성하여 같은 환경을 구성하여 작업하였습니다.
아쉬운건..직접 만들고 경험하면서 아 잘못만들었다~하고 히스토리를 제대로 남겨놓지 않아서
PR에 경험 공유에 대한 내용이 많이 유실된거같아 아쉬운 마음입니다.</p>
<p>React를 사용하면서 늘 궁금했던 것들이 있는데,</p>
<ul>
<li>useState는 어떻게 상태를 기억하는가?</li>
<li>useEffect는 언제, 어떻게 실행되는가?</li>
</ul>
<p>1단계</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> states <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">useState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">initialValue</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> currentIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>  <span class="token comment">// 클로저로 캡처</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>states<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token keyword nil">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    states<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span> <span class="token operator">=</span> initialValue<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">setState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    states<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span> <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
</span><span class="code-line">    index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// 리렌더링 시 인덱스 초기화</span>
</span><span class="code-line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  index<span class="token operator">++</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>states<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> setState<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="const states = [];
let index = 0;

const useState = (initialValue) =&gt; {
  const currentIndex = index;  // 클로저로 캡처

  if (states[currentIndex] === undefined) {
    states[currentIndex] = initialValue;
  }

  const setState = (newValue) =&gt; {
    states[currentIndex] = newValue;
    index = 0;  // 리렌더링 시 인덱스 초기화
    render();
  };

  index++;
  return [states[currentIndex], setState];
};

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>클로저: currentIndex가 각 useState마다 고유하게 캡처됨</li>
<li>배열: 여러 상태를 순서대로 저장</li>
<li>인덱스: 렌더링마다 0부터 시작해서 순서 보장</li>
</ul>
<p>2단계</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">setState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 함수형 업데이트 지원</span>
</span><span class="code-line">  <span class="token keyword">const</span> nextValue <span class="token operator">=</span> <span class="token keyword">typeof</span> newValue <span class="token operator">===</span> <span class="token string">&#x27;function&#x27;</span>
</span><span class="code-line">    <span class="token operator">?</span> <span class="token function">newValue</span><span class="token punctuation">(</span>states<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token operator">:</span> newValue<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// Object.is()로 비교 </span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">is</span><span class="token punctuation">(</span>states<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> nextValue<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>  <span class="token comment">// 같으면 리렌더링 스킵</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  states<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span> <span class="token operator">=</span> nextValue<span class="token punctuation">;</span>
</span><span class="code-line">  index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="const setState = (newValue) =&gt; {
  // 함수형 업데이트 지원
  const nextValue = typeof newValue === &#x27;function&#x27;
    ? newValue(states[currentIndex])
    : newValue;

  // Object.is()로 비교 
  if (Object.is(states[currentIndex], nextValue)) {
    return;  // 같으면 리렌더링 스킵
  }

  states[currentIndex] = nextValue;
  index = 0;
  render();
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>함수형 업데이트로 최신 상태 보장</li>
<li>성능 최적화: 같은 값이면 리렌더링 스킵</li>
</ul>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> effects <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">useEffect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">effect<span class="token punctuation">,</span> deps</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> currentIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> prevEffect <span class="token operator">=</span> effects<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// deps 변경 감지</span>
</span><span class="code-line">  <span class="token keyword">const</span> hasChanged <span class="token operator">=</span>
</span><span class="code-line">    <span class="token operator">!</span>prevEffect <span class="token operator">||</span>
</span><span class="code-line">    <span class="token operator">!</span>deps <span class="token operator">||</span>
</span><span class="code-line">    deps<span class="token punctuation">.</span><span class="token method function property-access">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">dep<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token operator">!</span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">is</span><span class="token punctuation">(</span>dep<span class="token punctuation">,</span> prevEffect<span class="token punctuation">.</span><span class="token property-access">deps</span><span class="token operator">?.</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>hasChanged<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// 이전 cleanup 실행</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>prevEffect<span class="token operator">?.</span>cleanup<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      prevEffect<span class="token punctuation">.</span><span class="token method function property-access">cleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// effect 실행</span>
</span><span class="code-line">    <span class="token keyword">const</span> cleanup <span class="token operator">=</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 저장</span>
</span><span class="code-line">    effects<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> deps<span class="token punctuation">,</span> cleanup <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  index<span class="token operator">++</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="const effects = [];

const useEffect = (effect, deps) =&gt; {
  const currentIndex = index;
  const prevEffect = effects[currentIndex];

  // deps 변경 감지
  const hasChanged =
    !prevEffect ||
    !deps ||
    deps.some((dep, i) =&gt; !Object.is(dep, prevEffect.deps?.[i]));

  if (hasChanged) {
    // 이전 cleanup 실행
    if (prevEffect?.cleanup) {
      prevEffect.cleanup();
    }

    // effect 실행
    const cleanup = effect();

    // 저장
    effects[currentIndex] = { deps, cleanup };
  }

  index++;
};

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>Mount: deps가 없거나 처음 실행 → effect 실행</li>
<li>Update: deps 배열의 값이 변경 → cleanup → effect 실행</li>
<li>Unmount: cleanup 함수 실행</li>
</ul>
<p>cleanup은 다음 effect 실행 전에 실행됨!</p>
<p>Observer 패턴 Router 구현을 구현하면서 멘토링 시간과 평일 QA에 본걸 기반으로 만들어보려했는데 이해를 못했습니다..
사실 notify를 제안한 클로드한테 아래 처럼 물어봤는데도..아니 구독자들한테 알림을 주면 뭐가 좋은데? 하면서
물어봤지만 그래도..명확히 해결을 못했습니다.</p>
<p>Q: subscribe/notify가 뭐야?</p>
<p>A: 유튜브 구독 개념!</p>
<ul>
<li>subscribe = 구독 신청</li>
<li>notify = 새 영상 알림</li>
<li>callback = 내가 보는 행동</li>
</ul>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">createRouter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> currentPath <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">.</span><span class="token property-access">pathname</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> subscribers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">subscribe</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    subscribers<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">notify</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    subscribers<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">callback</span> <span class="token arrow operator">=&gt;</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    currentPath <span class="token operator">=</span> path<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">history</span><span class="token punctuation">.</span><span class="token method function property-access">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 구독자들에게 알림!</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 브라우저 뒤로가기 감지</span>
</span><span class="code-line">  <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;popstate&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    currentPath <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">.</span><span class="token property-access">pathname</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> subscribe<span class="token punctuation">,</span> push<span class="token punctuation">,</span> <span class="token literal-property property">path</span><span class="token operator">:</span> currentPath <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="const createRouter = () =&gt; {
  let currentPath = window.location.pathname;
  const subscribers = [];

  const subscribe = (callback) =&gt; {
    subscribers.push(callback);
  };

  const notify = () =&gt; {
    subscribers.forEach(callback =&gt; callback());
  };

  const push = (path) =&gt; {
    currentPath = path;
    window.history.pushState({}, &#x27;&#x27;, path);
    notify();  // 구독자들에게 알림!
  };

  // 브라우저 뒤로가기 감지
  window.addEventListener(&#x27;popstate&#x27;, () =&gt; {
    currentPath = window.location.pathname;
    notify();
  });

  return { subscribe, push, path: currentPath };
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>Router 에 Quuer 파라미터 구현도 같이 하기</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">getQuery</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">.</span><span class="token property-access">search</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> query <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    query<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> query<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">setQuery</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">newQuery</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> currentQuery <span class="token operator">=</span> <span class="token function">getQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> updatedQuery <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>currentQuery<span class="token punctuation">,</span> <span class="token spread operator">...</span>newQuery <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 빈 값 제거</span>
</span><span class="code-line">  <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>updatedQuery<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>updatedQuery<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">delete</span> updatedQuery<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>updatedQuery<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> queryString <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> newUrl <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>queryString <span class="token operator">?</span> <span class="token string">&#x27;?&#x27;</span> <span class="token operator">+</span> queryString <span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">push</span><span class="token punctuation">(</span>newUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="const getQuery = () =&gt; {
  const params = new URLSearchParams(window.location.search);
  const query = {};
  for (const [key, value] of params) {
    query[key] = value;
  }
  return query;
};

const setQuery = (newQuery) =&gt; {
  const currentQuery = getQuery();
  const updatedQuery = { ...currentQuery, ...newQuery };

  // 빈 값 제거
  Object.keys(updatedQuery).forEach(key =&gt; {
    if (!updatedQuery[key]) delete updatedQuery[key];
  });

  const params = new URLSearchParams(updatedQuery);
  const queryString = params.toString();
  const newUrl = `${currentPath}${queryString ? &#x27;?&#x27; + queryString : &#x27;&#x27;}`;

  push(newUrl);
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>그리고 다시 api 요청을 하고 확인하던 중 문제를 발견해서 고쳐보기도하고..</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// ❌ 잘못된 코드</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  currentPath <span class="token operator">=</span> path<span class="token punctuation">;</span>  <span class="token comment">// &#x27;/products?search=laptop&#x27;</span>
</span><span class="code-line">  <span class="token comment">// → pathname과 query가 섞임!</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// ✅ 수정</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">.</span><span class="token property-access">origin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  currentPath <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token property-access">pathname</span><span class="token punctuation">;</span>  <span class="token comment">// &#x27;/products&#x27;만 저장</span>
</span><span class="code-line">  <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">history</span><span class="token punctuation">.</span><span class="token method function property-access">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// ❌ 잘못된 코드
const push = (path) =&gt; {
  currentPath = path;  // &#x27;/products?search=laptop&#x27;
  // → pathname과 query가 섞임!
};

// ✅ 수정
const push = (path) =&gt; {
  const url = new URL(path, window.location.origin);
  currentPath = url.pathname;  // &#x27;/products&#x27;만 저장
  window.history.pushState({}, &#x27;&#x27;, path);
  notify();
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>useEffect가 실행 안 됨 (부분 렌더링 시도)</p>
<p>시도한 것</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// 숫자만 업데이트하려고 시도</span>
</span><span class="code-line"><span class="token keyword">const</span> countDisplay <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&#x27;count-display&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">countDisplay<span class="token punctuation">.</span><span class="token property-access">textContent</span> <span class="token operator">=</span> count<span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// 숫자만 업데이트하려고 시도
const countDisplay = document.getElementById(&#x27;count-display&#x27;);
countDisplay.textContent = count;
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>문제: useEffect hooks이 재실행되지 않음 (Counter 함수를 다시 안 불러서)</p>
<ul>
<li>React의 Virtual DOM 필요성 이해</li>
<li>부분 렌더링은 생각보다 복잡함</li>
</ul>
<p>문제: Query 변경 시 UI 업데이트 안 됨</p>
<p>증상: 검색, 카테고리 변경해도 화면 그대로</p>
<pre><code class="code-highlight"><span class="code-line">// router.push() 내부
</span><span class="code-line">currentPath = &#x27;/products?search=laptop&#x27;;  // ❌ query 포함
</span></code><div class="copied" data-code="// router.push() 내부
currentPath = &#x27;/products?search=laptop&#x27;;  // ❌ query 포함
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>해결:  currentPath에 query까지 저장되어 라우팅 로직 망가지는거같아 URL 파싱해서 pathname만 추출하여 사용했습니다.</p>
<p>그리고 진짜 크리티컬한 문제들은..렌더링이 3번 일어나는데..useState 에서 문제를 찾았습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token number">1</span><span class="token literal-property property">번</span><span class="token operator">:</span> loading<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">products</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token number">2</span><span class="token literal-property property">번</span><span class="token operator">:</span> loading<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">products</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">12</span>개<span class="token punctuation">]</span>   ← 왜<span class="token operator">?</span>
</span><span class="code-line"><span class="token number">3</span><span class="token literal-property property">번</span><span class="token operator">:</span> loading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">products</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">12</span>개<span class="token punctuation">]</span>
</span></code><div class="copied" data-code="1번: loading: true, products: []
2번: loading: true, products: [12개]   ← 왜?
3번: loading: false, products: [12개]
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>클로드와 찾아본 문제의 원인은 아래 코드라는데 음..</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">setProducts</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token property-access">products</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1번 렌더링</span>
</span><span class="code-line">  <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 2번 렌더링</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code><div class="copied" data-code=".then((data) =&gt; {
  setProducts(data.products);  // 1번 렌더링
  setLoading(false);            // 2번 렌더링
})
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>React는 각 setState마다 렌더링 트리거</li>
<li>React 18의 Automatic Batching이 해결</li>
<li>현재 구현은 batching 없음 → 2번 렌더링 정상</li>
</ul>
<p>라는 깨달음을 얻고..</p>
<p>전역 Hooks 인스턴스 = Store? 라는 문제가 일어났습니다..useState가</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// hooks.js</span>
</span><span class="code-line"><span class="token keyword">const</span> states <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// ← 모든 컴포넌트가 공유</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// ProductList</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>products<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// states[0]</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// states[1]</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// OtherComponent (만약 동시 렌더링)</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// states[2] ← 섞임!</span>
</span></code><div class="copied" data-code="// hooks.js
const states = [];  // ← 모든 컴포넌트가 공유

// ProductList
const [products] = useState([]);  // states[0]
const [loading] = useState(true);  // states[1]

// OtherComponent (만약 동시 렌더링)
const [data] = useState(null);  // states[2] ← 섞임!
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>구현: Store처럼 작동 (전역 배열)</li>
<li>의도: Component State (격리)</li>
<li>제약: 한 번에 하나의 컴포넌트만 렌더링</li>
</ul>
<p>라는 문제로 useState 구현을 완전이 잘못했다...라고 생각하고 useEffect와 useState 방식으로 본 과제의 리팩토링은 못했습니다.</p>
<p>그래도 이러한 문제들도,</p>
<p>Fiber 아키텍처를 공부해야하고.  Fiber 아키텍처가</p>
<ul>
<li>각 컴포넌트마다 독립된 Fiber 노드</li>
<li>각 Fiber에 독립된 states 배열</li>
</ul>
<p>가능하다는걸 깨달았습니다. Fiber 에 대해 항상 들어보긴 했지만 스윽 읽고 넘어가고 했었는데 결국 이렇게 공부하는 날이 왔습니다.</p>
<p>이번에는 그래도 실패했지만,,다음주에 다룬다고 들었던거같은데 다시 한번 츄라이 해보겠습니다.</p>
<p>그리고 아...잘못만들었네 하고 클로드한테 하소연 하니까</p>
<p>React 역사의 필연성</p>
<p>시행착오:</p>
<ol>
<li>2013: Class Component → setState 하나로 관리</li>
<li>2015: 성능 문제 → Fiber 아키텍처 구상</li>
<li>2017: Fiber 완성 → 컴포넌트별 격리</li>
<li>2019: Hooks 출시 → Fiber 덕분에 가능</li>
</ol>
<p>우리의 여정 = React의 역사를 경험했다. 라고 위로해주던데 이번 과제 덕분에 이런거도 해보고 조금 더 고민해보고 생각하는 법을 배운거같습니다. 근데 이게 AI 활용경험 공유가 맞나..?우선 실패한 경험입니다. 🤣</p>
<h2 id="리뷰-받고-싶은-내용"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용</h2>
</div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>안녕하세요 재윤님! 4주차 과제 잘 진행해주셨네요 ㅎㅎ 고생하셨습니다!
특히 회고에 남겨주신 재윤님의 깨달음이 인상적이네요.
useState, useEffect 등을 어떤식으로 구현할 수 있는지 살펴보는 과정도 좋았어요!</p>
<p>다만 리뷰 받고 싶은 부분이 없는 것 같아서 아쉽네요 ㅎㅎ 피드백은 여기서 마무리하도록 하겠습니다! 고생하셨습니다!</p>
<p>궁금한점 생기면 어제든 디스코드를 통해 문의주세요~
5주차 과제는 재윤님께 흥미로운 과제가 될 것 같네요 ㅋㅋ</p></div></div><div class="mt-9"></div></div></main></div></div></div>
    <title>[5팀 진재윤] Chapter2-1. 프레임워크 없이 SPA 만들기  - 진재윤 | 항해플러스 프론트엔드 7기</title>
    <meta name="description" content=" [항해플러스 프론트엔드 7기] 진재윤님이 제출한 [5팀 진재윤] Chapter2-1. 프레임워크 없이 SPA 만들기  과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="keywords" content="항해플러스, 프론트엔드, 개발자교육, React, TypeScript, JavaScript, 기술면접, 웹개발, 진재윤, [5팀 진재윤] Chapter2-1. 프레임워크 없이 SPA 만들기 , 과제상세, 코드리뷰, 피드백, Pull Request" />
    <meta property="og:title" content="[5팀 진재윤] Chapter2-1. 프레임워크 없이 SPA 만들기  - 진재윤 | 항해플러스 프론트엔드 7기" />
    <meta property="og:description" content=" [항해플러스 프론트엔드 7기] 진재윤님이 제출한 [5팀 진재윤] Chapter2-1. 프레임워크 없이 SPA 만들기  과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta property="og:image" content="/defaultThumbnail.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="[5팀 진재윤] Chapter2-1. 프레임워크 없이 SPA 만들기  - 진재윤 | 항해플러스 프론트엔드 7기" />
    <meta name="twitter:description" content=" [항해플러스 프론트엔드 7기] 진재윤님이 제출한 [5팀 진재윤] Chapter2-1. 프레임워크 없이 SPA 만들기  과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="twitter:image" content="/defaultThumbnail.jpg" />
  <!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/front_7th/favicon.ico"/>
  <!--app-head-->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6J8QP7YK1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-6J8QP7YK1E');
  </script>
  <script type="module" crossorigin src="/front_7th/assets/index-C-edMQf_.js"></script>
  <link rel="stylesheet" crossorigin href="/front_7th/assets/index-B1cXSvNG.css">
</head>
<body>
<div id="root"><!--app-html--></div>
</body>
</html>
