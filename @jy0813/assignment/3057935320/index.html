<link rel="preload" as="image" href="https://github.com/user-attachments/assets/f7da2321-6b7d-4cfc-b86d-dd63b1a39dde"/><link rel="preload" as="image" href="https://github.com/user-attachments/assets/2f5fe888-94cb-4f80-8205-5d12077e059a"/><link rel="preload" as="image" href="https://github.com/user-attachments/assets/3854c61f-1cc1-48b4-a432-7ae802789cb7"/><link rel="preload" as="image" href="https://github.com/user-attachments/assets/31ba0a1b-0054-41b3-9a86-cafce43df7f0"/><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_7th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">7기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_7th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_7th/@jy0813/" data-discover="true">jy0813<!-- --> 님의 상세페이지</a> ＞ <!-- -->[5팀 진재윤] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_7th_chapter3-2/pull/21" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[5팀 진재윤] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->jy0813</span><span>2025.12.01</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="배포링크"><a class="anchor" aria-hidden="true" tabindex="-1" href="#배포링크"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>배포링크</h2>
<ul>
<li><a href="https://jy0813.github.io/front_7th_chapter3-2/">https://jy0813.github.io/front_7th_chapter3-2/</a></li>
</ul>
<h2 id="과제의-핵심취지"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제의-핵심취지"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제의 핵심취지</h2>
<ul>
<li>React의 hook 이해하기</li>
<li>함수형 프로그래밍에 대한 이해</li>
<li>액션과 순수함수의 분리</li>
</ul>
<h2 id="과제에서-꼭-알아가길-바라는-점"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제에서-꼭-알아가길-바라는-점"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제에서 꼭 알아가길 바라는 점</h2>
<ul>
<li>엔티티를 다루는 상태와 그렇지 않은 상태 - cart, isCartFull vs isShowPopup</li>
<li>엔티티를 다루는 컴포넌트와 훅 - CartItemView, useCart(), useProduct()</li>
<li>엔티티를 다루지 않는 컴포넌트와 훅 - Button, useRoute, useEvent 등</li>
<li>엔티티를 다루는 함수와 그렇지 않은 함수 - calculateCartTotal(cart) vs capaitalize(str)</li>
</ul>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li>
<p>Component에서 비즈니스 로직을 분리하기</p>
</li>
<li>
<p>비즈니스 로직에서 특정 엔티티만 다루는 계산을 분리하기</p>
</li>
<li>
<p>뷰데이터와 엔티티데이터의 분리에 대한 이해</p>
</li>
<li>
<p>entities -&gt; features -&gt; UI 계층에 대한 이해</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 함수는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 Component와 UI를 다루는 Component는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 데이터 흐름에 맞는 계층구조를 이루고 의존성이 맞게 작성이 되었나요?</p>
</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<ul class="contains-task-list">
<li>
<p>이번 심화과제는 Context나 Jotai를 사용해서 Props drilling을 없애는 것입니다.</p>
</li>
<li>
<p>어떤 props는 남겨야 하는지, 어떤 props는 제거해야 하는지에 대한 기준을 세워보세요.</p>
</li>
<li>
<p>Context나 Jotai를 사용하여 상태를 관리하는 방법을 익히고, 이를 통해 컴포넌트 간의 데이터 전달을 효율적으로 처리할 수 있습니다.</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Context나 Jotai를 사용해서 전역상태관리를 구축했나요? (Zustand 사용)</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 전역상태관리를 통해 domain custom hook을 적절하게 리팩토링 했나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 도메인 컴포넌트에 도메인 props는 남기고 props drilling을 유발하는 불필요한 props는 잘 제거했나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 전체적으로 분리와 재조립이 더 수월해진 결합도가 낮아진 코드가 되었나요?</p>
</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<!-- -->
<p>회고에 앞서, FSD 아키텍처 개념을 적용하여 과제를 진행한 구조 입니다! 모든 구조를 다 적기에는 PR 이 너무 방대해질거같아 계층 구조와 폴더 구조만 정리하였습니다.</p>
<h4 id="레이어-계층-구조"><a class="anchor" aria-hidden="true" tabindex="-1" href="#레이어-계층-구조"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>레이어 계층 구조</h4>
<pre><code class="code-highlight"><span class="code-line">┌─────────────────────────────────────────────────────────────┐
</span><span class="code-line">│                         App Layer                            │
</span><span class="code-line">│                    (최상위 조립 레이어)                       │
</span><span class="code-line">└─────────────────────────────────────────────────────────────┘
</span><span class="code-line">                              │
</span><span class="code-line">                              ↓
</span><span class="code-line">┌─────────────────────────────────────────────────────────────┐
</span><span class="code-line">│                        Pages Layer                           │
</span><span class="code-line">│               (화면 단위 레이아웃 구성)                       │
</span><span class="code-line">└─────────────────────────────────────────────────────────────┘
</span><span class="code-line">                              │
</span><span class="code-line">                              ↓
</span><span class="code-line">┌─────────────────────────────────────────────────────────────┐
</span><span class="code-line">│                       Widgets Layer                          │
</span><span class="code-line">│           (Entities + Features 조합 UI 블록)                 │
</span><span class="code-line">└─────────────────────────────────────────────────────────────┘
</span><span class="code-line">                              │
</span><span class="code-line">                              ↓
</span><span class="code-line">┌─────────────────────────────────────────────────────────────┐
</span><span class="code-line">│                      Features Layer                          │
</span><span class="code-line">│            (사용자 액션, 비즈니스 로직 실행)                  │
</span><span class="code-line">└─────────────────────────────────────────────────────────────┘
</span><span class="code-line">                              │
</span><span class="code-line">                              ↓
</span><span class="code-line">┌─────────────────────────────────────────────────────────────┐
</span><span class="code-line">│                      Entities Layer                          │
</span><span class="code-line">│         (도메인 데이터, 순수함수, 표시용 UI)                  │
</span><span class="code-line">└─────────────────────────────────────────────────────────────┘
</span><span class="code-line">                              │
</span><span class="code-line">                              ↓
</span><span class="code-line">┌─────────────────────────────────────────────────────────────┐
</span><span class="code-line">│                       Shared Layer                           │
</span><span class="code-line">│             (범용 유틸리티, UI 컴포넌트, 설정)                │
</span><span class="code-line">└─────────────────────────────────────────────────────────────┘
</span></code><div class="copied" data-code="┌─────────────────────────────────────────────────────────────┐
│                         App Layer                            │
│                    (최상위 조립 레이어)                       │
└─────────────────────────────────────────────────────────────┘
                              │
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                        Pages Layer                           │
│               (화면 단위 레이아웃 구성)                       │
└─────────────────────────────────────────────────────────────┘
                              │
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                       Widgets Layer                          │
│           (Entities + Features 조합 UI 블록)                 │
└─────────────────────────────────────────────────────────────┘
                              │
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                      Features Layer                          │
│            (사용자 액션, 비즈니스 로직 실행)                  │
└─────────────────────────────────────────────────────────────┘
                              │
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                      Entities Layer                          │
│         (도메인 데이터, 순수함수, 표시용 UI)                  │
└─────────────────────────────────────────────────────────────┘
                              │
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                       Shared Layer                           │
│             (범용 유틸리티, UI 컴포넌트, 설정)                │
└─────────────────────────────────────────────────────────────┘
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h4 id="basic-구조"><a class="anchor" aria-hidden="true" tabindex="-1" href="#basic-구조"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Basic 구조</h4>
<pre><code class="code-highlight"><span class="code-line">src/basic/
</span><span class="code-line">├── App.tsx                              # [FSD] app 레이어 - 최상위 조립
</span><span class="code-line">├── pages/                               # [FSD] pages 레이어 - 화면 단위 배치
</span><span class="code-line">│   ├── ShopPage.tsx                     # [도메인] 쇼핑 화면 (ProductList + CartList)
</span><span class="code-line">│   └── AdminPage.tsx                    # [도메인] 관리자 화면 (Product/Coupon 관리)
</span><span class="code-line">├── widgets/                             # [FSD] widgets 레이어 - 독립적 UI 블록
</span><span class="code-line">│   ├── header/ui/HeaderWidget.tsx       # [도메인] 헤더 - 검색 + 네비게이션
</span><span class="code-line">│   ├── product/ui/                      # [도메인] 상품 관련 위젯
</span><span class="code-line">│   │   ├── ProductListWidget.tsx        # [역할] 쇼핑몰용 상품 목록
</span><span class="code-line">│   │   └── AdminProductWidget.tsx       # [역할] 관리자용 상품 CRUD
</span><span class="code-line">│   ├── cart/ui/CartListWidget.tsx       # [도메인] 장바구니 + 결제
</span><span class="code-line">│   └── coupon/ui/AdminCouponWidget.tsx  # [도메인] 관리자용 쿠폰 CRUD
</span><span class="code-line">├── features/                            # [FSD] features 레이어 - 사용자 액션
</span><span class="code-line">│   ├── cart/ui/                         # [도메인] 장바구니 액션
</span><span class="code-line">│   │   ├── AddToCartButton.tsx          # [액션] 장바구니 담기
</span><span class="code-line">│   │   ├── CartItemControl.tsx          # [액션] 수량 조절 (+/-)
</span><span class="code-line">│   │   └── RemoveCartItemButton.tsx     # [액션] 아이템 삭제
</span><span class="code-line">│   ├── order/ui/PlaceOrderButton.tsx    # [도메인] 주문 - 결제하기
</span><span class="code-line">│   ├── product/ui/ProductForm.tsx       # [도메인] 상품 - 추가/수정 폼
</span><span class="code-line">│   └── coupon/ui/CouponForm.tsx         # [도메인] 쿠폰 - 생성 폼
</span><span class="code-line">├── entities/                            # [FSD] entities 레이어 - 도메인 핵심
</span><span class="code-line">│   ├── cart/                            # [도메인] 장바구니 엔티티
</span><span class="code-line">│   │   ├── config/index.ts              # [세그먼트] 설정값 (BULK_THRESHOLD 등)
</span><span class="code-line">│   │   ├── lib/{item,stock,summary}.ts  # [세그먼트] 순수함수 - 계산 로직
</span><span class="code-line">│   │   ├── model/{types,useCart}.ts     # [세그먼트] 타입 + 상태관리 Hook
</span><span class="code-line">│   │   └── ui/{CartItem,...}.tsx        # [세그먼트] 표시용 UI 컴포넌트
</span><span class="code-line">│   ├── product/                         # [도메인] 상품 엔티티
</span><span class="code-line">│   │   ├── config/index.ts              # [세그먼트] 설정값 (ID_PREFIX 등)
</span><span class="code-line">│   │   ├── lib/{price,stock,...}.ts     # [세그먼트] 순수함수 - 가격/재고 계산
</span><span class="code-line">│   │   ├── model/{types,data,...}.ts    # [세그먼트] 타입 + 초기데이터 + Hook
</span><span class="code-line">│   │   └── ui/{ProductCard,...}.tsx     # [세그먼트] 표시용 UI 컴포넌트
</span><span class="code-line">│   └── coupon/                          # [도메인] 쿠폰 엔티티
</span><span class="code-line">│       ├── config/index.ts              # [세그먼트] 설정값 (MIN_ORDER 등)
</span><span class="code-line">│       ├── lib/{math,display,...}.ts    # [세그먼트] 순수함수 - 할인 계산
</span><span class="code-line">│       ├── model/{types,data,...}.ts    # [세그먼트] 타입 + 초기데이터 + Hook
</span><span class="code-line">│       └── ui/{CouponCard,...}.tsx      # [세그먼트] 표시용 UI 컴포넌트
</span><span class="code-line">└── shared/                              # [FSD] shared 레이어 - 범용 코드
</span><span class="code-line">    ├── config/storageKeys.ts            # [세그먼트] 전역 설정 (localStorage 키)
</span><span class="code-line">    ├── hooks/{useDebounce,...}.ts       # [세그먼트] 범용 커스텀 훅
</span><span class="code-line">    ├── lib/formatters.ts                # [세그먼트] 범용 유틸 (통화 포맷 등)
</span><span class="code-line">    └── ui/{Button,Input,...}.tsx        # [세그먼트] 범용 UI 컴포넌트 (디자인시스템)
</span></code><div class="copied" data-code="src/basic/
├── App.tsx                              # [FSD] app 레이어 - 최상위 조립
├── pages/                               # [FSD] pages 레이어 - 화면 단위 배치
│   ├── ShopPage.tsx                     # [도메인] 쇼핑 화면 (ProductList + CartList)
│   └── AdminPage.tsx                    # [도메인] 관리자 화면 (Product/Coupon 관리)
├── widgets/                             # [FSD] widgets 레이어 - 독립적 UI 블록
│   ├── header/ui/HeaderWidget.tsx       # [도메인] 헤더 - 검색 + 네비게이션
│   ├── product/ui/                      # [도메인] 상품 관련 위젯
│   │   ├── ProductListWidget.tsx        # [역할] 쇼핑몰용 상품 목록
│   │   └── AdminProductWidget.tsx       # [역할] 관리자용 상품 CRUD
│   ├── cart/ui/CartListWidget.tsx       # [도메인] 장바구니 + 결제
│   └── coupon/ui/AdminCouponWidget.tsx  # [도메인] 관리자용 쿠폰 CRUD
├── features/                            # [FSD] features 레이어 - 사용자 액션
│   ├── cart/ui/                         # [도메인] 장바구니 액션
│   │   ├── AddToCartButton.tsx          # [액션] 장바구니 담기
│   │   ├── CartItemControl.tsx          # [액션] 수량 조절 (+/-)
│   │   └── RemoveCartItemButton.tsx     # [액션] 아이템 삭제
│   ├── order/ui/PlaceOrderButton.tsx    # [도메인] 주문 - 결제하기
│   ├── product/ui/ProductForm.tsx       # [도메인] 상품 - 추가/수정 폼
│   └── coupon/ui/CouponForm.tsx         # [도메인] 쿠폰 - 생성 폼
├── entities/                            # [FSD] entities 레이어 - 도메인 핵심
│   ├── cart/                            # [도메인] 장바구니 엔티티
│   │   ├── config/index.ts              # [세그먼트] 설정값 (BULK_THRESHOLD 등)
│   │   ├── lib/{item,stock,summary}.ts  # [세그먼트] 순수함수 - 계산 로직
│   │   ├── model/{types,useCart}.ts     # [세그먼트] 타입 + 상태관리 Hook
│   │   └── ui/{CartItem,...}.tsx        # [세그먼트] 표시용 UI 컴포넌트
│   ├── product/                         # [도메인] 상품 엔티티
│   │   ├── config/index.ts              # [세그먼트] 설정값 (ID_PREFIX 등)
│   │   ├── lib/{price,stock,...}.ts     # [세그먼트] 순수함수 - 가격/재고 계산
│   │   ├── model/{types,data,...}.ts    # [세그먼트] 타입 + 초기데이터 + Hook
│   │   └── ui/{ProductCard,...}.tsx     # [세그먼트] 표시용 UI 컴포넌트
│   └── coupon/                          # [도메인] 쿠폰 엔티티
│       ├── config/index.ts              # [세그먼트] 설정값 (MIN_ORDER 등)
│       ├── lib/{math,display,...}.ts    # [세그먼트] 순수함수 - 할인 계산
│       ├── model/{types,data,...}.ts    # [세그먼트] 타입 + 초기데이터 + Hook
│       └── ui/{CouponCard,...}.tsx      # [세그먼트] 표시용 UI 컴포넌트
└── shared/                              # [FSD] shared 레이어 - 범용 코드
    ├── config/storageKeys.ts            # [세그먼트] 전역 설정 (localStorage 키)
    ├── hooks/{useDebounce,...}.ts       # [세그먼트] 범용 커스텀 훅
    ├── lib/formatters.ts                # [세그먼트] 범용 유틸 (통화 포맷 등)
    └── ui/{Button,Input,...}.tsx        # [세그먼트] 범용 UI 컴포넌트 (디자인시스템)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h4 id="advanced-구조-basic--zustand"><a class="anchor" aria-hidden="true" tabindex="-1" href="#advanced-구조-basic--zustand"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Advanced 구조 (Basic + Zustand)</h4>
<pre><code class="code-highlight"><span class="code-line">src/advanced/
</span><span class="code-line">├── App.tsx                              # [FSD] app 레이어 - Toast 렌더링 + 페이지 전환
</span><span class="code-line">├── pages/                               # [FSD] pages 레이어 - onShowToast Props 제거됨
</span><span class="code-line">│   ├── ShopPage.tsx                     # [변경] Props: searchTerm만 (onShowToast 제거)
</span><span class="code-line">│   └── AdminPage.tsx                    # [변경] Props 없음 (onShowToast 제거)
</span><span class="code-line">├── widgets/                             # [FSD] widgets 레이어 - Domain Hook 사용
</span><span class="code-line">│   ├── header/ui/HeaderWidget.tsx       # [변경] useCart() 사용 (배지 카운트)
</span><span class="code-line">│   ├── product/ui/
</span><span class="code-line">│   │   ├── ProductListWidget.tsx        # [변경] useProductList() + useCart()
</span><span class="code-line">│   │   └── AdminProductWidget.tsx       # [변경] useProductList() + useToast()
</span><span class="code-line">│   ├── cart/ui/CartListWidget.tsx       # [변경] useCart() + useCouponList()
</span><span class="code-line">│   └── coupon/ui/AdminCouponWidget.tsx  # [변경] useCouponList() + useToast()
</span><span class="code-line">├── features/                            # [FSD] features 레이어 - useToast() 직접 호출
</span><span class="code-line">│   ├── cart/ui/
</span><span class="code-line">│   │   ├── AddToCartButton.tsx          # [변경] useCart() + useToast() 직접 사용
</span><span class="code-line">│   │   ├── CartItemControl.tsx          # [변경] useCart() + useToast()
</span><span class="code-line">│   │   └── RemoveCartItemButton.tsx     # [변경] useCart() + useToast()
</span><span class="code-line">│   ├── order/ui/PlaceOrderButton.tsx    # [변경] useCart() + useToast()
</span><span class="code-line">│   ├── product/ui/ProductForm.tsx       # [변경] useProductList() + useToast()
</span><span class="code-line">│   └── coupon/ui/CouponForm.tsx         # [변경] useCouponList() + useToast()
</span><span class="code-line">├── entities/                            # [FSD] entities 레이어 - Domain Hook이 Store 래핑
</span><span class="code-line">│   ├── cart/
</span><span class="code-line">│   │   ├── config/index.ts              # Basic과 동일
</span><span class="code-line">│   │   ├── lib/{item,stock,summary}.ts  # Basic과 동일 (순수함수)
</span><span class="code-line">│   │   ├── model/
</span><span class="code-line">│   │   │   ├── types.ts                 # Basic과 동일
</span><span class="code-line">│   │   │   └── useCart.ts               # [변경] cartStore 래핑 → Domain Hook
</span><span class="code-line">│   │   └── ui/{CartItem,...}.tsx        # Basic과 동일
</span><span class="code-line">│   ├── product/
</span><span class="code-line">│   │   ├── model/useProductList.ts      # [변경] productStore 래핑 → Domain Hook
</span><span class="code-line">│   │   └── ...                          # 나머지 Basic과 동일
</span><span class="code-line">│   └── coupon/
</span><span class="code-line">│       ├── model/useCouponList.ts       # [변경] couponStore 래핑 → Domain Hook
</span><span class="code-line">│       └── ...                          # 나머지 Basic과 동일
</span><span class="code-line">└── shared/                              # [FSD] shared 레이어 - Zustand Store 추가
</span><span class="code-line">    ├── config/storageKeys.ts            # [용도] Store persist 키 정의
</span><span class="code-line">    ├── hooks/
</span><span class="code-line">    │   ├── useDebounce.ts               # [용도] 검색어 debounce (300ms)
</span><span class="code-line">    │   └── useToast.ts                  # [변경] toastStore 래핑 → Utility Hook
</span><span class="code-line">    ├── lib/formatters.ts                # Basic과 동일
</span><span class="code-line">    ├── stores/                          # [신규] Zustand 전역 상태 저장소
</span><span class="code-line">    │   ├── index.ts                     # [역할] 통합 export
</span><span class="code-line">    │   ├── toastStore.ts                # [역할] 알림 상태 (휘발성, persist 없음)
</span><span class="code-line">    │   ├── cartStore.ts                 # [역할] 장바구니 상태 (persist 적용)
</span><span class="code-line">    │   ├── productStore.ts              # [역할] 상품 상태 (persist 적용)
</span><span class="code-line">    │   └── couponStore.ts               # [역할] 쿠폰 상태 (persist 적용)
</span><span class="code-line">    └── ui/{Button,Input,...}.tsx        # Basic과 동일
</span><span class="code-line">
</span></code><div class="copied" data-code="src/advanced/
├── App.tsx                              # [FSD] app 레이어 - Toast 렌더링 + 페이지 전환
├── pages/                               # [FSD] pages 레이어 - onShowToast Props 제거됨
│   ├── ShopPage.tsx                     # [변경] Props: searchTerm만 (onShowToast 제거)
│   └── AdminPage.tsx                    # [변경] Props 없음 (onShowToast 제거)
├── widgets/                             # [FSD] widgets 레이어 - Domain Hook 사용
│   ├── header/ui/HeaderWidget.tsx       # [변경] useCart() 사용 (배지 카운트)
│   ├── product/ui/
│   │   ├── ProductListWidget.tsx        # [변경] useProductList() + useCart()
│   │   └── AdminProductWidget.tsx       # [변경] useProductList() + useToast()
│   ├── cart/ui/CartListWidget.tsx       # [변경] useCart() + useCouponList()
│   └── coupon/ui/AdminCouponWidget.tsx  # [변경] useCouponList() + useToast()
├── features/                            # [FSD] features 레이어 - useToast() 직접 호출
│   ├── cart/ui/
│   │   ├── AddToCartButton.tsx          # [변경] useCart() + useToast() 직접 사용
│   │   ├── CartItemControl.tsx          # [변경] useCart() + useToast()
│   │   └── RemoveCartItemButton.tsx     # [변경] useCart() + useToast()
│   ├── order/ui/PlaceOrderButton.tsx    # [변경] useCart() + useToast()
│   ├── product/ui/ProductForm.tsx       # [변경] useProductList() + useToast()
│   └── coupon/ui/CouponForm.tsx         # [변경] useCouponList() + useToast()
├── entities/                            # [FSD] entities 레이어 - Domain Hook이 Store 래핑
│   ├── cart/
│   │   ├── config/index.ts              # Basic과 동일
│   │   ├── lib/{item,stock,summary}.ts  # Basic과 동일 (순수함수)
│   │   ├── model/
│   │   │   ├── types.ts                 # Basic과 동일
│   │   │   └── useCart.ts               # [변경] cartStore 래핑 → Domain Hook
│   │   └── ui/{CartItem,...}.tsx        # Basic과 동일
│   ├── product/
│   │   ├── model/useProductList.ts      # [변경] productStore 래핑 → Domain Hook
│   │   └── ...                          # 나머지 Basic과 동일
│   └── coupon/
│       ├── model/useCouponList.ts       # [변경] couponStore 래핑 → Domain Hook
│       └── ...                          # 나머지 Basic과 동일
└── shared/                              # [FSD] shared 레이어 - Zustand Store 추가
    ├── config/storageKeys.ts            # [용도] Store persist 키 정의
    ├── hooks/
    │   ├── useDebounce.ts               # [용도] 검색어 debounce (300ms)
    │   └── useToast.ts                  # [변경] toastStore 래핑 → Utility Hook
    ├── lib/formatters.ts                # Basic과 동일
    ├── stores/                          # [신규] Zustand 전역 상태 저장소
    │   ├── index.ts                     # [역할] 통합 export
    │   ├── toastStore.ts                # [역할] 알림 상태 (휘발성, persist 없음)
    │   ├── cartStore.ts                 # [역할] 장바구니 상태 (persist 적용)
    │   ├── productStore.ts              # [역할] 상품 상태 (persist 적용)
    │   └── couponStore.ts               # [역할] 쿠폰 상태 (persist 적용)
    └── ui/{Button,Input,...}.tsx        # Basic과 동일

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이 과제를 시작할 때 저는 FSD 아키텍처가 뭔지도 제대로 몰랐습니다. 그냥 폴더 구조를 잘 나누면 되겠지 라는 안일한 생각으로 시작했습니다.그런데 막상 1100줄짜리 <code>App.tsx</code>를 마주하니, 어디서부터 손을 대야 할지 막막했습니다. 어디서부터 분리해야 하지?</p>
<p>FSD 문서를 읽어보니 레이어가 6개나 있었습니다. <code>app</code>, <code>pages</code>, <code>widgets</code>, <code>features</code>, <code>entities</code>, <code>shared</code>, 각각의 역할은 대충 이해했는데, 문제는 뭘 먼저 분리해야 하는가였습니다. (Processes 도 있었다는데 더 이상 사용되지 않다고 봤습니다!)</p>
<p>처음엔 shared부터 건드렸습니다. 항상 회사에서도 프로젝트를 시작하면 공통 UI 부터 만들었기에 공통으로 쓰는 것부터 빼면 나머지가 명확해지겠지 라는 논리였습니다. <code>Button</code>, <code>Input</code>, <code>Select</code> 같은 UI 컴포넌트들을 <code>shared/ui</code>로 옮기고, <code>formatCurrency</code> 같은 유틸 함수를 <code>shared/lib</code>로 옮겼습니다.</p>
<p>그리고 이 때 <code>shared/lib</code> 을 나누면서 순수함수에 대해서도 처음 생각 해본건데 아래와 같은 재밌는 얘기도 나눠서 좋았습니다.</p>
<p>
  <img src="https://github.com/user-attachments/assets/f7da2321-6b7d-4cfc-b86d-dd63b1a39dde" width="49%"/>
  <img src="https://github.com/user-attachments/assets/2f5fe888-94cb-4f80-8205-5d12077e059a" width="49%"/>
</p>
<p>
  <img src="https://github.com/user-attachments/assets/3854c61f-1cc1-48b4-a432-7ae802789cb7" width="49%"/>
  <img src="https://github.com/user-attachments/assets/31ba0a1b-0054-41b3-9a86-cafce43df7f0" width="49%"/>
</p>
<p>다시 돌아와서, <code>shared</code>를 정의하고 이제 막상 해보니 <code>App.tsx</code>에서 갈아 끼울 만한 게 별로 없었습니다.
<code>shared</code>는 말 그대로 도구 모음이지, 비즈니스 로직이 아니었습니다.</p>
<p><code>Button</code>을 아무리 예쁘게 분리해도, 1100줄짜리 스파게티는 그대로였습니다. 방향이 틀렸다는 걸 깨달았고,  처음에는 <code>refactoring(hint)</code> 폴더에 있는걸 보고 그 구조 그대로 그냥 따라하자! 엔티티를 알고 모델을 알고 이런거 알면  그냥 이번 과제에서 원하는건 가져가는거 아니야? 라는 생각으로 만들어놓은 <code>shared</code>를 지우고..막상 또 <code>refactoring(hint)</code> 를 하려다보니... 어차피 이것도 결국은 힌트가 있더라도 다 알고 나누고 적용해야하는거면 그냥 원래대로 FSD 아키텍쳐를 적용해보는게 좋은거 아닌가..?
라는 생각이 들었습니다. 그래서 접근을 바꿨습니다. 이 앱에서 관리하는 상태가 뭐지? 부터 정리했습니다.</p>
<p>상태(State)를 기준으로 다시 생각하기</p>
<ul>
<li>products: 상품 목록</li>
<li>cart: 장바구니 아이템들</li>
<li>coupons: 쿠폰 목록</li>
<li>toast: 알림 메시지</li>
</ul>
<p>상태를 나열하고 보니, 이게 곧 도메인이었습니다. <code>FSD</code>에서 <code>entities</code>가 도메인 핵심 데이터를 다룬다고 했는데, 바로 이거였고. 상품, 장바구니, 쿠폰. 각각이 독립적인 데이터 덩어리이고, 이걸 중심으로 폴더를 나누면 되겠구나 싶었습니다.</p>
<p>여기서 첫 번째 기준이 생겼습니다. 상태가 곧 도메인이고, 도메인이 곧 <code>entities</code> 폴더의 이름이 된다.
그런데 <code>entities</code> 안에 뭘 넣어야 하지? <code>entities/cart</code> 폴더를 만들긴 했는데, 이 안에 뭘 넣어야 할지 또 헷갈렸습니다.
useCart hook? CartItem 컴포넌트? getCartTotal 함수? 전부 장바구니 관련이긴 한데, 성격이 다 달라서 힘들었습니다...</p>
<p><code>FSD</code> 문서에서 <code>세그먼트(segment)</code>라는 개념을 봤습니다. <code>model</code>, <code>ui</code> , <code>api</code> . 이걸 보고 나름의 기준을 <code>model</code>, <code>lib</code>, <code>ui</code>, <code>config</code> 로 정했습니다.</p>






























<table><thead><tr><th>세그먼트</th><th>내가 이해한 기준</th><th>예시</th></tr></thead><tbody><tr><td>config</td><td>변하지 않는 상수</td><td>BULK_DISCOUNT_THRESHOLD = 10</td></tr><tr><td>model</td><td>타입 정의 + 상태 관리 Hook</td><td>CartItem 인터페이스, useCart()</td></tr><tr><td>lib</td><td>순수하게 계산만 하는 함수</td><td>getCartSummary()</td></tr><tr><td>ui</td><td>props 받아서 그리기만 하는 컴포넌트</td><td><cartitem></cartitem></td></tr></tbody></table>
<p>근데 솔직히 이 기준도 처음부터 명확했던 건 아니었습니다. <code>createProduct()</code> 같은 팩토리 함수는 lib일까 model일까?
한참 고민하다가, 데이터의 탄생을 다루니까 <code>model</code> 이라고 결론을 내리고 정답인지는 모르겠지만, 일관된 기준을 세우고 그걸 따르는 게 중요하다고 생각했습니다.</p>
<p>가장 혼란스러웠던 건 <code>entities</code>와 <code>features</code>의 경계였고, 둘 다 비즈니스 로직을 다루는 것 같은데, 뭐가 다른 거지?
<code>addProduct</code>, <code>removeProduct</code> 같은 함수가 대표적이었습니다.</p>
<p>상품을 추가하는 건 기능(feature)처럼 느껴지고, 동시에 상품 배열을 조작하는 데이터 로직이라는 생각이 들었습니다.
고민 끝에 저희 5팀 대장 수범님의 리얼월드 비유 방식이 상당히 좋아보여서 ai에게 비유를 하나 만들어달라하니, <code>Entity</code>는 냉장고, <code>Feature</code>는 요리사라고 바로 역할을 분담해주더니 설명해줬습니다.</p>
<p>냉장고는 누가 문을 열든 상관없이 재료를 보관하고 꺼내주는 역할만 하고 닭고기 넣어줘, 우유 꺼내줘 같은 요청에 응답할 뿐, 그걸로 뭘 만들지는 관심 없고, 반면 요리사는 냉장고에서 재료를 꺼내 실제로 요리를 완성합니다.
사용자가 저녁 뭐 먹지? 라고 물으면 그에 맞는 시나리오를 실행한다는 리얼월드의 비유가 생기니까 애매했던 것들이 제자리를 찾아갔습니다.</p>
<ul>
<li>addToCart(product) → 냉장고에 재료 넣기 → Entity</li>
<li>handleSubmitProductForm() → 폼 검증하고 제출하기 → Feature</li>
<li>getCartSummary(cart, coupon) → 영수증 계산 → Entity lib (순수함수)</li>
</ul>
<p>폴더 구조를 어느 정도 잡고 나니, 다음 문제가 나타났습니다. <code>onShowToast</code> 함수를 연결하려는데, <code>App</code>에서 만든 함수가 버튼까지 가려면 4단계를 거쳐야 하는데 기본과제인 <code>basic</code>에서 전역상태 관리를 제한해놓으니 중간에 있는 <code>ShopPage</code>와 <code>ProductListWidget</code>은 이 함수를 쓰지도 않는데 그냥 아래로 던지기만하고 전달만 하는 역할을 하고 있었습니다.</p>
<p>그래도 심화과제인 <code>advanced</code> 에서는 전역상태 관리를 사용 가능하여, <code>Toast</code>처럼 앱 어디서든 호출되어야 하는 것이나 <code>Cart</code>처럼 여러 페이지에서 공유하는 것들은 전역상태를 적용가능했습니다.</p>
<p><code>searchTerm</code> 전역상태 관리를 할까하다가 검색어는 <code>HeaderWidget</code>에서 입력하고 <code>ShopPage</code> 안의 <code>ProductListWidget</code>에서 사용하는데, 둘이 직접 데이터를 주고받을 수 없으니까, 공통으로 감싸는 <code>App</code>에서 <code>searchTerm</code> 상태를 관리하고 각각에 <code>Props</code>로 내려주는 방식을 썼습니다.</p>
<p>이것도 그냥 전역으로 올리면 편하지 않나? 싶기도 했지만, 검색어는 쇼핑 페이지에서만 의미 있는 값이니까 굳이 전역일 필요가 없다고 판단했습니다. 그래서 3단계 이내의 전달은 허용, 그 이상이면 전역상태로 만들었습니다. 아마 이게 주요 학습 목표중 하나인 <code>Props</code>의 명시성과 전역 상태 관리의 편의성 사이의 균형점 찾기 라고 생각했습니다.</p>
<p><code>zustand</code>로<code>Store</code>를 만들고 나서 또 하나 고민이었던게 있었습니다.
컴포넌트에서 <code>Store</code>를 직접 import할 것인가, 아니면 <code>Hook</code>으로 감쌀 것인가. 처음엔 그냥 <code>Store</code> 바로 쓰면 코드가 짧은데 라고 생각했는데 <code>FSD</code> 원칙을 다시 읽어보니, <code>Store</code>는 <code>shared</code> 레이어에 있고 <code>Feature/Widget</code>은 그보다 상위 레이어이고,</p>
<p>상위 레이어가 하위 레이어를 의존하는 건 맞지만, 구현 세부사항에 직접 의존하면 나중에 바꾸기 어려워진다는 걸 보고 <code>entities</code>에 <code>Domain Hook</code>에 <code>Store</code>를 감싸서 사용하였습니다. 컴포넌트는 <code>useCart()</code>만 알면 되고 내부에서 <code>zustand</code>를 쓰든 <code>Jotai</code>를 쓰든 신경 쓸 필요가 없고 나중에 상태 관리 라이브러리를 바꾸더라도 <code>Hook</code> 내부만 수정하면 되니 편리해진 코드가 되었습니다.</p>
<p>돌아보며 이 과제에서 가장 많이 성장한 부분은 역시 어느 과제와 마찬가지로 코딩 실력이 아니라 왜? 라고 묻는 습관이었습니다. 왜 이 함수는 여기 있어야 하지? 왜 이건 전역이어야 하고 저건 <code>props</code>여야 하지? 왜 이 레이어는 저 레이어를 import하면 안 되지?
처음엔 남들이 좋다니까, 그렇게 하라고였던 것들이, 직접 삽질하고 나니 아, 이래서 그랬구나가 되었습니다.</p>
<pre class="language-md"><code class="language-md code-highlight"><span class="code-line">...오잉!? <span class="token code-snippet code keyword">`진재윤`</span>의 모습이...!
</span><span class="code-line">
</span><span class="code-line">축하합니다!  
</span><span class="code-line"><span class="token code-snippet code keyword">`진재윤`</span>은 <span class="token code-snippet code keyword">`도메인 중심 설계 개발자`</span>로 진화했습니다!
</span></code><div class="copied" data-code="...오잉!? `진재윤`의 모습이...!

축하합니다!  
`진재윤`은 `도메인 중심 설계 개발자`로 진화했습니다!
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="과제를-하면서-내가-알게된-점-좋았던-점은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-하면서-내가-알게된-점-좋았던-점은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 하면서 내가 알게된 점, 좋았던 점은 무엇인가요?</h3>
<h4 id="분리의-시작점은-상태였다"><a class="anchor" aria-hidden="true" tabindex="-1" href="#분리의-시작점은-상태였다"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>분리의 시작점은 &quot;상태&quot;였다.</h4>
<p>처음엔 <code>shared</code> 폴더부터 정리하면 될 줄 알았는데, 그건 도구 정리였지 구조 설계가 아니었습니다. 진짜 분리는 이 앱이 관리하는 상태가 뭐지? 라는 질문에서 시작해야 했습니다.</p>
<p>상태를 나열하니 도메인이 보였고, 도메인을 중심으로 폴더를 나누니 자연스럽게 <code>FSD</code> 구조가 잡혔습니다. <code>entities/cart</code>, <code>entities/product</code>, <code>entities/coupon</code> 각각이 독립적인 데이터 영역이 되었습니다.</p>
<p>멘토링 시간에 과제에 대해서 어떻게 분리하는지 보여주신 준일코치님과 해당 멘토링을 보고 공유해주신 2팀 나리님 감사합니다!</p>
<h4 id="비유가-이해를-돕는다"><a class="anchor" aria-hidden="true" tabindex="-1" href="#비유가-이해를-돕는다"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>비유가 이해를 돕는다</h4>
<p>냉장고(Entity)와 요리사(Feature) 비유를 만들고 나서 경계가 명확해졌습니다.
추상적인 개념을 익숙한 것에 대입하니까, 이건 냉장고 역할이야 하고 바로 판단이 됐습니다.
의존성 방향도 마찬가지였습니다. 상품은 장바구니 없이 존재할 수 있지만, 장바구니는 상품 없이 존재할 수 없다. 이 한 문장으로  <code>getRemainingStock</code>이 왜 <code>Cart</code>도메인에 있어야 하는지 설명할 수 있게 되었습니다.
우리 5팀 대장 수범님 감사합니다! 6주차 코드리뷰에 보여주신 리얼월드 전략 넘 좋습니당!</p>
<h4 id="순수함수의-안도감"><a class="anchor" aria-hidden="true" tabindex="-1" href="#순수함수의-안도감"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>순수함수의 안도감</h4>
<p><code>getCartSummary</code>, <code>getMaxDiscount</code> 같은 계산 로직을 순수함수로 빼두니 마음이 편해졌습니다. 입력이 같으면 출력이 항상 같으니까, 다른 곳에서 무슨 일이 벌어지든 이 함수만큼은 믿을 수 있었습니다.</p>
<h4 id="완벽한-분리-보다-일관된-기준"><a class="anchor" aria-hidden="true" tabindex="-1" href="#완벽한-분리-보다-일관된-기준"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>완벽한 분리 보다 일관된 기준</h4>
<p>모든 경계가 아 이거는 이 경계야! 하고 명확할 순 없었습니다. 애매한 경우도 많긴했습니다. 중요한 건 내 나름의 기준을 세우고, 그걸 일관되게 적용하는 것이었습니다. 정답이 없는 영역에서는 일관성을 따르는게 중요하다는걸 배웠습니다.</p>
<h3 id="이번-과제에서-내가-제일-신경-쓴-부분은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#이번-과제에서-내가-제일-신경-쓴-부분은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>이번 과제에서 내가 제일 신경 쓴 부분은 무엇인가요?</h3>
<h4 id="레이어-간-의존성-방향-지키기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#레이어-간-의존성-방향-지키기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>레이어 간 의존성 방향 지키기</h4>
<p><code>FSD</code>의 핵심 규칙 중 하나가 상위 레이어는 하위 레이어만 import할 수 있다 입니다.
<code>app</code> → <code>pages</code> → <code>widgets</code> → <code>features</code> → <code>entities</code> → <code>shared</code> 이 방향을 거스르면 안 됩니다.</p>
<p>처음엔 솔직히 당연한 소리 아닌가? 그냥 import 안 하면 되는 거잖아 라고 생각했습니다. 왜 이렇게까지 강조하는지 잘 와닿지 않았습니다.
그런데 전역 상태를 적용하면서 생각이 바뀌었고 Zustand Store를 여기저기서 직접 import하다 보니, 나중에 <code>Store</code> 구조를 바꾸려면 의존하는 파일을 전부 수정해야 하는 상황이 됐습니다.</p>
<p>구현 세부사항에 직접 의존하면 바꾸기 어려워진다는 게 이런 거구나, 체감이 됐습니다.
그래서 의존성 방향을 의식하면서 다시 정리했는데, <code>Store</code>는 <code>shared</code>에 두고, <code>Domain Hook</code>으로 감싸서 <code>entities</code>에서 노출하고, <code>Features</code>나 <code>Widgets</code>는 <code>Hook</code>만 사용하게. 이렇게 규칙을 지키고 나니 전역 상태가 들어와도 코드 흐름이 예측 가능해졌습니다.
어떤 파일을 열어도 얘가 의존하는 건 아래 레이어뿐이구나 라는 확신이 생겼습니다.</p>
<h4 id="함수를-쪼개되-조합할-수-있게-만들기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#함수를-쪼개되-조합할-수-있게-만들기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>함수를 쪼개되, 조합할 수 있게 만들기</h4>
<p>순수함수를 분리하면서 고민한 건 어디까지 쪼갤 것인가였습니다. 예를 들어 <code>getPriceLabel</code> 함수가 있습니다.</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> getPriceLabel <span class="token operator">=</span> <span class="token punctuation">(</span>
</span><span class="code-line">  product<span class="token operator">:</span> Product<span class="token punctuation">,</span>
</span><span class="code-line">  usedQuantity<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> stockLabel <span class="token operator">=</span> <span class="token function">getStockLabel</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> usedQuantity<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>stockLabel<span class="token punctuation">)</span> <span class="token keyword">return</span> stockLabel<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">₩</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">formatPrice</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export const getPriceLabel = (
  product: Product,
  usedQuantity: number = 0,
): string =&gt; {
  const stockLabel = getStockLabel(product, usedQuantity);
  if (stockLabel) return stockLabel;

  return `₩${formatPrice(product.price)}`;
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이 함수는 <code>getStockLabel</code> 을 먼저 호출하고, 결과가 있으면(품절이면) 그걸 반환하고, 없으면 가격을 반환합니다.
처음엔 그냥 여기서 product.stock === 0 체크하면 되는 거 아냐? 라고 생각했습니다. 근데 getStockLabel은 다른 곳에서도 쓰입니다.</p>
<p>재고 표시 뱃지에서도 쓰이고, 버튼 비활성화 조건에서도 쓰입니다. 만약 <code>getPriceLabel</code> 안에서 재고 체크 로직을 직접 작성했다면, 같은 로직이 여러 군데 흩어졌을텐데... 재고 판단 기준이 바뀌면? 전부 찾아서 수정해야 합니다. 작은 함수를 만들되, 그걸 조합해서 더 큰 함수를 만드는 방식. 이게 순수함수의 진짜 장점이라는 걸 깨달았습니다. 각각은 한 가지 일만 하고, 필요하면 레고처럼 조립하면 된다! (코치님 아니라면 말씀해주세요..!)</p>
<h4 id="작은-기준들이-일관성을-만든다"><a class="anchor" aria-hidden="true" tabindex="-1" href="#작은-기준들이-일관성을-만든다"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>작은 기준들이 일관성을 만든다</h4>
<p>config와 data 파일을 분리할 때도 기준을 세웠습니다. 예를 들어 <code>BULK_DISCOUNT_THRESHOLD = 10</code>과 <code>initialProducts</code> 배열. 둘 다 코드에 박혀있는 값이라 비슷해 보이는데, 성격이 달랐습니다. <code>BULK_DISCOUNT_THRESHOLD</code>는 비즈니스 규칙입니다.</p>
<p>10개 이상 사면 할인 이라는 정책이고, 기획이 바뀌지 않는 한 이 숫자는 절대 안 바뀝니다. 반면 <code>initialProducts</code>는 상태의 초기값이고, 앱이 시작할 때 이 데이터로 상태가 만들어지고, 사용자가 상품을 추가하거나 삭제하면 달라집니다.</p>
<p>그래서 전자는 <code>config</code>에, 후자는 <code>model</code>에 두기로 했습니다. 남들이 보면 그게 그거 아니야? 라고 할 수도 있는데 이런 작은 기준들이 쌓이면 이 폴더엔 이런 성격의 파일이 있겠구나 라는 예측이 가능해지고 그게 코드베이스의 일관성이되어 파악이 쉬워집니다.</p>
<h4 id="배운-건-써먹어야-내-것이-된다"><a class="anchor" aria-hidden="true" tabindex="-1" href="#배운-건-써먹어야-내-것이-된다"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>배운 건 써먹어야 내 것이 된다</h4>
<p>저번 주차에 배운 <code>cn</code> 유틸리티 함수를 이번에 공통 컴포넌트 만들 때 써봤습니다. 기본 스타일을 정의해두고, 사용하는 쪽에서 필요하면 덮어쓸 수 있게 하는 건데 <code>Tailwind</code>는 같은 속성의 클래스가 여러 개 있으면 뭐가 적용될지 예측이 어려운데, <code>cn</code>이 이걸 알아서 정리해줘서 편했습니다.</p>
<p><code>Date.now()</code>로 <code>ID</code>를 만들다가 중복이 터졌을 때, 어차피 경고 인거같은데? 테스트는 통과하고 넘어갈 수도 있었어요. 그래도 <code>crypto.randomUUID()</code>로 바꿨습니다. 왜냐면 5주차에 <code>ID</code>는 리스트 렌더링할 때 <code>key</code>로 쓰이는데 <code>key</code>가 중복되면 React의 Reconciliation이 제대로 동작하지 않다는걸 배웠기 때문입니다.</p>
<h3 id="이번-과제를-통해-앞으로-해보고-싶은게-있다면-알려주세요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#이번-과제를-통해-앞으로-해보고-싶은게-있다면-알려주세요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>이번 과제를 통해 앞으로 해보고 싶은게 있다면 알려주세요!</h3>
<h4 id="함수형-프로그래밍-제대로-공부해보기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#함수형-프로그래밍-제대로-공부해보기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>함수형 프로그래밍 제대로 공부해보기</h4>
<p>이번 과제에서 순수함수의 장점을 조금이나마 체감했습니다. <code>getCartSummary</code>처럼 입력만 같으면 항상 같은 결과가 나오는 함수는 테스트하기도 쉽고, 어디서 불러도 부수효과가 없으니 사용하기 좋습니다.</p>
<p>작은 함수를 조합해서 큰 함수를 만드는 것도 아토믹 디자인 이 생각나기도 하고 재밌었습니다. 근데 솔직히 지금은 순수함수가 좋다더라 정도만 아는 수준이여서, 확실히 왜 좋은지, 어디까지 적용해야 하는지, 액션과 계산을 어떻게 분리하는 게 맞는지 깊이 있게 이해하진 못했습니다.
쏙쏙 들어오는 함수형 코딩 같은 책을 항해분들과 스터디를 하면서 이론적 기반을 쌓아보고 싶습니다.</p>
<h3 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문 편하게 남겨주세요 :)</h3>
<ul>
<li>
<p>이게 질문을 할만한건지 잘 모르겠는데..우선 다른분들보니 저와 다르게 전역상태로 관리하시는분들이 있어서 질문 드립니다!
<code>Toast</code>나 <code>Cart</code>처럼 앱 전체에서 접근해야 하는 건 <code>Zustand</code>로, <code>searchTerm</code> 처럼 특정 페이지 안에서만 의미 있는 건 <code>Props</code>로 유지했는데, 검색어는 <code>HeaderWidget</code>에서 입력하고 <code>ShopPage</code> 안의 <code>ProductListWidget</code>에서 사용하는데 둘이 직접 데이터를 주고받을 수 없으니까, 공통으로 감싸는 <code>App</code>에서 <code>searchTerm</code> 상태를 관리하고 각각에 <code>Props</code>로 내려주는 방식을 썼는데 <code>Props</code>와 전역상태관리 중 어떤게 더 좋은 선택일까요?</p>
</li>
<li>
<p><code>Header</code> 를 <code>widgets</code> 으로 분류 했는데, 최상위 조립 레이어로 보고 <code>App Layer</code>로 만드는게 더 좋은 선택이였을까요? 레이어 계층 구조가 화살표 순서가 아니고 의존 가능 방향이지만 그래도 <code>Pages Layer</code>와 <code>Widgets Layer</code> 로 같이 <code>App.tsx</code> 에 존재하는데 <code>App Layer</code> 로 분류했으면 이질감이 안들었을까 라고 회고 하면서 생각이 들었습니다.</p>
</li>
</ul></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>안녕하세요 재윤	님! 7주차 과제 잘 진행해주셨네요. 고생하셨습니다~!!</p>
<blockquote>
<p>Toast나 Cart처럼 앱 전체에서 접근해야 하는 건 Zustand로, searchTerm 처럼 특정 페이지 안에서만 의미 있는 건 Props로 유지했는데, 검색어는 HeaderWidget에서 입력하고 ShopPage 안의 ProductListWidget에서 사용하는데 둘이 직접 데이터를 주고받을 수 없으니까, 공통으로 감싸는 App에서 searchTerm 상태를 관리하고 각각에 Props로 내려주는 방식을 썼는데 Props와 전역상태관리 중 어떤게 더 좋은 선택일까요?</p>
</blockquote>
<p>저는 이렇게 구분하는 편입니다!</p>
<ol>
<li>도메인 데이터와 관련 있다 -&gt; Zustand 같은 상태관리 라이브러리를 통해 사용</li>
<li>UI 와 관련 있는데, 스코프가 넓다 -&gt; Context 를 이용하여 UI 데이터가 쓰이는 영역을 지정</li>
</ol>
<p>가령 Toast는 도메인과는 연관 없기 때문에 Context/Provider 를 통해 구성하고
Product의 경우 도메인과 관련있기 때문에 Zustand를 통해 구성하는거죠.</p>
<p>searchTerm의 경우에는 &quot;검색어&quot; 라는 키워드 하나만 놓고 보면 Zustand 일 수 있지만..
보통 검색어의 경우 queryParams 를 통해 관리하는 편입니다 ㅎㅎ 주소에 동기화 시키는거죠.
새로고침 했을 때에도 유지할 수 있고!?</p>
<blockquote>
<p>Header 를 widgets 으로 분류 했는데, 최상위 조립 레이어로 보고 App Layer로 만드는게 더 좋은 선택이였을까요? 레이어 계층 구조가 화살표 순서가 아니고 의존 가능 방향이지만 그래도 Pages Layer와 Widgets Layer 로 같이 App.tsx 에 존재하는데 App Layer 로 분류했으면 이질감이 안들었을까 라고 회고 하면서 생각이 들었습니다.</p>
</blockquote>
<p>widgets이 더 적합하다고 생각해요!
app layer는 보통 어플리케이션의 설정과 관련 있는 것들을 위치하는 경우가 많았던 것 같아요 ㅎㅎ</p></div></div><div class="mt-9"></div></div></main></div></div></div>
    <title>[5팀 진재윤] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 - 진재윤 | 항해플러스 프론트엔드 7기</title>
    <meta name="description" content=" [항해플러스 프론트엔드 7기] 진재윤님이 제출한 [5팀 진재윤] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="keywords" content="항해플러스, 프론트엔드, 개발자교육, React, TypeScript, JavaScript, 기술면접, 웹개발, 진재윤, [5팀 진재윤] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계, 과제상세, 코드리뷰, 피드백, Pull Request" />
    <meta property="og:title" content="[5팀 진재윤] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 - 진재윤 | 항해플러스 프론트엔드 7기" />
    <meta property="og:description" content=" [항해플러스 프론트엔드 7기] 진재윤님이 제출한 [5팀 진재윤] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta property="og:image" content="/defaultThumbnail.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="[5팀 진재윤] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 - 진재윤 | 항해플러스 프론트엔드 7기" />
    <meta name="twitter:description" content=" [항해플러스 프론트엔드 7기] 진재윤님이 제출한 [5팀 진재윤] Chapter3-2. 디자인 패턴과 함수형 프로그래밍 그리고 상태 관리 설계 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="twitter:image" content="/defaultThumbnail.jpg" />
  <!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/front_7th/favicon.ico"/>
  <!--app-head-->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6J8QP7YK1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-6J8QP7YK1E');
  </script>
  <script type="module" crossorigin src="/front_7th/assets/index-C-edMQf_.js"></script>
  <link rel="stylesheet" crossorigin href="/front_7th/assets/index-B1cXSvNG.css">
</head>
<body>
<div id="root"><!--app-html--></div>
</body>
</html>
